var H1=Object.create;var bp=Object.defineProperty,$1=Object.defineProperties,q1=Object.getOwnPropertyDescriptor,G1=Object.getOwnPropertyDescriptors,W1=Object.getOwnPropertyNames,Qy=Object.getOwnPropertySymbols,Jy=Object.getPrototypeOf,Xy=Object.prototype.hasOwnProperty,K1=Object.prototype.propertyIsEnumerable,Z1=Reflect.get;var Yy=(n,e,t)=>e in n?bp(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ke=(n,e)=>{for(var t in e||={})Xy.call(e,t)&&Yy(n,t,e[t]);if(Qy)for(var t of Qy(e))K1.call(e,t)&&Yy(n,t,e[t]);return n},it=(n,e)=>$1(n,G1(e));var eE=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var ke=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var Q1=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of W1(e))!Xy.call(n,i)&&i!==t&&bp(n,i,{get:()=>e[i],enumerable:!(r=q1(e,i))||r.enumerable});return n};var Tp=(n,e,t)=>(t=n!=null?H1(Jy(n)):{},Q1(e||!n||!n.__esModule?bp(t,"default",{value:n,enumerable:!0}):t,n));var Ui=(n,e,t)=>Z1(Jy(n),t,e);var j=(n,e,t)=>new Promise((r,i)=>{var s=h=>{try{u(t.next(h))}catch(f){i(f)}},a=h=>{try{u(t.throw(h))}catch(f){i(f)}},u=h=>h.done?r(h.value):Promise.resolve(h.value).then(s,a);u((t=t.apply(n,e)).next())});var c0=ke((ih,_D)=>{"use strict";(function(n,e){typeof ih=="object"&&typeof _D<"u"?e(ih):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis<"u"?globalThis:n||self,e(n.leaflet={}))})(ih,function(n){"use strict";var e="1.9.4";function t(o){var c,d,p,_;for(d=1,p=arguments.length;d<p;d++){_=arguments[d];for(c in _)o[c]=_[c]}return o}var r=Object.create||function(){function o(){}return function(c){return o.prototype=c,new o}}();function i(o,c){var d=Array.prototype.slice;if(o.bind)return o.bind.apply(o,d.call(arguments,1));var p=d.call(arguments,2);return function(){return o.apply(c,p.length?p.concat(d.call(arguments)):arguments)}}var s=0;function a(o){return"_leaflet_id"in o||(o._leaflet_id=++s),o._leaflet_id}function u(o,c,d){var p,_,x,F;return F=function(){p=!1,_&&(x.apply(d,_),_=!1)},x=function(){p?_=arguments:(o.apply(d,arguments),setTimeout(F,c),p=!0)},x}function h(o,c,d){var p=c[1],_=c[0],x=p-_;return o===p&&d?o:((o-_)%x+x)%x+_}function f(){return!1}function m(o,c){if(c===!1)return o;var d=Math.pow(10,c===void 0?6:c);return Math.round(o*d)/d}function v(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function E(o){return v(o).split(/\s+/)}function w(o,c){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?r(o.options):{});for(var d in c)o.options[d]=c[d];return o.options}function I(o,c,d){var p=[];for(var _ in o)p.push(encodeURIComponent(d?_.toUpperCase():_)+"="+encodeURIComponent(o[_]));return(!c||c.indexOf("?")===-1?"?":"&")+p.join("&")}var R=/\{ *([\w_ -]+) *\}/g;function P(o,c){return o.replace(R,function(d,p){var _=c[p];if(_===void 0)throw new Error("No value provided for variable "+d);return typeof _=="function"&&(_=_(c)),_})}var D=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function A(o,c){for(var d=0;d<o.length;d++)if(o[d]===c)return d;return-1}var V="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var z=0;function U(o){var c=+new Date,d=Math.max(0,16-(c-z));return z=c+d,window.setTimeout(o,d)}var N=window.requestAnimationFrame||B("RequestAnimationFrame")||U,C=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function T(o,c,d){if(d&&N===U)o.call(c);else return N.call(window,i(o,c))}function k(o){o&&C.call(window,o)}var S={__proto__:null,extend:t,create:r,bind:i,get lastId(){return s},stamp:a,throttle:u,wrapNum:h,falseFn:f,formatNum:m,trim:v,splitWords:E,setOptions:w,getParamString:I,template:P,isArray:D,indexOf:A,emptyImageUrl:V,requestFn:N,cancelFn:C,requestAnimFrame:T,cancelAnimFrame:k};function O(){}O.extend=function(o){var c=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=c.__super__=this.prototype,p=r(d);p.constructor=c,c.prototype=p;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(c[_]=this[_]);return o.statics&&t(c,o.statics),o.includes&&(M(o.includes),t.apply(null,[p].concat(o.includes))),t(p,o),delete p.statics,delete p.includes,p.options&&(p.options=d.options?r(d.options):{},t(p.options,o.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var x=0,F=p._initHooks.length;x<F;x++)p._initHooks[x].call(this)}},c},O.include=function(o){var c=this.prototype.options;return t(this.prototype,o),o.options&&(this.prototype.options=c,this.mergeOptions(o.options)),this},O.mergeOptions=function(o){return t(this.prototype.options,o),this},O.addInitHook=function(o){var c=Array.prototype.slice.call(arguments,1),d=typeof o=="function"?o:function(){this[o].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function M(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=D(o)?o:[o];for(var c=0;c<o.length;c++)o[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Z={on:function(o,c,d){if(typeof o=="object")for(var p in o)this._on(p,o[p],c);else{o=E(o);for(var _=0,x=o.length;_<x;_++)this._on(o[_],c,d)}return this},off:function(o,c,d){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var p in o)this._off(p,o[p],c);else{o=E(o);for(var _=arguments.length===1,x=0,F=o.length;x<F;x++)_?this._off(o[x]):this._off(o[x],c,d)}return this},_on:function(o,c,d,p){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(o,c,d)===!1){d===this&&(d=void 0);var _={fn:c,ctx:d};p&&(_.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(_)}},_off:function(o,c,d){var p,_,x;if(this._events&&(p=this._events[o],!!p)){if(arguments.length===1){if(this._firingCount)for(_=0,x=p.length;_<x;_++)p[_].fn=f;delete this._events[o];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var F=this._listens(o,c,d);if(F!==!1){var $=p[F];this._firingCount&&($.fn=f,this._events[o]=p=p.slice()),p.splice(F,1)}}},fire:function(o,c,d){if(!this.listens(o,d))return this;var p=t({},c,{type:o,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var _=this._events[o];if(_){this._firingCount=this._firingCount+1||1;for(var x=0,F=_.length;x<F;x++){var $=_[x],q=$.fn;$.once&&this.off(o,q,$.ctx),q.call($.ctx||this,p)}this._firingCount--}}return d&&this._propagateEvent(p),this},listens:function(o,c,d,p){typeof o!="string"&&console.warn('"string" type argument expected');var _=c;typeof c!="function"&&(p=!!c,_=void 0,d=void 0);var x=this._events&&this._events[o];if(x&&x.length&&this._listens(o,_,d)!==!1)return!0;if(p){for(var F in this._eventParents)if(this._eventParents[F].listens(o,c,d,p))return!0}return!1},_listens:function(o,c,d){if(!this._events)return!1;var p=this._events[o]||[];if(!c)return!!p.length;d===this&&(d=void 0);for(var _=0,x=p.length;_<x;_++)if(p[_].fn===c&&p[_].ctx===d)return _;return!1},once:function(o,c,d){if(typeof o=="object")for(var p in o)this._on(p,o[p],c,!0);else{o=E(o);for(var _=0,x=o.length;_<x;_++)this._on(o[_],c,d,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[a(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[a(o)],this},_propagateEvent:function(o){for(var c in this._eventParents)this._eventParents[c].fire(o.type,t({layer:o.target,propagatedFrom:o.target},o),!0)}};Z.addEventListener=Z.on,Z.removeEventListener=Z.clearAllEventListeners=Z.off,Z.addOneTimeEventListener=Z.once,Z.fireEvent=Z.fire,Z.hasEventListeners=Z.listens;var ue=O.extend(Z);function X(o,c,d){this.x=d?Math.round(o):o,this.y=d?Math.round(c):c}var pe=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};X.prototype={clone:function(){return new X(this.x,this.y)},add:function(o){return this.clone()._add(ne(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(ne(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new X(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new X(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=pe(this.x),this.y=pe(this.y),this},distanceTo:function(o){o=ne(o);var c=o.x-this.x,d=o.y-this.y;return Math.sqrt(c*c+d*d)},equals:function(o){return o=ne(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=ne(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function ne(o,c,d){return o instanceof X?o:D(o)?new X(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new X(o.x,o.y):new X(o,c,d)}function W(o,c){if(o)for(var d=c?[o,c]:o,p=0,_=d.length;p<_;p++)this.extend(d[p])}W.prototype={extend:function(o){var c,d;if(!o)return this;if(o instanceof X||typeof o[0]=="number"||"x"in o)c=d=ne(o);else if(o=Q(o),c=o.min,d=o.max,!c||!d)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=d.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(o){return ne((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return ne(this.min.x,this.max.y)},getTopRight:function(){return ne(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var c,d;return typeof o[0]=="number"||o instanceof X?o=ne(o):o=Q(o),o instanceof W?(c=o.min,d=o.max):c=d=o,c.x>=this.min.x&&d.x<=this.max.x&&c.y>=this.min.y&&d.y<=this.max.y},intersects:function(o){o=Q(o);var c=this.min,d=this.max,p=o.min,_=o.max,x=_.x>=c.x&&p.x<=d.x,F=_.y>=c.y&&p.y<=d.y;return x&&F},overlaps:function(o){o=Q(o);var c=this.min,d=this.max,p=o.min,_=o.max,x=_.x>c.x&&p.x<d.x,F=_.y>c.y&&p.y<d.y;return x&&F},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var c=this.min,d=this.max,p=Math.abs(c.x-d.x)*o,_=Math.abs(c.y-d.y)*o;return Q(ne(c.x-p,c.y-_),ne(d.x+p,d.y+_))},equals:function(o){return o?(o=Q(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function Q(o,c){return!o||o instanceof W?o:new W(o,c)}function Y(o,c){if(o)for(var d=c?[o,c]:o,p=0,_=d.length;p<_;p++)this.extend(d[p])}Y.prototype={extend:function(o){var c=this._southWest,d=this._northEast,p,_;if(o instanceof ie)p=o,_=o;else if(o instanceof Y){if(p=o._southWest,_=o._northEast,!p||!_)return this}else return o?this.extend(ae(o)||K(o)):this;return!c&&!d?(this._southWest=new ie(p.lat,p.lng),this._northEast=new ie(_.lat,_.lng)):(c.lat=Math.min(p.lat,c.lat),c.lng=Math.min(p.lng,c.lng),d.lat=Math.max(_.lat,d.lat),d.lng=Math.max(_.lng,d.lng)),this},pad:function(o){var c=this._southWest,d=this._northEast,p=Math.abs(c.lat-d.lat)*o,_=Math.abs(c.lng-d.lng)*o;return new Y(new ie(c.lat-p,c.lng-_),new ie(d.lat+p,d.lng+_))},getCenter:function(){return new ie((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ie(this.getNorth(),this.getWest())},getSouthEast:function(){return new ie(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof ie||"lat"in o?o=ae(o):o=K(o);var c=this._southWest,d=this._northEast,p,_;return o instanceof Y?(p=o.getSouthWest(),_=o.getNorthEast()):p=_=o,p.lat>=c.lat&&_.lat<=d.lat&&p.lng>=c.lng&&_.lng<=d.lng},intersects:function(o){o=K(o);var c=this._southWest,d=this._northEast,p=o.getSouthWest(),_=o.getNorthEast(),x=_.lat>=c.lat&&p.lat<=d.lat,F=_.lng>=c.lng&&p.lng<=d.lng;return x&&F},overlaps:function(o){o=K(o);var c=this._southWest,d=this._northEast,p=o.getSouthWest(),_=o.getNorthEast(),x=_.lat>c.lat&&p.lat<d.lat,F=_.lng>c.lng&&p.lng<d.lng;return x&&F},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,c){return o?(o=K(o),this._southWest.equals(o.getSouthWest(),c)&&this._northEast.equals(o.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function K(o,c){return o instanceof Y?o:new Y(o,c)}function ie(o,c,d){if(isNaN(o)||isNaN(c))throw new Error("Invalid LatLng object: ("+o+", "+c+")");this.lat=+o,this.lng=+c,d!==void 0&&(this.alt=+d)}ie.prototype={equals:function(o,c){if(!o)return!1;o=ae(o);var d=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return d<=(c===void 0?1e-9:c)},toString:function(o){return"LatLng("+m(this.lat,o)+", "+m(this.lng,o)+")"},distanceTo:function(o){return me.distance(this,ae(o))},wrap:function(){return me.wrapLatLng(this)},toBounds:function(o){var c=180*o/40075017,d=c/Math.cos(Math.PI/180*this.lat);return K([this.lat-c,this.lng-d],[this.lat+c,this.lng+d])},clone:function(){return new ie(this.lat,this.lng,this.alt)}};function ae(o,c,d){return o instanceof ie?o:D(o)&&typeof o[0]!="object"?o.length===3?new ie(o[0],o[1],o[2]):o.length===2?new ie(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new ie(o.lat,"lng"in o?o.lng:o.lon,o.alt):c===void 0?null:new ie(o,c,d)}var Ze={latLngToPoint:function(o,c){var d=this.projection.project(o),p=this.scale(c);return this.transformation._transform(d,p)},pointToLatLng:function(o,c){var d=this.scale(c),p=this.transformation.untransform(o,d);return this.projection.unproject(p)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var c=this.projection.bounds,d=this.scale(o),p=this.transformation.transform(c.min,d),_=this.transformation.transform(c.max,d);return new W(p,_)},infinite:!1,wrapLatLng:function(o){var c=this.wrapLng?h(o.lng,this.wrapLng,!0):o.lng,d=this.wrapLat?h(o.lat,this.wrapLat,!0):o.lat,p=o.alt;return new ie(d,c,p)},wrapLatLngBounds:function(o){var c=o.getCenter(),d=this.wrapLatLng(c),p=c.lat-d.lat,_=c.lng-d.lng;if(p===0&&_===0)return o;var x=o.getSouthWest(),F=o.getNorthEast(),$=new ie(x.lat-p,x.lng-_),q=new ie(F.lat-p,F.lng-_);return new Y($,q)}},me=t({},Ze,{wrapLng:[-180,180],R:6371e3,distance:function(o,c){var d=Math.PI/180,p=o.lat*d,_=c.lat*d,x=Math.sin((c.lat-o.lat)*d/2),F=Math.sin((c.lng-o.lng)*d/2),$=x*x+Math.cos(p)*Math.cos(_)*F*F,q=2*Math.atan2(Math.sqrt($),Math.sqrt(1-$));return this.R*q}}),an=6378137,Pn={R:an,MAX_LATITUDE:85.0511287798,project:function(o){var c=Math.PI/180,d=this.MAX_LATITUDE,p=Math.max(Math.min(d,o.lat),-d),_=Math.sin(p*c);return new X(this.R*o.lng*c,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(o){var c=180/Math.PI;return new ie((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*c,o.x*c/this.R)},bounds:function(){var o=an*Math.PI;return new W([-o,-o],[o,o])}()};function Kr(o,c,d,p){if(D(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=c,this._c=d,this._d=p}Kr.prototype={transform:function(o,c){return this._transform(o.clone(),c)},_transform:function(o,c){return c=c||1,o.x=c*(this._a*o.x+this._b),o.y=c*(this._c*o.y+this._d),o},untransform:function(o,c){return c=c||1,new X((o.x/c-this._b)/this._a,(o.y/c-this._d)/this._c)}};function zt(o,c,d,p){return new Kr(o,c,d,p)}var xt=t({},me,{code:"EPSG:3857",projection:Pn,transformation:function(){var o=.5/(Math.PI*Pn.R);return zt(o,.5,-o,.5)}()}),bt=t({},xt,{code:"EPSG:900913"});function Wn(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Nn(o,c){var d="",p,_,x,F,$,q;for(p=0,x=o.length;p<x;p++){for($=o[p],_=0,F=$.length;_<F;_++)q=$[_],d+=(_?"L":"M")+q.x+" "+q.y;d+=c?se.svg?"z":"x":""}return d||"M0 0"}var Rn=document.documentElement.style,vn="ActiveXObject"in window,bi=vn&&!document.addEventListener,pr="msLaunchUri"in navigator&&!("documentMode"in document),Rt=Ht("webkit"),kt=Ht("android"),Yt=Ht("android 2")||Ht("android 3"),Zr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),xs=kt&&Ht("Google")&&Zr<537&&!("AudioNode"in window),cn=!!window.opera,kn=!pr&&Ht("chrome"),Ti=Ht("gecko")&&!Rt&&!cn&&!vn,yt=!kn&&Ht("safari"),Et=Ht("phantom"),un="OTransition"in Rn,mr=navigator.platform.indexOf("Win")===0,Eo=vn&&"transition"in Rn,Ai="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Yt,Kn="MozPerspective"in Rn,Is=!window.L_DISABLE_3D&&(Eo||Ai||Kn)&&!un&&!Et,gr=typeof orientation<"u"||Ht("mobile"),Si=gr&&Rt,cc=gr&&Ai,wo=!window.PointerEvent&&window.MSPointerEvent,Mi=!!(window.PointerEvent||wo),Pi="ontouchstart"in window||!!window.TouchEvent,Ds=!window.L_NO_TOUCH&&(Pi||Mi),Qr=gr&&cn,xo=gr&&Ti,Ni=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Zn=function(){var o=!1;try{var c=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",f,c),window.removeEventListener("testPassiveEventSupport",f,c)}catch{}return o}(),Cs=function(){return!!document.createElement("canvas").getContext}(),Qn=!!(document.createElementNS&&Wn("svg").createSVGRect),bs=!!Qn&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),_r=!Qn&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var c=o.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),Ot=navigator.platform.indexOf("Mac")===0,tt=navigator.platform.indexOf("Linux")===0;function Ht(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var se={ie:vn,ielt9:bi,edge:pr,webkit:Rt,android:kt,android23:Yt,androidStock:xs,opera:cn,chrome:kn,gecko:Ti,safari:yt,phantom:Et,opera12:un,win:mr,ie3d:Eo,webkit3d:Ai,gecko3d:Kn,any3d:Is,mobile:gr,mobileWebkit:Si,mobileWebkit3d:cc,msPointer:wo,pointer:Mi,touch:Ds,touchNative:Pi,mobileOpera:Qr,mobileGecko:xo,retina:Ni,passiveEvents:Zn,canvas:Cs,svg:Qn,vml:_r,inlineSvg:bs,mac:Ot,linux:tt},Ri=se.msPointer?"MSPointerDown":"pointerdown",Xu=se.msPointer?"MSPointerMove":"pointermove",el=se.msPointer?"MSPointerUp":"pointerup",Yr=se.msPointer?"MSPointerCancel":"pointercancel",uc={touchstart:Ri,touchmove:Xu,touchend:el,touchcancel:Yr},tl={touchstart:rl,touchmove:ki,touchend:ki,touchcancel:ki},Yn={},lc=!1;function dc(o,c,d){return c==="touchstart"&&fc(),tl[c]?(d=tl[c].bind(this,d),o.addEventListener(uc[c],d,!1),d):(console.warn("wrong event specified:",c),f)}function Ts(o,c,d){if(!uc[c]){console.warn("wrong event specified:",c);return}o.removeEventListener(uc[c],d,!1)}function vr(o){Yn[o.pointerId]=o}function nl(o){Yn[o.pointerId]&&(Yn[o.pointerId]=o)}function hc(o){delete Yn[o.pointerId]}function fc(){lc||(document.addEventListener(Ri,vr,!0),document.addEventListener(Xu,nl,!0),document.addEventListener(el,hc,!0),document.addEventListener(Yr,hc,!0),lc=!0)}function ki(o,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var d in Yn)c.touches.push(Yn[d]);c.changedTouches=[c],o(c)}}function rl(o,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&pt(c),ki(o,c)}function il(o){var c={},d,p;for(p in o)d=o[p],c[p]=d&&d.bind?d.bind(o):d;return o=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var yp=200;function As(o,c){o.addEventListener("dblclick",c);var d=0,p;function _(x){if(x.detail!==1){p=x.detail;return}if(!(x.pointerType==="mouse"||x.sourceCapabilities&&!x.sourceCapabilities.firesTouchEvents)){var F=xc(x);if(!(F.some(function(q){return q instanceof HTMLLabelElement&&q.attributes.for})&&!F.some(function(q){return q instanceof HTMLInputElement||q instanceof HTMLSelectElement}))){var $=Date.now();$-d<=yp?(p++,p===2&&c(il(x))):p=1,d=$}}}return o.addEventListener("click",_),{dblclick:c,simDblclick:_}}function ol(o,c){o.removeEventListener("dblclick",c.dblclick),o.removeEventListener("click",c.simDblclick)}var Io=On(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Jn=On(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),yr=Jn==="webkitTransition"||Jn==="OTransition"?Jn+"End":"transitionend";function Ss(o){return typeof o=="string"?document.getElementById(o):o}function Do(o,c){var d=o.style[c]||o.currentStyle&&o.currentStyle[c];if((!d||d==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(o,null);d=p?p[c]:null}return d==="auto"?null:d}function ze(o,c,d){var p=document.createElement(o);return p.className=c||"",d&&d.appendChild(p),p}function nt(o){var c=o.parentNode;c&&c.removeChild(o)}function Co(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Er(o){var c=o.parentNode;c&&c.lastChild!==o&&c.appendChild(o)}function wr(o){var c=o.parentNode;c&&c.firstChild!==o&&c.insertBefore(o,c.firstChild)}function Ms(o,c){if(o.classList!==void 0)return o.classList.contains(c);var d=bo(o);return d.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(d)}function De(o,c){if(o.classList!==void 0)for(var d=E(c),p=0,_=d.length;p<_;p++)o.classList.add(d[p]);else if(!Ms(o,c)){var x=bo(o);pc(o,(x?x+" ":"")+c)}}function ft(o,c){o.classList!==void 0?o.classList.remove(c):pc(o,v((" "+bo(o)+" ").replace(" "+c+" "," ")))}function pc(o,c){o.className.baseVal===void 0?o.className=c:o.className.baseVal=c}function bo(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function Jt(o,c){"opacity"in o.style?o.style.opacity=c:"filter"in o.style&&Ep(o,c)}function Ep(o,c){var d=!1,p="DXImageTransform.Microsoft.Alpha";try{d=o.filters.item(p)}catch{if(c===1)return}c=Math.round(c*100),d?(d.Enabled=c!==100,d.Opacity=c):o.style.filter+=" progid:"+p+"(opacity="+c+")"}function On(o){for(var c=document.documentElement.style,d=0;d<o.length;d++)if(o[d]in c)return o[d];return!1}function jt(o,c,d){var p=c||new X(0,0);o.style[Io]=(se.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(d?" scale("+d+")":"")}function ot(o,c){o._leaflet_pos=c,se.any3d?jt(o,c):(o.style.left=c.x+"px",o.style.top=c.y+"px")}function Fn(o){return o._leaflet_pos||new X(0,0)}var Oi,We,Fi;if("onselectstart"in document)Oi=function(){ye(window,"selectstart",pt)},We=function(){Qe(window,"selectstart",pt)};else{var Xn=On(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Oi=function(){if(Xn){var o=document.documentElement.style;Fi=o[Xn],o[Xn]="none"}},We=function(){Xn&&(document.documentElement.style[Xn]=Fi,Fi=void 0)}}function Jr(){ye(window,"dragstart",pt)}function mc(){Qe(window,"dragstart",pt)}var To,gc;function _c(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Ps(),To=o,gc=o.style.outlineStyle,o.style.outlineStyle="none",ye(window,"keydown",Ps))}function Ps(){To&&(To.style.outlineStyle=gc,To=void 0,gc=void 0,Qe(window,"keydown",Ps))}function sl(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Xr(o){var c=o.getBoundingClientRect();return{x:c.width/o.offsetWidth||1,y:c.height/o.offsetHeight||1,boundingClientRect:c}}var xr={__proto__:null,TRANSFORM:Io,TRANSITION:Jn,TRANSITION_END:yr,get:Ss,getStyle:Do,create:ze,remove:nt,empty:Co,toFront:Er,toBack:wr,hasClass:Ms,addClass:De,removeClass:ft,setClass:pc,getClass:bo,setOpacity:Jt,testProp:On,setTransform:jt,setPosition:ot,getPosition:Fn,get disableTextSelection(){return Oi},get enableTextSelection(){return We},disableImageDrag:Jr,enableImageDrag:mc,preventOutline:_c,restoreOutline:Ps,getSizedParentNode:sl,getScale:Xr};function ye(o,c,d,p){if(c&&typeof c=="object")for(var _ in c)yc(o,_,c[_],d);else{c=E(c);for(var x=0,F=c.length;x<F;x++)yc(o,c[x],d,p)}return this}var yn="_leaflet_events";function Qe(o,c,d,p){if(arguments.length===1)ei(o),delete o[yn];else if(c&&typeof c=="object")for(var _ in c)Ec(o,_,c[_],d);else if(c=E(c),arguments.length===2)ei(o,function($){return A(c,$)!==-1});else for(var x=0,F=c.length;x<F;x++)Ec(o,c[x],d,p);return this}function ei(o,c){for(var d in o[yn]){var p=d.split(/\d/)[0];(!c||c(p))&&Ec(o,p,null,null,d)}}var vc={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function yc(o,c,d,p){var _=c+a(d)+(p?"_"+a(p):"");if(o[yn]&&o[yn][_])return this;var x=function($){return d.call(p||o,$||window.event)},F=x;!se.touchNative&&se.pointer&&c.indexOf("touch")===0?x=dc(o,c,x):se.touch&&c==="dblclick"?x=As(o,x):"addEventListener"in o?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?o.addEventListener(vc[c]||c,x,se.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(x=function($){$=$||window.event,Mo(o,$)&&F($)},o.addEventListener(vc[c],x,!1)):o.addEventListener(c,F,!1):o.attachEvent("on"+c,x),o[yn]=o[yn]||{},o[yn][_]=x}function Ec(o,c,d,p,_){_=_||c+a(d)+(p?"_"+a(p):"");var x=o[yn]&&o[yn][_];if(!x)return this;!se.touchNative&&se.pointer&&c.indexOf("touch")===0?Ts(o,c,x):se.touch&&c==="dblclick"?ol(o,x):"removeEventListener"in o?o.removeEventListener(vc[c]||c,x,!1):o.detachEvent("on"+c,x),o[yn][_]=null}function $t(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function wc(o){return yc(o,"wheel",$t),this}function Ao(o){return ye(o,"mousedown touchstart dblclick contextmenu",$t),o._leaflet_disable_click=!0,this}function pt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Ln(o){return pt(o),$t(o),this}function xc(o){if(o.composedPath)return o.composedPath();for(var c=[],d=o.target;d;)c.push(d),d=d.parentNode;return c}function Li(o,c){if(!c)return new X(o.clientX,o.clientY);var d=Xr(c),p=d.boundingClientRect;return new X((o.clientX-p.left)/d.x-c.clientLeft,(o.clientY-p.top)/d.y-c.clientTop)}var So=se.linux&&se.chrome?window.devicePixelRatio:se.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ic(o){return se.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/So:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Mo(o,c){var d=c.relatedTarget;if(!d)return!0;try{for(;d&&d!==o;)d=d.parentNode}catch{return!1}return d!==o}var lt={__proto__:null,on:ye,off:Qe,stopPropagation:$t,disableScrollPropagation:wc,disableClickPropagation:Ao,preventDefault:pt,stop:Ln,getPropagationPath:xc,getMousePosition:Li,getWheelDelta:Ic,isExternalTarget:Mo,addListener:ye,removeListener:Qe},al=ue.extend({run:function(o,c,d,p){this.stop(),this._el=o,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=Fn(o),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(o){var c=+new Date-this._startTime,d=this._duration*1e3;c<d?this._runFrame(this._easeOut(c/d),o):(this._runFrame(1),this._complete())},_runFrame:function(o,c){var d=this._startPos.add(this._offset.multiplyBy(o));c&&d._round(),ot(this._el,d),this.fire("step")},_complete:function(){k(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Oe=ue.extend({options:{crs:xt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,c){c=w(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(ae(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Jn&&se.any3d&&!se.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ye(this._proxy,yr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,c,d){if(c=c===void 0?this._zoom:this._limitZoom(c),o=this._limitCenter(ae(o),c,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=t({animate:d.animate},d.zoom),d.pan=t({animate:d.animate,duration:d.duration},d.pan));var p=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,c,d.zoom):this._tryAnimatedPan(o,d.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(o,c,d.pan&&d.pan.noMoveStart),this},setZoom:function(o,c){return this._loaded?this.setView(this.getCenter(),o,{zoom:c}):(this._zoom=o,this)},zoomIn:function(o,c){return o=o||(se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,c)},zoomOut:function(o,c){return o=o||(se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,c)},setZoomAround:function(o,c,d){var p=this.getZoomScale(c),_=this.getSize().divideBy(2),x=o instanceof X?o:this.latLngToContainerPoint(o),F=x.subtract(_).multiplyBy(1-1/p),$=this.containerPointToLatLng(_.add(F));return this.setView($,c,{zoom:d})},_getBoundsCenterZoom:function(o,c){c=c||{},o=o.getBounds?o.getBounds():K(o);var d=ne(c.paddingTopLeft||c.padding||[0,0]),p=ne(c.paddingBottomRight||c.padding||[0,0]),_=this.getBoundsZoom(o,!1,d.add(p));if(_=typeof c.maxZoom=="number"?Math.min(c.maxZoom,_):_,_===1/0)return{center:o.getCenter(),zoom:_};var x=p.subtract(d).divideBy(2),F=this.project(o.getSouthWest(),_),$=this.project(o.getNorthEast(),_),q=this.unproject(F.add($).divideBy(2).add(x),_);return{center:q,zoom:_}},fitBounds:function(o,c){if(o=K(o),!o.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(o,c);return this.setView(d.center,d.zoom,c)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,c){return this.setView(o,this._zoom,{pan:c})},panBy:function(o,c){if(o=ne(o).round(),c=c||{},!o.x&&!o.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new al,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){De(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,d,c.duration||.25,c.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,c,d){if(d=d||{},d.animate===!1||!se.any3d)return this.setView(o,c,d);this._stop();var p=this.project(this.getCenter()),_=this.project(o),x=this.getSize(),F=this._zoom;o=ae(o),c=c===void 0?F:c;var $=Math.max(x.x,x.y),q=$*this.getZoomScale(F,c),J=_.distanceTo(p)||1,oe=1.42,ge=oe*oe;function Re(It){var Cl=It?-1:1,B1=It?q:$,j1=q*q-$*$+Cl*ge*ge*J*J,U1=2*B1*ge*J,Cp=j1/U1,Zy=Math.sqrt(Cp*Cp+1)-Cp,z1=Zy<1e-9?-18:Math.log(Zy);return z1}function en(It){return(Math.exp(It)-Math.exp(-It))/2}function Lt(It){return(Math.exp(It)+Math.exp(-It))/2}function Vn(It){return en(It)/Lt(It)}var dn=Re(0);function Hs(It){return $*(Lt(dn)/Lt(dn+oe*It))}function O1(It){return $*(Lt(dn)*Vn(dn+oe*It)-en(dn))/ge}function F1(It){return 1-Math.pow(1-It,1.5)}var L1=Date.now(),Wy=(Re(1)-dn)/oe,V1=d.duration?1e3*d.duration:1e3*Wy*.8;function Ky(){var It=(Date.now()-L1)/V1,Cl=F1(It)*Wy;It<=1?(this._flyToFrame=T(Ky,this),this._move(this.unproject(p.add(_.subtract(p).multiplyBy(O1(Cl)/J)),F),this.getScaleZoom($/Hs(Cl),F),{flyTo:!0})):this._move(o,c)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Ky.call(this),this},flyToBounds:function(o,c){var d=this._getBoundsCenterZoom(o,c);return this.flyTo(d.center,d.zoom,c)},setMaxBounds:function(o){return o=K(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var c=this.options.minZoom;return this.options.minZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var c=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,c){this._enforcingBounds=!0;var d=this.getCenter(),p=this._limitCenter(d,this._zoom,K(o));return d.equals(p)||this.panTo(p,c),this._enforcingBounds=!1,this},panInside:function(o,c){c=c||{};var d=ne(c.paddingTopLeft||c.padding||[0,0]),p=ne(c.paddingBottomRight||c.padding||[0,0]),_=this.project(this.getCenter()),x=this.project(o),F=this.getPixelBounds(),$=Q([F.min.add(d),F.max.subtract(p)]),q=$.getSize();if(!$.contains(x)){this._enforcingBounds=!0;var J=x.subtract($.getCenter()),oe=$.extend(x).getSize().subtract(q);_.x+=J.x<0?-oe.x:oe.x,_.y+=J.y<0?-oe.y:oe.y,this.panTo(this.unproject(_),c),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=t({animate:!1,pan:!0},o===!0?{animate:!0}:o);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),p=c.divideBy(2).round(),_=d.divideBy(2).round(),x=p.subtract(_);return!x.x&&!x.y?this:(o.animate&&o.pan?this.panBy(x):(o.pan&&this._rawPanBy(x),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=t({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=i(this._handleGeolocationResponse,this),d=i(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,d,o):navigator.geolocation.getCurrentPosition(c,d,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var c=o.code,d=o.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var c=o.coords.latitude,d=o.coords.longitude,p=new ie(c,d),_=p.toBounds(o.coords.accuracy*2),x=this._locateOptions;if(x.setView){var F=this.getBoundsZoom(_);this.setView(p,x.maxZoom?Math.min(F,x.maxZoom):F)}var $={latlng:p,bounds:_,timestamp:o.timestamp};for(var q in o.coords)typeof o.coords[q]=="number"&&($[q]=o.coords[q]);this.fire("locationfound",$)}},addHandler:function(o,c){if(!c)return this;var d=this[o]=new c(this);return this._handlers.push(d),this.options[o]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),nt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(k(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)nt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,c){var d="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),p=ze("div",d,c||this._mapPane);return o&&(this._panes[o]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),c=this.unproject(o.getBottomLeft()),d=this.unproject(o.getTopRight());return new Y(c,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,c,d){o=K(o),d=ne(d||[0,0]);var p=this.getZoom()||0,_=this.getMinZoom(),x=this.getMaxZoom(),F=o.getNorthWest(),$=o.getSouthEast(),q=this.getSize().subtract(d),J=Q(this.project($,p),this.project(F,p)).getSize(),oe=se.any3d?this.options.zoomSnap:1,ge=q.x/J.x,Re=q.y/J.y,en=c?Math.max(ge,Re):Math.min(ge,Re);return p=this.getScaleZoom(en,p),oe&&(p=Math.round(p/(oe/100))*(oe/100),p=c?Math.ceil(p/oe)*oe:Math.floor(p/oe)*oe),Math.max(_,Math.min(x,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new X(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,c){var d=this._getTopLeftPoint(o,c);return new W(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,c){var d=this.options.crs;return c=c===void 0?this._zoom:c,d.scale(o)/d.scale(c)},getScaleZoom:function(o,c){var d=this.options.crs;c=c===void 0?this._zoom:c;var p=d.zoom(o*d.scale(c));return isNaN(p)?1/0:p},project:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(ae(o),c)},unproject:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(ne(o),c)},layerPointToLatLng:function(o){var c=ne(o).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(o){var c=this.project(ae(o))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(ae(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(K(o))},distance:function(o,c){return this.options.crs.distance(ae(o),ae(c))},containerPointToLayerPoint:function(o){return ne(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return ne(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var c=this.containerPointToLayerPoint(ne(o));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ae(o)))},mouseEventToContainerPoint:function(o){return Li(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var c=this._container=Ss(o);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ye(c,"scroll",this._onScroll,this),this._containerId=a(c)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&se.any3d,De(o,"leaflet-container"+(se.touch?" leaflet-touch":"")+(se.retina?" leaflet-retina":"")+(se.ielt9?" leaflet-oldie":"")+(se.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Do(o,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ot(this._mapPane,new X(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(De(o.markerPane,"leaflet-zoom-hide"),De(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,c,d){ot(this._mapPane,new X(0,0));var p=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var _=this._zoom!==c;this._moveStart(_,d)._move(o,c)._moveEnd(_),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(o,c){return o&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(o,c,d,p){c===void 0&&(c=this._zoom);var _=this._zoom!==c;return this._zoom=c,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),p?d&&d.pinch&&this.fire("zoom",d):((_||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return k(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){ot(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[a(this._container)]=this;var c=o?Qe:ye;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),se.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){k(this._resizeRequest),this._resizeRequest=T(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,c){for(var d=[],p,_=c==="mouseout"||c==="mouseover",x=o.target||o.srcElement,F=!1;x;){if(p=this._targets[a(x)],p&&(c==="click"||c==="preclick")&&this._draggableMoved(p)){F=!0;break}if(p&&p.listens(c,!0)&&(_&&!Mo(x,o)||(d.push(p),_))||x===this._container)break;x=x.parentNode}return!d.length&&!F&&!_&&this.listens(c,!0)&&(d=[this]),d},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var c=o.target||o.srcElement;if(!(!this._loaded||c._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(c))){var d=o.type;d==="mousedown"&&_c(c),this._fireDOMEvent(o,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,c,d){if(o.type==="click"){var p=t({},o);p.type="preclick",this._fireDOMEvent(p,p.type,d)}var _=this._findEventTargets(o,c);if(d){for(var x=[],F=0;F<d.length;F++)d[F].listens(c,!0)&&x.push(d[F]);_=x.concat(_)}if(_.length){c==="contextmenu"&&pt(o);var $=_[0],q={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var J=$.getLatLng&&(!$._radius||$._radius<=10);q.containerPoint=J?this.latLngToContainerPoint($.getLatLng()):this.mouseEventToContainerPoint(o),q.layerPoint=this.containerPointToLayerPoint(q.containerPoint),q.latlng=J?$.getLatLng():this.layerPointToLatLng(q.layerPoint)}for(F=0;F<_.length;F++)if(_[F].fire(c,q,!0),q.originalEvent._stopped||_[F].options.bubblingMouseEvents===!1&&A(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,c=this._handlers.length;o<c;o++)this._handlers[o].disable()},whenReady:function(o,c){return this._loaded?o.call(c||this,{target:this}):this.on("load",o,c),this},_getMapPanePos:function(){return Fn(this._mapPane)||new X(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,c){var d=o&&c!==void 0?this._getNewPixelOrigin(o,c):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,c){var d=this.getSize()._divideBy(2);return this.project(o,c)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,c,d){var p=this._getNewPixelOrigin(d,c);return this.project(o,c)._subtract(p)},_latLngBoundsToNewLayerBounds:function(o,c,d){var p=this._getNewPixelOrigin(d,c);return Q([this.project(o.getSouthWest(),c)._subtract(p),this.project(o.getNorthWest(),c)._subtract(p),this.project(o.getSouthEast(),c)._subtract(p),this.project(o.getNorthEast(),c)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,c,d){if(!d)return o;var p=this.project(o,c),_=this.getSize().divideBy(2),x=new W(p.subtract(_),p.add(_)),F=this._getBoundsOffset(x,d,c);return Math.abs(F.x)<=1&&Math.abs(F.y)<=1?o:this.unproject(p.add(F),c)},_limitOffset:function(o,c){if(!c)return o;var d=this.getPixelBounds(),p=new W(d.min.add(o),d.max.add(o));return o.add(this._getBoundsOffset(p,c))},_getBoundsOffset:function(o,c,d){var p=Q(this.project(c.getNorthEast(),d),this.project(c.getSouthWest(),d)),_=p.min.subtract(o.min),x=p.max.subtract(o.max),F=this._rebound(_.x,-x.x),$=this._rebound(_.y,-x.y);return new X(F,$)},_rebound:function(o,c){return o+c>0?Math.round(o-c)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(c))},_limitZoom:function(o){var c=this.getMinZoom(),d=this.getMaxZoom(),p=se.any3d?this.options.zoomSnap:1;return p&&(o=Math.round(o/p)*p),Math.max(c,Math.min(d,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ft(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,c){var d=this._getCenterOffset(o)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,c),!0)},_createAnimProxy:function(){var o=this._proxy=ze("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(c){var d=Io,p=this._proxy.style[d];jt(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),p===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){nt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),c=this.getZoom();jt(this._proxy,this.project(o,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,c,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(c),_=this._getCenterOffset(o)._divideBy(1-1/p);return d.animate!==!0&&!this.getSize().contains(_)?!1:(T(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(o,c,!0)},this),!0)},_animateZoom:function(o,c,d,p){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=c,De(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:c,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ft(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function cl(o,c){return new Oe(o,c)}var ln=O.extend({options:{position:"topright"},initialize:function(o){w(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var c=this._map;return c&&c.removeControl(this),this.options.position=o,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var c=this._container=this.onAdd(o),d=this.getPosition(),p=o._controlCorners[d];return De(c,"leaflet-control"),d.indexOf("bottom")!==-1?p.insertBefore(c,p.firstChild):p.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(nt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Vi=function(o){return new ln(o)};Oe.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},c="leaflet-",d=this._controlContainer=ze("div",c+"control-container",this._container);function p(_,x){var F=c+_+" "+c+x;o[_+x]=ze("div",F,d)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)nt(this._controlCorners[o]);nt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Po=ln.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,c,d,p){return d<p?-1:p<d?1:0}},initialize:function(o,c,d){w(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in o)this._addLayer(o[p],p);for(p in c)this._addLayer(c[p],p,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return ln.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,c){return this._addLayer(o,c),this._map?this._update():this},addOverlay:function(o,c){return this._addLayer(o,c,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var c=this._getLayer(a(o));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){De(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(De(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):ft(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ft(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",c=this._container=ze("div",o),d=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Ao(c),wc(c);var p=this._section=ze("section",o+"-list");d&&(this._map.on("click",this.collapse,this),ye(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=ze("a",o+"-toggle",c);_.href="#",_.title="Layers",_.setAttribute("role","button"),ye(_,{keydown:function(x){x.keyCode===13&&this._expandSafely()},click:function(x){pt(x),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=ze("div",o+"-base",p),this._separator=ze("div",o+"-separator",p),this._overlaysList=ze("div",o+"-overlays",p),c.appendChild(p)},_getLayer:function(o){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&a(this._layers[c].layer)===o)return this._layers[c]},_addLayer:function(o,c,d){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:c,overlay:d}),this.options.sortLayers&&this._layers.sort(i(function(p,_){return this.options.sortFunction(p.layer,_.layer,p.name,_.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Co(this._baseLayersList),Co(this._overlaysList),this._layerControlInputs=[];var o,c,d,p,_=0;for(d=0;d<this._layers.length;d++)p=this._layers[d],this._addItem(p),c=c||p.overlay,o=o||!p.overlay,_+=p.overlay?0:1;return this.options.hideSingleBase&&(o=o&&_>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=c&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var c=this._getLayer(a(o.target)),d=c.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;d&&this._map.fire(d,c)},_createRadioElement:function(o,c){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(c?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=d,p.firstChild},_addItem:function(o){var c=document.createElement("label"),d=this._map.hasLayer(o.layer),p;o.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=d):p=this._createRadioElement("leaflet-base-layers_"+a(this),d),this._layerControlInputs.push(p),p.layerId=a(o.layer),ye(p,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+o.name;var x=document.createElement("span");c.appendChild(x),x.appendChild(p),x.appendChild(_);var F=o.overlay?this._overlaysList:this._baseLayersList;return F.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,c,d,p=[],_=[];this._handlingClick=!0;for(var x=o.length-1;x>=0;x--)c=o[x],d=this._getLayer(c.layerId).layer,c.checked?p.push(d):c.checked||_.push(d);for(x=0;x<_.length;x++)this._map.hasLayer(_[x])&&this._map.removeLayer(_[x]);for(x=0;x<p.length;x++)this._map.hasLayer(p[x])||this._map.addLayer(p[x]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,c,d,p=this._map.getZoom(),_=o.length-1;_>=0;_--)c=o[_],d=this._getLayer(c.layerId).layer,c.disabled=d.options.minZoom!==void 0&&p<d.options.minZoom||d.options.maxZoom!==void 0&&p>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,ye(o,"click",pt),this.expand();var c=this;setTimeout(function(){Qe(o,"click",pt),c._preventClick=!1})}}),ul=function(o,c,d){return new Po(o,c,d)},En=ln.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var c="leaflet-control-zoom",d=ze("div",c+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,c+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,c+"-out",d,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,c,d,p,_){var x=ze("a",d,p);return x.innerHTML=o,x.href="#",x.title=c,x.setAttribute("role","button"),x.setAttribute("aria-label",c),Ao(x),ye(x,"click",Ln),ye(x,"click",_,this),ye(x,"click",this._refocusOnMap,this),x},_updateDisabled:function(){var o=this._map,c="leaflet-disabled";ft(this._zoomInButton,c),ft(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(De(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(De(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Oe.mergeOptions({zoomControl:!0}),Oe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new En,this.addControl(this.zoomControl))});var ll=function(o){return new En(o)},dl=ln.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var c="leaflet-control-scale",d=ze("div",c),p=this.options;return this._addScales(p,c+"-line",d),o.on(p.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),d},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,c,d){o.metric&&(this._mScale=ze("div",c,d)),o.imperial&&(this._iScale=ze("div",c,d))},_update:function(){var o=this._map,c=o.getSize().y/2,d=o.distance(o.containerPointToLatLng([0,c]),o.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(d)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var c=this._getRoundNum(o),d=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,d,c/o)},_updateImperial:function(o){var c=o*3.2808399,d,p,_;c>5280?(d=c/5280,p=this._getRoundNum(d),this._updateScale(this._iScale,p+" mi",p/d)):(_=this._getRoundNum(c),this._updateScale(this._iScale,_+" ft",_/c))},_updateScale:function(o,c,d){o.style.width=Math.round(this.options.maxWidth*d)+"px",o.innerHTML=c},_getRoundNum:function(o){var c=Math.pow(10,(Math.floor(o)+"").length-1),d=o/c;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,c*d}}),No=function(o){return new dl(o)},hl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ro=ln.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(se.inlineSvg?hl+" ":"")+"Leaflet</a>"},initialize:function(o){w(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=ze("div","leaflet-control-attribution"),Ao(this._container);for(var c in o._layers)o._layers[c].getAttribution&&this.addAttribution(o._layers[c].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var c in this._attributions)this._attributions[c]&&o.push(c);var d=[];this.options.prefix&&d.push(this.options.prefix),o.length&&d.push(o.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Oe.mergeOptions({attributionControl:!0}),Oe.addInitHook(function(){this.options.attributionControl&&new Ro().addTo(this)});var Ns=function(o){return new Ro(o)};ln.Layers=Po,ln.Zoom=En,ln.Scale=dl,ln.Attribution=Ro,Vi.layers=ul,Vi.zoom=ll,Vi.scale=No,Vi.attribution=Ns;var wn=O.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});wn.addTo=function(o,c){return o.addHandler(c,this),this};var Rs={Events:Z},fl=se.touch?"touchstart mousedown":"mousedown",er=ue.extend({options:{clickTolerance:3},initialize:function(o,c,d,p){w(this,p),this._element=o,this._dragStartTarget=c||o,this._preventOutline=d},enable:function(){this._enabled||(ye(this._dragStartTarget,fl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(er._dragging===this&&this.finishDrag(!0),Qe(this._dragStartTarget,fl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Ms(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){er._dragging===this&&this.finishDrag();return}if(!(er._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(er._dragging=this,this._preventOutline&&_c(this._element),Jr(),Oi(),!this._moving)){this.fire("down");var c=o.touches?o.touches[0]:o,d=sl(this._element);this._startPoint=new X(c.clientX,c.clientY),this._startPos=Fn(this._element),this._parentScale=Xr(d);var p=o.type==="mousedown";ye(document,p?"mousemove":"touchmove",this._onMove,this),ye(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var c=o.touches&&o.touches.length===1?o.touches[0]:o,d=new X(c.clientX,c.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,pt(o),this._moved||(this.fire("dragstart"),this._moved=!0,De(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),De(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),ot(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){ft(document.body,"leaflet-dragging"),this._lastTarget&&(ft(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Qe(document,"mousemove touchmove",this._onMove,this),Qe(document,"mouseup touchend touchcancel",this._onUp,this),mc(),We();var c=this._moved&&this._moving;this._moving=!1,er._dragging=!1,c&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Bi(o,c,d){var p,_=[1,4,2,8],x,F,$,q,J,oe,ge,Re;for(x=0,oe=o.length;x<oe;x++)o[x]._code=Ir(o[x],c);for($=0;$<4;$++){for(ge=_[$],p=[],x=0,oe=o.length,F=oe-1;x<oe;F=x++)q=o[x],J=o[F],q._code&ge?J._code&ge||(Re=ko(J,q,ge,c,d),Re._code=Ir(Re,c),p.push(Re)):(J._code&ge&&(Re=ko(J,q,ge,c,d),Re._code=Ir(Re,c),p.push(Re)),p.push(q));o=p}return o}function Dc(o,c){var d,p,_,x,F,$,q,J,oe;if(!o||o.length===0)throw new Error("latlngs not passed");Xt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var ge=ae([0,0]),Re=K(o),en=Re.getNorthWest().distanceTo(Re.getSouthWest())*Re.getNorthEast().distanceTo(Re.getNorthWest());en<1700&&(ge=ks(o));var Lt=o.length,Vn=[];for(d=0;d<Lt;d++){var dn=ae(o[d]);Vn.push(c.project(ae([dn.lat-ge.lat,dn.lng-ge.lng])))}for($=q=J=0,d=0,p=Lt-1;d<Lt;p=d++)_=Vn[d],x=Vn[p],F=_.y*x.x-x.y*_.x,q+=(_.x+x.x)*F,J+=(_.y+x.y)*F,$+=F*3;$===0?oe=Vn[0]:oe=[q/$,J/$];var Hs=c.unproject(ne(oe));return ae([Hs.lat+ge.lat,Hs.lng+ge.lng])}function ks(o){for(var c=0,d=0,p=0,_=0;_<o.length;_++){var x=ae(o[_]);c+=x.lat,d+=x.lng,p++}return ae([c/p,d/p])}var Cc={__proto__:null,clipPolygon:Bi,polygonCenter:Dc,centroid:ks};function Os(o,c){if(!c||!o.length)return o.slice();var d=c*c;return o=ti(o,d),o=pl(o,d),o}function bc(o,c,d){return Math.sqrt(Tt(o,c,d,!0))}function Fs(o,c,d){return Tt(o,c,d)}function pl(o,c){var d=o.length,p=typeof Uint8Array<"u"?Uint8Array:Array,_=new p(d);_[0]=_[d-1]=1,Ls(o,_,c,0,d-1);var x,F=[];for(x=0;x<d;x++)_[x]&&F.push(o[x]);return F}function Ls(o,c,d,p,_){var x=0,F,$,q;for($=p+1;$<=_-1;$++)q=Tt(o[$],o[p],o[_],!0),q>x&&(F=$,x=q);x>d&&(c[F]=1,Ls(o,c,d,p,F),Ls(o,c,d,F,_))}function ti(o,c){for(var d=[o[0]],p=1,_=0,x=o.length;p<x;p++)Vs(o[p],o[_])>c&&(d.push(o[p]),_=p);return _<x-1&&d.push(o[x-1]),d}var Tc;function Ac(o,c,d,p,_){var x=p?Tc:Ir(o,d),F=Ir(c,d),$,q,J;for(Tc=F;;){if(!(x|F))return[o,c];if(x&F)return!1;$=x||F,q=ko(o,c,$,d,_),J=Ir(q,d),$===x?(o=q,x=J):(c=q,F=J)}}function ko(o,c,d,p,_){var x=c.x-o.x,F=c.y-o.y,$=p.min,q=p.max,J,oe;return d&8?(J=o.x+x*(q.y-o.y)/F,oe=q.y):d&4?(J=o.x+x*($.y-o.y)/F,oe=$.y):d&2?(J=q.x,oe=o.y+F*(q.x-o.x)/x):d&1&&(J=$.x,oe=o.y+F*($.x-o.x)/x),new X(J,oe,_)}function Ir(o,c){var d=0;return o.x<c.min.x?d|=1:o.x>c.max.x&&(d|=2),o.y<c.min.y?d|=4:o.y>c.max.y&&(d|=8),d}function Vs(o,c){var d=c.x-o.x,p=c.y-o.y;return d*d+p*p}function Tt(o,c,d,p){var _=c.x,x=c.y,F=d.x-_,$=d.y-x,q=F*F+$*$,J;return q>0&&(J=((o.x-_)*F+(o.y-x)*$)/q,J>1?(_=d.x,x=d.y):J>0&&(_+=F*J,x+=$*J)),F=o.x-_,$=o.y-x,p?F*F+$*$:new X(_,x)}function Xt(o){return!D(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function Sc(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Xt(o)}function ni(o,c){var d,p,_,x,F,$,q,J;if(!o||o.length===0)throw new Error("latlngs not passed");Xt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var oe=ae([0,0]),ge=K(o),Re=ge.getNorthWest().distanceTo(ge.getSouthWest())*ge.getNorthEast().distanceTo(ge.getNorthWest());Re<1700&&(oe=ks(o));var en=o.length,Lt=[];for(d=0;d<en;d++){var Vn=ae(o[d]);Lt.push(c.project(ae([Vn.lat-oe.lat,Vn.lng-oe.lng])))}for(d=0,p=0;d<en-1;d++)p+=Lt[d].distanceTo(Lt[d+1])/2;if(p===0)J=Lt[0];else for(d=0,x=0;d<en-1;d++)if(F=Lt[d],$=Lt[d+1],_=F.distanceTo($),x+=_,x>p){q=(x-p)/_,J=[$.x-q*($.x-F.x),$.y-q*($.y-F.y)];break}var dn=c.unproject(ne(J));return ae([dn.lat+oe.lat,dn.lng+oe.lng])}var l={__proto__:null,simplify:Os,pointToSegmentDistance:bc,closestPointOnSegment:Fs,clipSegment:Ac,_getEdgeIntersection:ko,_getBitCode:Ir,_sqClosestPointOnSegment:Tt,isFlat:Xt,_flat:Sc,polylineCenter:ni},g={project:function(o){return new X(o.lng,o.lat)},unproject:function(o){return new ie(o.y,o.x)},bounds:new W([-180,-90],[180,90])},y={R:6378137,R_MINOR:6356752314245179e-9,bounds:new W([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var c=Math.PI/180,d=this.R,p=o.lat*c,_=this.R_MINOR/d,x=Math.sqrt(1-_*_),F=x*Math.sin(p),$=Math.tan(Math.PI/4-p/2)/Math.pow((1-F)/(1+F),x/2);return p=-d*Math.log(Math.max($,1e-10)),new X(o.lng*c*d,p)},unproject:function(o){for(var c=180/Math.PI,d=this.R,p=this.R_MINOR/d,_=Math.sqrt(1-p*p),x=Math.exp(-o.y/d),F=Math.PI/2-2*Math.atan(x),$=0,q=.1,J;$<15&&Math.abs(q)>1e-7;$++)J=_*Math.sin(F),J=Math.pow((1-J)/(1+J),_/2),q=Math.PI/2-2*Math.atan(x*J)-F,F+=q;return new ie(F*c,o.x*c/d)}},b={__proto__:null,LonLat:g,Mercator:y,SphericalMercator:Pn},H=t({},me,{code:"EPSG:3395",projection:y,transformation:function(){var o=.5/(Math.PI*y.R);return zt(o,.5,-o,.5)}()}),G=t({},me,{code:"EPSG:4326",projection:g,transformation:zt(1/180,1,-1/180,.5)}),re=t({},Ze,{projection:g,transformation:zt(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,c){var d=c.lng-o.lng,p=c.lat-o.lat;return Math.sqrt(d*d+p*p)},infinite:!0});Ze.Earth=me,Ze.EPSG3395=H,Ze.EPSG3857=xt,Ze.EPSG900913=bt,Ze.EPSG4326=G,Ze.Simple=re;var Ne=ue.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[a(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[a(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var c=o.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var d=this.getEvents();c.on(d,this),this.once("remove",function(){c.off(d,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Oe.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var c=a(o);return this._layers[c]?this:(this._layers[c]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var c=a(o);return this._layers[c]?(this._loaded&&o.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return a(o)in this._layers},eachLayer:function(o,c){for(var d in this._layers)o.call(c,this._layers[d]);return this},_addLayers:function(o){o=o?D(o)?o:[o]:[];for(var c=0,d=o.length;c<d;c++)this.addLayer(o[c])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[a(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var c=a(o);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,c=-1/0,d=this._getZoomSpan();for(var p in this._zoomBoundLayers){var _=this._zoomBoundLayers[p].options;o=_.minZoom===void 0?o:Math.min(o,_.minZoom),c=_.maxZoom===void 0?c:Math.max(c,_.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=o===1/0?void 0:o,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var dt=Ne.extend({initialize:function(o,c){w(this,c),this._layers={};var d,p;if(o)for(d=0,p=o.length;d<p;d++)this.addLayer(o[d])},addLayer:function(o){var c=this.getLayerId(o);return this._layers[c]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var c=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(o){var c=typeof o=="number"?o:this.getLayerId(o);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var c=Array.prototype.slice.call(arguments,1),d,p;for(d in this._layers)p=this._layers[d],p[o]&&p[o].apply(p,c);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,c){for(var d in this._layers)o.call(c,this._layers[d]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return a(o)}}),He=function(o,c){return new dt(o,c)},rt=dt.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),dt.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),dt.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Y;for(var c in this._layers){var d=this._layers[c];o.extend(d.getBounds?d.getBounds():d.getLatLng())}return o}}),Ft=function(o,c){return new rt(o,c)},xn=O.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){w(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,c){var d=this._getIconUrl(o);if(!d){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(d,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(p,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(o,c){var d=this.options,p=d[c+"Size"];typeof p=="number"&&(p=[p,p]);var _=ne(p),x=ne(c==="shadow"&&d.shadowAnchor||d.iconAnchor||_&&_.divideBy(2,!0));o.className="leaflet-marker-"+c+" "+(d.className||""),x&&(o.style.marginLeft=-x.x+"px",o.style.marginTop=-x.y+"px"),_&&(o.style.width=_.x+"px",o.style.height=_.y+"px")},_createImg:function(o,c){return c=c||document.createElement("img"),c.src=o,c},_getIconUrl:function(o){return se.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function In(o){return new xn(o)}var Dr=xn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Dr.imagePath!="string"&&(Dr.imagePath=this._detectIconPath()),(this.options.imagePath||Dr.imagePath)+xn.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var c=function(d,p,_){var x=p.exec(d);return x&&x[_]};return o=c(o,/^url\((['"])?(.+)\1\)$/,2),o&&c(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=ze("div","leaflet-default-icon-path",document.body),c=Do(o,"background-image")||Do(o,"backgroundImage");if(document.body.removeChild(o),c=this._stripUrl(c),c)return c;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),Bs=wn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new er(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),De(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ft(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var c=this._marker,d=c._map,p=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,x=Fn(c._icon),F=d.getPixelBounds(),$=d.getPixelOrigin(),q=Q(F.min._subtract($).add(_),F.max._subtract($).subtract(_));if(!q.contains(x)){var J=ne((Math.max(q.max.x,x.x)-q.max.x)/(F.max.x-q.max.x)-(Math.min(q.min.x,x.x)-q.min.x)/(F.min.x-q.min.x),(Math.max(q.max.y,x.y)-q.max.y)/(F.max.y-q.max.y)-(Math.min(q.min.y,x.y)-q.min.y)/(F.min.y-q.min.y)).multiplyBy(p);d.panBy(J,{animate:!1}),this._draggable._newPos._add(J),this._draggable._startPos._add(J),ot(c._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=T(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(k(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,o)))},_onDrag:function(o){var c=this._marker,d=c._shadow,p=Fn(c._icon),_=c._map.layerPointToLatLng(p);d&&ot(d,p),c._latlng=_,o.latlng=_,o.oldLatLng=this._oldLatLng,c.fire("move",o).fire("drag",o)},_onDragEnd:function(o){k(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),ml=Ne.extend({options:{icon:new Dr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,c){w(this,c),this._latlng=ae(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var c=this._latlng;return this._latlng=ae(o),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=o.icon.createIcon(this._icon),p=!1;d!==this._icon&&(this._icon&&this._removeIcon(),p=!0,o.title&&(d.title=o.title),d.tagName==="IMG"&&(d.alt=o.alt||"")),De(d,c),o.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ye(d,"focus",this._panOnFocus,this);var _=o.icon.createShadow(this._shadow),x=!1;_!==this._shadow&&(this._removeShadow(),x=!0),_&&(De(_,c),_.alt=""),this._shadow=_,o.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&x&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qe(this._icon,"focus",this._panOnFocus,this),nt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&nt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&ot(this._icon,o),this._shadow&&ot(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(De(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Bs)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Bs(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Jt(this._icon,o),this._shadow&&Jt(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var c=this.options.icon.options,d=c.iconSize?ne(c.iconSize):ne(0,0),p=c.iconAnchor?ne(c.iconAnchor):ne(0,0);o.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:d.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function _1(o,c){return new ml(o,c)}var ji=Ne.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return w(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),gl=ji.extend({options:{fill:!0,radius:10},initialize:function(o,c){w(this,c),this._latlng=ae(o),this._radius=this.options.radius},setLatLng:function(o){var c=this._latlng;return this._latlng=ae(o),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var c=o&&o.radius||this._radius;return ji.prototype.setStyle.call(this,o),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,c=this._radiusY||o,d=this._clickTolerance(),p=[o+d,c+d];this._pxBounds=new W(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function v1(o,c){return new gl(o,c)}var wp=gl.extend({initialize:function(o,c,d){if(typeof c=="number"&&(c=t({},d,{radius:c})),w(this,c),this._latlng=ae(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Y(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:ji.prototype.setStyle,_project:function(){var o=this._latlng.lng,c=this._latlng.lat,d=this._map,p=d.options.crs;if(p.distance===me.distance){var _=Math.PI/180,x=this._mRadius/me.R/_,F=d.project([c+x,o]),$=d.project([c-x,o]),q=F.add($).divideBy(2),J=d.unproject(q).lat,oe=Math.acos((Math.cos(x*_)-Math.sin(c*_)*Math.sin(J*_))/(Math.cos(c*_)*Math.cos(J*_)))/_;(isNaN(oe)||oe===0)&&(oe=x/Math.cos(Math.PI/180*c)),this._point=q.subtract(d.getPixelOrigin()),this._radius=isNaN(oe)?0:q.x-d.project([J,o-oe]).x,this._radiusY=q.y-F.y}else{var ge=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(ge).x}this._updateBounds()}});function y1(o,c,d){return new wp(o,c,d)}var ri=ji.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,c){w(this,c),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var c=1/0,d=null,p=Tt,_,x,F=0,$=this._parts.length;F<$;F++)for(var q=this._parts[F],J=1,oe=q.length;J<oe;J++){_=q[J-1],x=q[J];var ge=p(o,_,x,!0);ge<c&&(c=ge,d=p(o,_,x))}return d&&(d.distance=Math.sqrt(c)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ni(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,c){return c=c||this._defaultShape(),o=ae(o),c.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Y,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Xt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var c=[],d=Xt(o),p=0,_=o.length;p<_;p++)d?(c[p]=ae(o[p]),this._bounds.extend(c[p])):c[p]=this._convertLatLngs(o[p]);return c},_project:function(){var o=new W;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),c=new X(o,o);this._rawPxBounds&&(this._pxBounds=new W([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(o,c,d){var p=o[0]instanceof ie,_=o.length,x,F;if(p){for(F=[],x=0;x<_;x++)F[x]=this._map.latLngToLayerPoint(o[x]),d.extend(F[x]);c.push(F)}else for(x=0;x<_;x++)this._projectLatlngs(o[x],c,d)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,d,p,_,x,F,$,q;for(d=0,_=0,x=this._rings.length;d<x;d++)for(q=this._rings[d],p=0,F=q.length;p<F-1;p++)$=Ac(q[p],q[p+1],o,p,!0),$&&(c[_]=c[_]||[],c[_].push($[0]),($[1]!==q[p+1]||p===F-2)&&(c[_].push($[1]),_++))}},_simplifyPoints:function(){for(var o=this._parts,c=this.options.smoothFactor,d=0,p=o.length;d<p;d++)o[d]=Os(o[d],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,c){var d,p,_,x,F,$,q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(d=0,x=this._parts.length;d<x;d++)for($=this._parts[d],p=0,F=$.length,_=F-1;p<F;_=p++)if(!(!c&&p===0)&&bc(o,$[_],$[p])<=q)return!0;return!1}});function E1(o,c){return new ri(o,c)}ri._flat=Sc;var js=ri.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Dc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var c=ri.prototype._convertLatLngs.call(this,o),d=c.length;return d>=2&&c[0]instanceof ie&&c[0].equals(c[d-1])&&c.pop(),c},_setLatLngs:function(o){ri.prototype._setLatLngs.call(this,o),Xt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Xt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,c=this.options.weight,d=new X(c,c);if(o=new W(o.min.subtract(d),o.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,_=this._rings.length,x;p<_;p++)x=Bi(this._rings[p],o,!0),x.length&&this._parts.push(x)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var c=!1,d,p,_,x,F,$,q,J;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(x=0,q=this._parts.length;x<q;x++)for(d=this._parts[x],F=0,J=d.length,$=J-1;F<J;$=F++)p=d[F],_=d[$],p.y>o.y!=_.y>o.y&&o.x<(_.x-p.x)*(o.y-p.y)/(_.y-p.y)+p.x&&(c=!c);return c||ri.prototype._containsPoint.call(this,o,!0)}});function w1(o,c){return new js(o,c)}var ii=rt.extend({initialize:function(o,c){w(this,c),this._layers={},o&&this.addData(o)},addData:function(o){var c=D(o)?o:o.features,d,p,_;if(c){for(d=0,p=c.length;d<p;d++)_=c[d],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var x=this.options;if(x.filter&&!x.filter(o))return this;var F=_l(o,x);return F?(F.feature=El(o),F.defaultOptions=F.options,this.resetStyle(F),x.onEachFeature&&x.onEachFeature(o,F),this.addLayer(F)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=t({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(c){this._setLayerStyle(c,o)},this)},_setLayerStyle:function(o,c){o.setStyle&&(typeof c=="function"&&(c=c(o.feature)),o.setStyle(c))}});function _l(o,c){var d=o.type==="Feature"?o.geometry:o,p=d?d.coordinates:null,_=[],x=c&&c.pointToLayer,F=c&&c.coordsToLatLng||xp,$,q,J,oe;if(!p&&!d)return null;switch(d.type){case"Point":return $=F(p),Sy(x,o,$,c);case"MultiPoint":for(J=0,oe=p.length;J<oe;J++)$=F(p[J]),_.push(Sy(x,o,$,c));return new rt(_);case"LineString":case"MultiLineString":return q=vl(p,d.type==="LineString"?0:1,F),new ri(q,c);case"Polygon":case"MultiPolygon":return q=vl(p,d.type==="Polygon"?1:2,F),new js(q,c);case"GeometryCollection":for(J=0,oe=d.geometries.length;J<oe;J++){var ge=_l({geometry:d.geometries[J],type:"Feature",properties:o.properties},c);ge&&_.push(ge)}return new rt(_);case"FeatureCollection":for(J=0,oe=d.features.length;J<oe;J++){var Re=_l(d.features[J],c);Re&&_.push(Re)}return new rt(_);default:throw new Error("Invalid GeoJSON object.")}}function Sy(o,c,d,p){return o?o(c,d):new ml(d,p&&p.markersInheritOptions&&p)}function xp(o){return new ie(o[1],o[0],o[2])}function vl(o,c,d){for(var p=[],_=0,x=o.length,F;_<x;_++)F=c?vl(o[_],c-1,d):(d||xp)(o[_]),p.push(F);return p}function Ip(o,c){return o=ae(o),o.alt!==void 0?[m(o.lng,c),m(o.lat,c),m(o.alt,c)]:[m(o.lng,c),m(o.lat,c)]}function yl(o,c,d,p){for(var _=[],x=0,F=o.length;x<F;x++)_.push(c?yl(o[x],Xt(o[x])?0:c-1,d,p):Ip(o[x],p));return!c&&d&&_.length>0&&_.push(_[0].slice()),_}function Us(o,c){return o.feature?t({},o.feature,{geometry:c}):El(c)}function El(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Dp={toGeoJSON:function(o){return Us(this,{type:"Point",coordinates:Ip(this.getLatLng(),o)})}};ml.include(Dp),wp.include(Dp),gl.include(Dp),ri.include({toGeoJSON:function(o){var c=!Xt(this._latlngs),d=yl(this._latlngs,c?1:0,!1,o);return Us(this,{type:(c?"Multi":"")+"LineString",coordinates:d})}}),js.include({toGeoJSON:function(o){var c=!Xt(this._latlngs),d=c&&!Xt(this._latlngs[0]),p=yl(this._latlngs,d?2:c?1:0,!0,o);return c||(p=[p]),Us(this,{type:(d?"Multi":"")+"Polygon",coordinates:p})}}),dt.include({toMultiPoint:function(o){var c=[];return this.eachLayer(function(d){c.push(d.toGeoJSON(o).geometry.coordinates)}),Us(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(o){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(o);var d=c==="GeometryCollection",p=[];return this.eachLayer(function(_){if(_.toGeoJSON){var x=_.toGeoJSON(o);if(d)p.push(x.geometry);else{var F=El(x);F.type==="FeatureCollection"?p.push.apply(p,F.features):p.push(F)}}}),d?Us(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function My(o,c){return new ii(o,c)}var x1=My,wl=Ne.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,c,d){this._url=o,this._bounds=K(c),w(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(De(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){nt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Er(this._image),this},bringToBack:function(){return this._map&&wr(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=K(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",c=this._image=o?this._url:ze("img");if(De(c,"leaflet-image-layer"),this._zoomAnimated&&De(c,"leaflet-zoom-animated"),this.options.className&&De(c,this.options.className),c.onselectstart=f,c.onmousemove=f,c.onload=i(this.fire,this,"load"),c.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(o){var c=this._map.getZoomScale(o.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;jt(this._image,d,c)},_reset:function(){var o=this._image,c=new W(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=c.getSize();ot(o,c.min),o.style.width=d.x+"px",o.style.height=d.y+"px"},_updateOpacity:function(){Jt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),I1=function(o,c,d){return new wl(o,c,d)},Py=wl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",c=this._image=o?this._url:ze("video");if(De(c,"leaflet-image-layer"),this._zoomAnimated&&De(c,"leaflet-zoom-animated"),this.options.className&&De(c,this.options.className),c.onselectstart=f,c.onmousemove=f,c.onloadeddata=i(this.fire,this,"load"),o){for(var d=c.getElementsByTagName("source"),p=[],_=0;_<d.length;_++)p.push(d[_].src);this._url=d.length>0?p:[c.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var x=0;x<this._url.length;x++){var F=ze("source");F.src=this._url[x],c.appendChild(F)}}});function D1(o,c,d){return new Py(o,c,d)}var Ny=wl.extend({_initImage:function(){var o=this._image=this._url;De(o,"leaflet-image-layer"),this._zoomAnimated&&De(o,"leaflet-zoom-animated"),this.options.className&&De(o,this.options.className),o.onselectstart=f,o.onmousemove=f}});function C1(o,c,d){return new Ny(o,c,d)}var Cr=Ne.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,c){o&&(o instanceof ie||D(o))?(this._latlng=ae(o),w(this,c)):(w(this,o),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Jt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Jt(this._container,1),this.bringToFront(),this.options.interactive&&(De(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Jt(this._container,0),this._removeTimeout=setTimeout(i(nt,void 0,this._container),200)):nt(this._container),this.options.interactive&&(ft(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=ae(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Er(this._container),this},bringToBack:function(){return this._map&&wr(this._container),this},_prepareOpen:function(o){var c=this._source;if(!c._map)return!1;if(c instanceof rt){c=null;var d=this._source._layers;for(var p in d)if(d[p]._map){c=d[p];break}if(!c)return!1;this._source=c}if(!o)if(c.getCenter)o=c.getCenter();else if(c.getLatLng)o=c.getLatLng();else if(c.getBounds)o=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")o.innerHTML=c;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),c=ne(this.options.offset),d=this._getAnchor();this._zoomAnimated?ot(this._container,o.add(d)):c=c.add(o).add(d);var p=this._containerBottom=-c.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=p+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});Oe.include({_initOverlay:function(o,c,d,p){var _=c;return _ instanceof o||(_=new o(p).setContent(c)),d&&_.setLatLng(d),_}}),Ne.include({_initOverlay:function(o,c,d,p){var _=d;return _ instanceof o?(w(_,p),_._source=this):(_=c&&!p?c:new o(p,this),_.setContent(d)),_}});var xl=Cr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Cr.prototype.openOn.call(this,o)},onAdd:function(o){Cr.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ji||this._source.on("preclick",$t))},onRemove:function(o){Cr.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ji||this._source.off("preclick",$t))},getEvents:function(){var o=Cr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",c=this._container=ze("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=ze("div",o+"-content-wrapper",c);if(this._contentNode=ze("div",o+"-content",d),Ao(c),wc(this._contentNode),ye(c,"contextmenu",$t),this._tipContainer=ze("div",o+"-tip-container",c),this._tip=ze("div",o+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=ze("a",o+"-close-button",c);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',ye(p,"click",function(_){pt(_),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,c=o.style;c.width="",c.whiteSpace="nowrap";var d=o.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),c.width=d+1+"px",c.whiteSpace="",c.height="";var p=o.offsetHeight,_=this.options.maxHeight,x="leaflet-popup-scrolled";_&&p>_?(c.height=_+"px",De(o,x)):ft(o,x),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),d=this._getAnchor();ot(this._container,c.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,c=parseInt(Do(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+c,p=this._containerWidth,_=new X(this._containerLeft,-d-this._containerBottom);_._add(Fn(this._container));var x=o.layerPointToContainerPoint(_),F=ne(this.options.autoPanPadding),$=ne(this.options.autoPanPaddingTopLeft||F),q=ne(this.options.autoPanPaddingBottomRight||F),J=o.getSize(),oe=0,ge=0;x.x+p+q.x>J.x&&(oe=x.x+p-J.x+q.x),x.x-oe-$.x<0&&(oe=x.x-$.x),x.y+d+q.y>J.y&&(ge=x.y+d-J.y+q.y),x.y-ge-$.y<0&&(ge=x.y-$.y),(oe||ge)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([oe,ge]))}},_getAnchor:function(){return ne(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),b1=function(o,c){return new xl(o,c)};Oe.mergeOptions({closePopupOnClick:!0}),Oe.include({openPopup:function(o,c,d){return this._initOverlay(xl,o,c,d).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Ne.include({bindPopup:function(o,c){return this._popup=this._initOverlay(xl,this._popup,o,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof rt||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Ln(o);var c=o.layer||o.target;if(this._popup._source===c&&!(c instanceof ji)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=c,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Il=Cr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Cr.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Cr.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Cr.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",c=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ze("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var c,d,p=this._map,_=this._container,x=p.latLngToContainerPoint(p.getCenter()),F=p.layerPointToContainerPoint(o),$=this.options.direction,q=_.offsetWidth,J=_.offsetHeight,oe=ne(this.options.offset),ge=this._getAnchor();$==="top"?(c=q/2,d=J):$==="bottom"?(c=q/2,d=0):$==="center"?(c=q/2,d=J/2):$==="right"?(c=0,d=J/2):$==="left"?(c=q,d=J/2):F.x<x.x?($="right",c=0,d=J/2):($="left",c=q+(oe.x+ge.x)*2,d=J/2),o=o.subtract(ne(c,d,!0)).add(oe).add(ge),ft(_,"leaflet-tooltip-right"),ft(_,"leaflet-tooltip-left"),ft(_,"leaflet-tooltip-top"),ft(_,"leaflet-tooltip-bottom"),De(_,"leaflet-tooltip-"+$),ot(_,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Jt(this._container,o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(c)},_getAnchor:function(){return ne(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),T1=function(o,c){return new Il(o,c)};Oe.include({openTooltip:function(o,c,d){return this._initOverlay(Il,o,c,d).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Ne.include({bindTooltip:function(o,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Il,this._tooltip,o,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var c=o?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[c](d),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof rt||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&(ye(c,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),ye(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var c=o.latlng,d,p;this._tooltip.options.sticky&&o.originalEvent&&(d=this._map.mouseEventToContainerPoint(o.originalEvent),p=this._map.containerPointToLayerPoint(d),c=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(c)}});var Ry=xn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var c=o&&o.tagName==="DIV"?o:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Co(c),c.appendChild(d.html)):c.innerHTML=d.html!==!1?d.html:"",d.bgPos){var p=ne(d.bgPos);c.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function A1(o){return new Ry(o)}xn.Default=Dr;var Mc=Ne.extend({options:{tileSize:256,opacity:1,updateWhenIdle:se.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){w(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),nt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Er(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(wr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof X?o:new X(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var c=this.getPane().children,d=-o(-1/0,1/0),p=0,_=c.length,x;p<_;p++)x=c[p].style.zIndex,c[p]!==this._container&&x&&(d=o(d,+x));isFinite(d)&&(this.options.zIndex=d+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!se.ielt9){Jt(this._container,this.options.opacity);var o=+new Date,c=!1,d=!1;for(var p in this._tiles){var _=this._tiles[p];if(!(!_.current||!_.loaded)){var x=Math.min(1,(o-_.loaded)/200);Jt(_.el,x),x<1?c=!0:(_.active?d=!0:this._onOpaqueTile(_),_.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),c&&(k(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=ze("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,c=this.options.maxZoom;if(o!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===o?(this._levels[d].el.style.zIndex=c-Math.abs(o-d),this._onUpdateLevel(d)):(nt(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var p=this._levels[o],_=this._map;return p||(p=this._levels[o]={},p.el=ze("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=c,p.origin=_.project(_.unproject(_.getPixelOrigin()),o).round(),p.zoom=o,this._setZoomTransform(p,_.getCenter(),_.getZoom()),f(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var o,c,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)c=this._tiles[o],c.retain=c.current;for(o in this._tiles)if(c=this._tiles[o],c.current&&!c.active){var p=c.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var c in this._tiles)this._tiles[c].coords.z===o&&this._removeTile(c)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)nt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,c,d,p){var _=Math.floor(o/2),x=Math.floor(c/2),F=d-1,$=new X(+_,+x);$.z=+F;var q=this._tileCoordsToKey($),J=this._tiles[q];return J&&J.active?(J.retain=!0,!0):(J&&J.loaded&&(J.retain=!0),F>p?this._retainParent(_,x,F,p):!1)},_retainChildren:function(o,c,d,p){for(var _=2*o;_<2*o+2;_++)for(var x=2*c;x<2*c+2;x++){var F=new X(_,x);F.z=d+1;var $=this._tileCoordsToKey(F),q=this._tiles[$];if(q&&q.active){q.retain=!0;continue}else q&&q.loaded&&(q.retain=!0);d+1<p&&this._retainChildren(_,x,d+1,p)}},_resetView:function(o){var c=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var c=this.options;return c.minNativeZoom!==void 0&&o<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<o?c.maxNativeZoom:o},_setView:function(o,c,d,p){var _=Math.round(c);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var x=this.options.updateWhenZooming&&_!==this._tileZoom;(!p||x)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(o),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(o,c)},_setZoomTransforms:function(o,c){for(var d in this._levels)this._setZoomTransform(this._levels[d],o,c)},_setZoomTransform:function(o,c,d){var p=this._map.getZoomScale(d,o.zoom),_=o.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(c,d)).round();se.any3d?jt(o.el,_,p):ot(o.el,_)},_resetGrid:function(){var o=this._map,c=o.options.crs,d=this._tileSize=this.getTileSize(),p=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,c.wrapLng[0]],p).x/d.x),Math.ceil(o.project([0,c.wrapLng[1]],p).x/d.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([c.wrapLat[0],0],p).y/d.x),Math.ceil(o.project([c.wrapLat[1],0],p).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var c=this._map,d=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),p=c.getZoomScale(d,this._tileZoom),_=c.project(o,this._tileZoom).floor(),x=c.getSize().divideBy(p*2);return new W(_.subtract(x),_.add(x))},_update:function(o){var c=this._map;if(c){var d=this._clampZoom(c.getZoom());if(o===void 0&&(o=c.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(o),_=this._pxBoundsToTileRange(p),x=_.getCenter(),F=[],$=this.options.keepBuffer,q=new W(_.getBottomLeft().subtract([$,-$]),_.getTopRight().add([$,-$]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var J in this._tiles){var oe=this._tiles[J].coords;(oe.z!==this._tileZoom||!q.contains(new X(oe.x,oe.y)))&&(this._tiles[J].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(o,d);return}for(var ge=_.min.y;ge<=_.max.y;ge++)for(var Re=_.min.x;Re<=_.max.x;Re++){var en=new X(Re,ge);if(en.z=this._tileZoom,!!this._isValidTile(en)){var Lt=this._tiles[this._tileCoordsToKey(en)];Lt?Lt.current=!0:F.push(en)}}if(F.sort(function(dn,Hs){return dn.distanceTo(x)-Hs.distanceTo(x)}),F.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Vn=document.createDocumentFragment();for(Re=0;Re<F.length;Re++)this._addTile(F[Re],Vn);this._level.el.appendChild(Vn)}}}},_isValidTile:function(o){var c=this._map.options.crs;if(!c.infinite){var d=this._globalTileRange;if(!c.wrapLng&&(o.x<d.min.x||o.x>d.max.x)||!c.wrapLat&&(o.y<d.min.y||o.y>d.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(o);return K(this.options.bounds).overlaps(p)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var c=this._map,d=this.getTileSize(),p=o.scaleBy(d),_=p.add(d),x=c.unproject(p,o.z),F=c.unproject(_,o.z);return[x,F]},_tileCoordsToBounds:function(o){var c=this._tileCoordsToNwSe(o),d=new Y(c[0],c[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var c=o.split(":"),d=new X(+c[0],+c[1]);return d.z=+c[2],d},_removeTile:function(o){var c=this._tiles[o];c&&(nt(c.el),delete this._tiles[o],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){De(o,"leaflet-tile");var c=this.getTileSize();o.style.width=c.x+"px",o.style.height=c.y+"px",o.onselectstart=f,o.onmousemove=f,se.ielt9&&this.options.opacity<1&&Jt(o,this.options.opacity)},_addTile:function(o,c){var d=this._getTilePos(o),p=this._tileCoordsToKey(o),_=this.createTile(this._wrapCoords(o),i(this._tileReady,this,o));this._initTile(_),this.createTile.length<2&&T(i(this._tileReady,this,o,null,_)),ot(_,d),this._tiles[p]={el:_,coords:o,current:!0},c.appendChild(_),this.fire("tileloadstart",{tile:_,coords:o})},_tileReady:function(o,c,d){c&&this.fire("tileerror",{error:c,tile:d,coords:o});var p=this._tileCoordsToKey(o);d=this._tiles[p],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Jt(d.el,0),k(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),c||(De(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),se.ielt9||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var c=new X(this._wrapX?h(o.x,this._wrapX):o.x,this._wrapY?h(o.y,this._wrapY):o.y);return c.z=o.z,c},_pxBoundsToTileRange:function(o){var c=this.getTileSize();return new W(o.min.unscaleBy(c).floor(),o.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function S1(o){return new Mc(o)}var zs=Mc.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,c){this._url=o,c=w(this,c),c.detectRetina&&se.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,c){return this._url===o&&c===void 0&&(c=!0),this._url=o,c||this.redraw(),this},createTile:function(o,c){var d=document.createElement("img");return ye(d,"load",i(this._tileOnLoad,this,c,d)),ye(d,"error",i(this._tileOnError,this,c,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(o),d},getTileUrl:function(o){var c={r:se.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-o.y;this.options.tms&&(c.y=d),c["-y"]=d}return P(this._url,t(c,this.options))},_tileOnLoad:function(o,c){se.ielt9?setTimeout(i(o,this,null,c),0):o(null,c)},_tileOnError:function(o,c,d){var p=this.options.errorTileUrl;p&&c.getAttribute("src")!==p&&(c.src=p),o(d,c)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,c=this.options.maxZoom,d=this.options.zoomReverse,p=this.options.zoomOffset;return d&&(o=c-o),o+p},_getSubdomain:function(o){var c=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var o,c;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(c=this._tiles[o].el,c.onload=f,c.onerror=f,!c.complete)){c.src=V;var d=this._tiles[o].coords;nt(c),delete this._tiles[o],this.fire("tileabort",{tile:c,coords:d})}},_removeTile:function(o){var c=this._tiles[o];if(c)return c.el.setAttribute("src",V),Mc.prototype._removeTile.call(this,o)},_tileReady:function(o,c,d){if(!(!this._map||d&&d.getAttribute("src")===V))return Mc.prototype._tileReady.call(this,o,c,d)}});function ky(o,c){return new zs(o,c)}var Oy=zs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,c){this._url=o;var d=t({},this.defaultWmsParams);for(var p in c)p in this.options||(d[p]=c[p]);c=w(this,c);var _=c.detectRetina&&se.retina?2:1,x=this.getTileSize();d.width=x.x*_,d.height=x.y*_,this.wmsParams=d},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,zs.prototype.onAdd.call(this,o)},getTileUrl:function(o){var c=this._tileCoordsToNwSe(o),d=this._crs,p=Q(d.project(c[0]),d.project(c[1])),_=p.min,x=p.max,F=(this._wmsVersion>=1.3&&this._crs===G?[_.y,_.x,x.y,x.x]:[_.x,_.y,x.x,x.y]).join(","),$=zs.prototype.getTileUrl.call(this,o);return $+I(this.wmsParams,$,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+F},setParams:function(o,c){return t(this.wmsParams,o),c||this.redraw(),this}});function M1(o,c){return new Oy(o,c)}zs.WMS=Oy,ky.wms=M1;var oi=Ne.extend({options:{padding:.1},initialize:function(o){w(this,o),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),De(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,c){var d=this._map.getZoomScale(c,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,c),x=p.multiplyBy(-d).add(_).subtract(this._map._getNewPixelOrigin(o,c));se.any3d?jt(this._container,x,d):ot(this._container,x)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,c=this._map.getSize(),d=this._map.containerPointToLayerPoint(c.multiplyBy(-o)).round();this._bounds=new W(d,d.add(c.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fy=oi.extend({options:{tolerance:0},getEvents:function(){var o=oi.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){oi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");ye(o,"mousemove",this._onMouseMove,this),ye(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ye(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){k(this._redrawRequest),delete this._ctx,nt(this._container),Qe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var c in this._layers)o=this._layers[c],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){oi.prototype._update.call(this);var o=this._bounds,c=this._container,d=o.getSize(),p=se.retina?2:1;ot(c,o.min),c.width=p*d.x,c.height=p*d.y,c.style.width=d.x+"px",c.style.height=d.y+"px",se.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){oi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[a(o)]=o;var c=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var c=o._order,d=c.next,p=c.prev;d?d.prev=p:this._drawLast=p,p?p.next=d:this._drawFirst=d,delete o._order,delete this._layers[a(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var c=o.options.dashArray.split(/[, ]+/),d=[],p,_;for(_=0;_<c.length;_++){if(p=Number(c[_]),isNaN(p))return;d.push(p)}o.options._dashArray=d}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var c=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new W,this._redrawBounds.extend(o._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(o._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var c=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,c=this._redrawBounds;if(this._ctx.save(),c){var d=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)o=p.layer,(!c||o._pxBounds&&o._pxBounds.intersects(c))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,c){if(this._drawing){var d,p,_,x,F=o._parts,$=F.length,q=this._ctx;if($){for(q.beginPath(),d=0;d<$;d++){for(p=0,_=F[d].length;p<_;p++)x=F[d][p],q[p?"lineTo":"moveTo"](x.x,x.y);c&&q.closePath()}this._fillStroke(q,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var c=o._point,d=this._ctx,p=Math.max(Math.round(o._radius),1),_=(Math.max(Math.round(o._radiusY),1)||p)/p;_!==1&&(d.save(),d.scale(1,_)),d.beginPath(),d.arc(c.x,c.y/_,p,0,Math.PI*2,!1),_!==1&&d.restore(),this._fillStroke(d,o)}},_fillStroke:function(o,c){var d=c.options;d.fill&&(o.globalAlpha=d.fillOpacity,o.fillStyle=d.fillColor||d.color,o.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(o.setLineDash&&o.setLineDash(c.options&&c.options._dashArray||[]),o.globalAlpha=d.opacity,o.lineWidth=d.weight,o.strokeStyle=d.color,o.lineCap=d.lineCap,o.lineJoin=d.lineJoin,o.stroke())},_onClick:function(o){for(var c=this._map.mouseEventToLayerPoint(o),d,p,_=this._drawFirst;_;_=_.next)d=_.layer,d.options.interactive&&d._containsPoint(c)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(d))&&(p=d);this._fireEvent(p?[p]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,c)}},_handleMouseOut:function(o){var c=this._hoveredLayer;c&&(ft(this._container,"leaflet-interactive"),this._fireEvent([c],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,c){if(!this._mouseHoverThrottled){for(var d,p,_=this._drawFirst;_;_=_.next)d=_.layer,d.options.interactive&&d._containsPoint(c)&&(p=d);p!==this._hoveredLayer&&(this._handleMouseOut(o),p&&(De(this._container,"leaflet-interactive"),this._fireEvent([p],o,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(i(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,c,d){this._map._fireDOMEvent(c,d||c.type,o)},_bringToFront:function(o){var c=o._order;if(c){var d=c.next,p=c.prev;if(d)d.prev=p;else return;p?p.next=d:d&&(this._drawFirst=d),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(o)}},_bringToBack:function(o){var c=o._order;if(c){var d=c.next,p=c.prev;if(p)p.next=d;else return;d?d.prev=p:p&&(this._drawLast=p),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(o)}}});function Ly(o){return se.canvas?new Fy(o):null}var Pc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),P1={_initContainer:function(){this._container=ze("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(oi.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var c=o._container=Pc("shape");De(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",o._path=Pc("path"),c.appendChild(o._path),this._updateStyle(o),this._layers[a(o)]=o},_addPath:function(o){var c=o._container;this._container.appendChild(c),o.options.interactive&&o.addInteractiveTarget(c)},_removePath:function(o){var c=o._container;nt(c),o.removeInteractiveTarget(c),delete this._layers[a(o)]},_updateStyle:function(o){var c=o._stroke,d=o._fill,p=o.options,_=o._container;_.stroked=!!p.stroke,_.filled=!!p.fill,p.stroke?(c||(c=o._stroke=Pc("stroke")),_.appendChild(c),c.weight=p.weight+"px",c.color=p.color,c.opacity=p.opacity,p.dashArray?c.dashStyle=D(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=p.lineCap.replace("butt","flat"),c.joinstyle=p.lineJoin):c&&(_.removeChild(c),o._stroke=null),p.fill?(d||(d=o._fill=Pc("fill")),_.appendChild(d),d.color=p.fillColor||p.color,d.opacity=p.fillOpacity):d&&(_.removeChild(d),o._fill=null)},_updateCircle:function(o){var c=o._point.round(),d=Math.round(o._radius),p=Math.round(o._radiusY||d);this._setPath(o,o._empty()?"M0 0":"AL "+c.x+","+c.y+" "+d+","+p+" 0,"+65535*360)},_setPath:function(o,c){o._path.v=c},_bringToFront:function(o){Er(o._container)},_bringToBack:function(o){wr(o._container)}},Dl=se.vml?Pc:Wn,Nc=oi.extend({_initContainer:function(){this._container=Dl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Dl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){nt(this._container),Qe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){oi.prototype._update.call(this);var o=this._bounds,c=o.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,d.setAttribute("width",c.x),d.setAttribute("height",c.y)),ot(d,o.min),d.setAttribute("viewBox",[o.min.x,o.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(o){var c=o._path=Dl("path");o.options.className&&De(c,o.options.className),o.options.interactive&&De(c,"leaflet-interactive"),this._updateStyle(o),this._layers[a(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){nt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[a(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var c=o._path,d=o.options;c&&(d.stroke?(c.setAttribute("stroke",d.color),c.setAttribute("stroke-opacity",d.opacity),c.setAttribute("stroke-width",d.weight),c.setAttribute("stroke-linecap",d.lineCap),c.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?c.setAttribute("stroke-dasharray",d.dashArray):c.removeAttribute("stroke-dasharray"),d.dashOffset?c.setAttribute("stroke-dashoffset",d.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),d.fill?(c.setAttribute("fill",d.fillColor||d.color),c.setAttribute("fill-opacity",d.fillOpacity),c.setAttribute("fill-rule",d.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(o,c){this._setPath(o,Nn(o._parts,c))},_updateCircle:function(o){var c=o._point,d=Math.max(Math.round(o._radius),1),p=Math.max(Math.round(o._radiusY),1)||d,_="a"+d+","+p+" 0 1,0 ",x=o._empty()?"M0 0":"M"+(c.x-d)+","+c.y+_+d*2+",0 "+_+-d*2+",0 ";this._setPath(o,x)},_setPath:function(o,c){o._path.setAttribute("d",c)},_bringToFront:function(o){Er(o._path)},_bringToBack:function(o){wr(o._path)}});se.vml&&Nc.include(P1);function Vy(o){return se.svg||se.vml?new Nc(o):null}Oe.include({getRenderer:function(o){var c=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var c=this._paneRenderers[o];return c===void 0&&(c=this._createRenderer({pane:o}),this._paneRenderers[o]=c),c},_createRenderer:function(o){return this.options.preferCanvas&&Ly(o)||Vy(o)}});var By=js.extend({initialize:function(o,c){js.prototype.initialize.call(this,this._boundsToLatLngs(o),c)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=K(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function N1(o,c){return new By(o,c)}Nc.create=Dl,Nc.pointsToPath=Nn,ii.geometryToLayer=_l,ii.coordsToLatLng=xp,ii.coordsToLatLngs=vl,ii.latLngToCoords=Ip,ii.latLngsToCoords=yl,ii.getFeature=Us,ii.asFeature=El,Oe.mergeOptions({boxZoom:!0});var jy=wn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){ye(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Qe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){nt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Oi(),Jr(),this._startPoint=this._map.mouseEventToContainerPoint(o),ye(document,{contextmenu:Ln,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=ze("div","leaflet-zoom-box",this._container),De(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var c=new W(this._point,this._startPoint),d=c.getSize();ot(this._box,c.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(nt(this._box),ft(this._container,"leaflet-crosshair")),We(),mc(),Qe(document,{contextmenu:Ln,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var c=new Y(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Oe.addInitHook("addHandler","boxZoom",jy),Oe.mergeOptions({doubleClickZoom:!0});var Uy=wn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var c=this._map,d=c.getZoom(),p=c.options.zoomDelta,_=o.originalEvent.shiftKey?d-p:d+p;c.options.doubleClickZoom==="center"?c.setZoom(_):c.setZoomAround(o.containerPoint,_)}});Oe.addInitHook("addHandler","doubleClickZoom",Uy),Oe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var zy=wn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new er(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}De(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ft(this._map._container,"leaflet-grab"),ft(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=K(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var c=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(c),this._prunePositions(c)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,c){return o-(o-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;o.x<c.min.x&&(o.x=this._viscousLimit(o.x,c.min.x)),o.y<c.min.y&&(o.y=this._viscousLimit(o.y,c.min.y)),o.x>c.max.x&&(o.x=this._viscousLimit(o.x,c.max.x)),o.y>c.max.y&&(o.y=this._viscousLimit(o.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,c=Math.round(o/2),d=this._initialWorldOffset,p=this._draggable._newPos.x,_=(p-c+d)%o+c-d,x=(p+c+d)%o-c-d,F=Math.abs(_+d)<Math.abs(x+d)?_:x;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=F},_onDragEnd:function(o){var c=this._map,d=c.options,p=!d.inertia||o.noInertia||this._times.length<2;if(c.fire("dragend",o),p)c.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),x=(this._lastTime-this._times[0])/1e3,F=d.easeLinearity,$=_.multiplyBy(F/x),q=$.distanceTo([0,0]),J=Math.min(d.inertiaMaxSpeed,q),oe=$.multiplyBy(J/q),ge=J/(d.inertiaDeceleration*F),Re=oe.multiplyBy(-ge/2).round();!Re.x&&!Re.y?c.fire("moveend"):(Re=c._limitOffset(Re,c.options.maxBounds),T(function(){c.panBy(Re,{duration:ge,easeLinearity:F,noMoveStart:!0,animate:!0})}))}}});Oe.addInitHook("addHandler","dragging",zy),Oe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Hy=wn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),ye(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Qe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,c=document.documentElement,d=o.scrollTop||c.scrollTop,p=o.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(p,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var c=this._panKeys={},d=this.keyCodes,p,_;for(p=0,_=d.left.length;p<_;p++)c[d.left[p]]=[-1*o,0];for(p=0,_=d.right.length;p<_;p++)c[d.right[p]]=[o,0];for(p=0,_=d.down.length;p<_;p++)c[d.down[p]]=[0,o];for(p=0,_=d.up.length;p<_;p++)c[d.up[p]]=[0,-1*o]},_setZoomDelta:function(o){var c=this._zoomKeys={},d=this.keyCodes,p,_;for(p=0,_=d.zoomIn.length;p<_;p++)c[d.zoomIn[p]]=o;for(p=0,_=d.zoomOut.length;p<_;p++)c[d.zoomOut[p]]=-o},_addHooks:function(){ye(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Qe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var c=o.keyCode,d=this._map,p;if(c in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(p=this._panKeys[c],o.shiftKey&&(p=ne(p).multiplyBy(3)),d.options.maxBounds&&(p=d._limitOffset(ne(p),d.options.maxBounds)),d.options.worldCopyJump){var _=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(p)));d.panTo(_)}else d.panBy(p)}else if(c in this._zoomKeys)d.setZoom(d.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Ln(o)}}});Oe.addInitHook("addHandler","keyboard",Hy),Oe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var $y=wn.extend({addHooks:function(){ye(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Qe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var c=Ic(o),d=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var p=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),p),Ln(o)},_performZoom:function(){var o=this._map,c=o.getZoom(),d=this._map.options.zoomSnap||0;o._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,x=d?Math.ceil(_/d)*d:_,F=o._limitZoom(c+(this._delta>0?x:-x))-c;this._delta=0,this._startTime=null,F&&(o.options.scrollWheelZoom==="center"?o.setZoom(c+F):o.setZoomAround(this._lastMousePos,c+F))}});Oe.addInitHook("addHandler","scrollWheelZoom",$y);var R1=600;Oe.mergeOptions({tapHold:se.touchNative&&se.safari&&se.mobile,tapTolerance:15});var qy=wn.extend({addHooks:function(){ye(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Qe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var c=o.touches[0];this._startPos=this._newPos=new X(c.clientX,c.clientY),this._holdTimeout=setTimeout(i(function(){this._cancel(),this._isTapValid()&&(ye(document,"touchend",pt),ye(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),R1),ye(document,"touchend touchcancel contextmenu",this._cancel,this),ye(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Qe(document,"touchend",pt),Qe(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Qe(document,"touchend touchcancel contextmenu",this._cancel,this),Qe(document,"touchmove",this._onMove,this)},_onMove:function(o){var c=o.touches[0];this._newPos=new X(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,c){var d=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});d._simulated=!0,c.target.dispatchEvent(d)}});Oe.addInitHook("addHandler","tapHold",qy),Oe.mergeOptions({touchZoom:se.touch,bounceAtZoomLimits:!0});var Gy=wn.extend({addHooks:function(){De(this._map._container,"leaflet-touch-zoom"),ye(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ft(this._map._container,"leaflet-touch-zoom"),Qe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var c=this._map;if(!(!o.touches||o.touches.length!==2||c._animatingZoom||this._zooming)){var d=c.mouseEventToContainerPoint(o.touches[0]),p=c.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(d.add(p)._divideBy(2))),this._startDist=d.distanceTo(p),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),ye(document,"touchmove",this._onTouchMove,this),ye(document,"touchend touchcancel",this._onTouchEnd,this),pt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var c=this._map,d=c.mouseEventToContainerPoint(o.touches[0]),p=c.mouseEventToContainerPoint(o.touches[1]),_=d.distanceTo(p)/this._startDist;if(this._zoom=c.getScaleZoom(_,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&_<1||this._zoom>c.getMaxZoom()&&_>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var x=d._add(p)._divideBy(2)._subtract(this._centerPoint);if(_===1&&x.x===0&&x.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(x),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),k(this._animRequest);var F=i(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=T(F,this,!0),pt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,k(this._animRequest),Qe(document,"touchmove",this._onTouchMove,this),Qe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Oe.addInitHook("addHandler","touchZoom",Gy),Oe.BoxZoom=jy,Oe.DoubleClickZoom=Uy,Oe.Drag=zy,Oe.Keyboard=Hy,Oe.ScrollWheelZoom=$y,Oe.TapHold=qy,Oe.TouchZoom=Gy,n.Bounds=W,n.Browser=se,n.CRS=Ze,n.Canvas=Fy,n.Circle=wp,n.CircleMarker=gl,n.Class=O,n.Control=ln,n.DivIcon=Ry,n.DivOverlay=Cr,n.DomEvent=lt,n.DomUtil=xr,n.Draggable=er,n.Evented=ue,n.FeatureGroup=rt,n.GeoJSON=ii,n.GridLayer=Mc,n.Handler=wn,n.Icon=xn,n.ImageOverlay=wl,n.LatLng=ie,n.LatLngBounds=Y,n.Layer=Ne,n.LayerGroup=dt,n.LineUtil=l,n.Map=Oe,n.Marker=ml,n.Mixin=Rs,n.Path=ji,n.Point=X,n.PolyUtil=Cc,n.Polygon=js,n.Polyline=ri,n.Popup=xl,n.PosAnimation=al,n.Projection=b,n.Rectangle=By,n.Renderer=oi,n.SVG=Nc,n.SVGOverlay=Ny,n.TileLayer=zs,n.Tooltip=Il,n.Transformation=Kr,n.Util=S,n.VideoOverlay=Py,n.bind=i,n.bounds=Q,n.canvas=Ly,n.circle=y1,n.circleMarker=v1,n.control=Vi,n.divIcon=A1,n.extend=t,n.featureGroup=Ft,n.geoJSON=My,n.geoJson=x1,n.gridLayer=S1,n.icon=In,n.imageOverlay=I1,n.latLng=ae,n.latLngBounds=K,n.layerGroup=He,n.map=cl,n.marker=_1,n.point=ne,n.polygon=w1,n.polyline=E1,n.popup=b1,n.rectangle=N1,n.setOptions=w,n.stamp=a,n.svg=Vy,n.svgOverlay=C1,n.tileLayer=ky,n.tooltip=T1,n.transformation=zt,n.version=e,n.videoOverlay=D1;var k1=window.L;n.noConflict=function(){return window.L=k1,this},window.L=n})});var iA=ke(()=>{"use strict"});var Ue=ke((Rf,oA)=>{"use strict";(function(n,e){typeof Rf=="object"?oA.exports=Rf=e():typeof define=="function"&&define.amd?define([],e):n.CryptoJS=e()})(Rf,function(){var n=n||function(e,t){var r;if(typeof window<"u"&&window.crypto&&(r=window.crypto),typeof self<"u"&&self.crypto&&(r=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(r=globalThis.crypto),!r&&typeof window<"u"&&window.msCrypto&&(r=window.msCrypto),!r&&typeof global<"u"&&global.crypto&&(r=global.crypto),!r&&typeof eE=="function")try{r=iA()}catch{}var i=function(){if(r){if(typeof r.getRandomValues=="function")try{return r.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof r.randomBytes=="function")try{return r.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function D(){}return function(A){var V;return D.prototype=A,V=new D,D.prototype=null,V}}(),a={},u=a.lib={},h=u.Base=function(){return{extend:function(D){var A=s(this);return D&&A.mixIn(D),(!A.hasOwnProperty("init")||this.init===A.init)&&(A.init=function(){A.$super.init.apply(this,arguments)}),A.init.prototype=A,A.$super=this,A},create:function(){var D=this.extend();return D.init.apply(D,arguments),D},init:function(){},mixIn:function(D){for(var A in D)D.hasOwnProperty(A)&&(this[A]=D[A]);D.hasOwnProperty("toString")&&(this.toString=D.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=u.WordArray=h.extend({init:function(D,A){D=this.words=D||[],A!=t?this.sigBytes=A:this.sigBytes=D.length*4},toString:function(D){return(D||v).stringify(this)},concat:function(D){var A=this.words,V=D.words,B=this.sigBytes,z=D.sigBytes;if(this.clamp(),B%4)for(var U=0;U<z;U++){var N=V[U>>>2]>>>24-U%4*8&255;A[B+U>>>2]|=N<<24-(B+U)%4*8}else for(var C=0;C<z;C+=4)A[B+C>>>2]=V[C>>>2];return this.sigBytes+=z,this},clamp:function(){var D=this.words,A=this.sigBytes;D[A>>>2]&=4294967295<<32-A%4*8,D.length=e.ceil(A/4)},clone:function(){var D=h.clone.call(this);return D.words=this.words.slice(0),D},random:function(D){for(var A=[],V=0;V<D;V+=4)A.push(i());return new f.init(A,D)}}),m=a.enc={},v=m.Hex={stringify:function(D){for(var A=D.words,V=D.sigBytes,B=[],z=0;z<V;z++){var U=A[z>>>2]>>>24-z%4*8&255;B.push((U>>>4).toString(16)),B.push((U&15).toString(16))}return B.join("")},parse:function(D){for(var A=D.length,V=[],B=0;B<A;B+=2)V[B>>>3]|=parseInt(D.substr(B,2),16)<<24-B%8*4;return new f.init(V,A/2)}},E=m.Latin1={stringify:function(D){for(var A=D.words,V=D.sigBytes,B=[],z=0;z<V;z++){var U=A[z>>>2]>>>24-z%4*8&255;B.push(String.fromCharCode(U))}return B.join("")},parse:function(D){for(var A=D.length,V=[],B=0;B<A;B++)V[B>>>2]|=(D.charCodeAt(B)&255)<<24-B%4*8;return new f.init(V,A)}},w=m.Utf8={stringify:function(D){try{return decodeURIComponent(escape(E.stringify(D)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(D){return E.parse(unescape(encodeURIComponent(D)))}},I=u.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(D){typeof D=="string"&&(D=w.parse(D)),this._data.concat(D),this._nDataBytes+=D.sigBytes},_process:function(D){var A,V=this._data,B=V.words,z=V.sigBytes,U=this.blockSize,N=U*4,C=z/N;D?C=e.ceil(C):C=e.max((C|0)-this._minBufferSize,0);var T=C*U,k=e.min(T*4,z);if(T){for(var S=0;S<T;S+=U)this._doProcessBlock(B,S);A=B.splice(0,T),V.sigBytes-=k}return new f.init(A,k)},clone:function(){var D=h.clone.call(this);return D._data=this._data.clone(),D},_minBufferSize:0}),R=u.Hasher=I.extend({cfg:h.extend(),init:function(D){this.cfg=this.cfg.extend(D),this.reset()},reset:function(){I.reset.call(this),this._doReset()},update:function(D){return this._append(D),this._process(),this},finalize:function(D){D&&this._append(D);var A=this._doFinalize();return A},blockSize:512/32,_createHelper:function(D){return function(A,V){return new D.init(V).finalize(A)}},_createHmacHelper:function(D){return function(A,V){return new P.HMAC.init(D,V).finalize(A)}}}),P=a.algo={};return a}(Math);return n})});var Yu=ke((kf,sA)=>{"use strict";(function(n,e){typeof kf=="object"?sA.exports=kf=e(Ue()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(kf,function(n){return function(e){var t=n,r=t.lib,i=r.Base,s=r.WordArray,a=t.x64={},u=a.Word=i.extend({init:function(f,m){this.high=f,this.low=m}}),h=a.WordArray=i.extend({init:function(f,m){f=this.words=f||[],m!=e?this.sigBytes=m:this.sigBytes=f.length*8},toX32:function(){for(var f=this.words,m=f.length,v=[],E=0;E<m;E++){var w=f[E];v.push(w.high),v.push(w.low)}return s.create(v,this.sigBytes)},clone:function(){for(var f=i.clone.call(this),m=f.words=this.words.slice(0),v=m.length,E=0;E<v;E++)m[E]=m[E].clone();return f}})}(),n})});var cA=ke((Of,aA)=>{"use strict";(function(n,e){typeof Of=="object"?aA.exports=Of=e(Ue()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(Of,function(n){return function(){if(typeof ArrayBuffer=="function"){var e=n,t=e.lib,r=t.WordArray,i=r.init,s=r.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var u=a.byteLength,h=[],f=0;f<u;f++)h[f>>>2]|=a[f]<<24-f%4*8;i.call(this,h,u)}else i.apply(this,arguments)};s.prototype=r}}(),n.lib.WordArray})});var lA=ke((Ff,uA)=>{"use strict";(function(n,e){typeof Ff=="object"?uA.exports=Ff=e(Ue()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(Ff,function(n){return function(){var e=n,t=e.lib,r=t.WordArray,i=e.enc,s=i.Utf16=i.Utf16BE={stringify:function(u){for(var h=u.words,f=u.sigBytes,m=[],v=0;v<f;v+=2){var E=h[v>>>2]>>>16-v%4*8&65535;m.push(String.fromCharCode(E))}return m.join("")},parse:function(u){for(var h=u.length,f=[],m=0;m<h;m++)f[m>>>1]|=u.charCodeAt(m)<<16-m%2*16;return r.create(f,h*2)}};i.Utf16LE={stringify:function(u){for(var h=u.words,f=u.sigBytes,m=[],v=0;v<f;v+=2){var E=a(h[v>>>2]>>>16-v%4*8&65535);m.push(String.fromCharCode(E))}return m.join("")},parse:function(u){for(var h=u.length,f=[],m=0;m<h;m++)f[m>>>1]|=a(u.charCodeAt(m)<<16-m%2*16);return r.create(f,h*2)}};function a(u){return u<<8&4278255360|u>>>8&16711935}}(),n.enc.Utf16})});var vo=ke((Lf,dA)=>{"use strict";(function(n,e){typeof Lf=="object"?dA.exports=Lf=e(Ue()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(Lf,function(n){return function(){var e=n,t=e.lib,r=t.WordArray,i=e.enc,s=i.Base64={stringify:function(u){var h=u.words,f=u.sigBytes,m=this._map;u.clamp();for(var v=[],E=0;E<f;E+=3)for(var w=h[E>>>2]>>>24-E%4*8&255,I=h[E+1>>>2]>>>24-(E+1)%4*8&255,R=h[E+2>>>2]>>>24-(E+2)%4*8&255,P=w<<16|I<<8|R,D=0;D<4&&E+D*.75<f;D++)v.push(m.charAt(P>>>6*(3-D)&63));var A=m.charAt(64);if(A)for(;v.length%4;)v.push(A);return v.join("")},parse:function(u){var h=u.length,f=this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var v=0;v<f.length;v++)m[f.charCodeAt(v)]=v}var E=f.charAt(64);if(E){var w=u.indexOf(E);w!==-1&&(h=w)}return a(u,h,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(u,h,f){for(var m=[],v=0,E=0;E<h;E++)if(E%4){var w=f[u.charCodeAt(E-1)]<<E%4*2,I=f[u.charCodeAt(E)]>>>6-E%4*2,R=w|I;m[v>>>2]|=R<<24-v%4*8,v++}return r.create(m,v)}}(),n.enc.Base64})});var fA=ke((Vf,hA)=>{"use strict";(function(n,e){typeof Vf=="object"?hA.exports=Vf=e(Ue()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(Vf,function(n){return function(){var e=n,t=e.lib,r=t.WordArray,i=e.enc,s=i.Base64url={stringify:function(u,h){h===void 0&&(h=!0);var f=u.words,m=u.sigBytes,v=h?this._safe_map:this._map;u.clamp();for(var E=[],w=0;w<m;w+=3)for(var I=f[w>>>2]>>>24-w%4*8&255,R=f[w+1>>>2]>>>24-(w+1)%4*8&255,P=f[w+2>>>2]>>>24-(w+2)%4*8&255,D=I<<16|R<<8|P,A=0;A<4&&w+A*.75<m;A++)E.push(v.charAt(D>>>6*(3-A)&63));var V=v.charAt(64);if(V)for(;E.length%4;)E.push(V);return E.join("")},parse:function(u,h){h===void 0&&(h=!0);var f=u.length,m=h?this._safe_map:this._map,v=this._reverseMap;if(!v){v=this._reverseMap=[];for(var E=0;E<m.length;E++)v[m.charCodeAt(E)]=E}var w=m.charAt(64);if(w){var I=u.indexOf(w);I!==-1&&(f=I)}return a(u,f,v)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(u,h,f){for(var m=[],v=0,E=0;E<h;E++)if(E%4){var w=f[u.charCodeAt(E-1)]<<E%4*2,I=f[u.charCodeAt(E)]>>>6-E%4*2,R=w|I;m[v>>>2]|=R<<24-v%4*8,v++}return r.create(m,v)}}(),n.enc.Base64url})});var yo=ke((Bf,pA)=>{"use strict";(function(n,e){typeof Bf=="object"?pA.exports=Bf=e(Ue()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(Bf,function(n){return function(e){var t=n,r=t.lib,i=r.WordArray,s=r.Hasher,a=t.algo,u=[];(function(){for(var w=0;w<64;w++)u[w]=e.abs(e.sin(w+1))*4294967296|0})();var h=a.MD5=s.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(w,I){for(var R=0;R<16;R++){var P=I+R,D=w[P];w[P]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}var A=this._hash.words,V=w[I+0],B=w[I+1],z=w[I+2],U=w[I+3],N=w[I+4],C=w[I+5],T=w[I+6],k=w[I+7],S=w[I+8],O=w[I+9],M=w[I+10],Z=w[I+11],ue=w[I+12],X=w[I+13],pe=w[I+14],ne=w[I+15],W=A[0],Q=A[1],Y=A[2],K=A[3];W=f(W,Q,Y,K,V,7,u[0]),K=f(K,W,Q,Y,B,12,u[1]),Y=f(Y,K,W,Q,z,17,u[2]),Q=f(Q,Y,K,W,U,22,u[3]),W=f(W,Q,Y,K,N,7,u[4]),K=f(K,W,Q,Y,C,12,u[5]),Y=f(Y,K,W,Q,T,17,u[6]),Q=f(Q,Y,K,W,k,22,u[7]),W=f(W,Q,Y,K,S,7,u[8]),K=f(K,W,Q,Y,O,12,u[9]),Y=f(Y,K,W,Q,M,17,u[10]),Q=f(Q,Y,K,W,Z,22,u[11]),W=f(W,Q,Y,K,ue,7,u[12]),K=f(K,W,Q,Y,X,12,u[13]),Y=f(Y,K,W,Q,pe,17,u[14]),Q=f(Q,Y,K,W,ne,22,u[15]),W=m(W,Q,Y,K,B,5,u[16]),K=m(K,W,Q,Y,T,9,u[17]),Y=m(Y,K,W,Q,Z,14,u[18]),Q=m(Q,Y,K,W,V,20,u[19]),W=m(W,Q,Y,K,C,5,u[20]),K=m(K,W,Q,Y,M,9,u[21]),Y=m(Y,K,W,Q,ne,14,u[22]),Q=m(Q,Y,K,W,N,20,u[23]),W=m(W,Q,Y,K,O,5,u[24]),K=m(K,W,Q,Y,pe,9,u[25]),Y=m(Y,K,W,Q,U,14,u[26]),Q=m(Q,Y,K,W,S,20,u[27]),W=m(W,Q,Y,K,X,5,u[28]),K=m(K,W,Q,Y,z,9,u[29]),Y=m(Y,K,W,Q,k,14,u[30]),Q=m(Q,Y,K,W,ue,20,u[31]),W=v(W,Q,Y,K,C,4,u[32]),K=v(K,W,Q,Y,S,11,u[33]),Y=v(Y,K,W,Q,Z,16,u[34]),Q=v(Q,Y,K,W,pe,23,u[35]),W=v(W,Q,Y,K,B,4,u[36]),K=v(K,W,Q,Y,N,11,u[37]),Y=v(Y,K,W,Q,k,16,u[38]),Q=v(Q,Y,K,W,M,23,u[39]),W=v(W,Q,Y,K,X,4,u[40]),K=v(K,W,Q,Y,V,11,u[41]),Y=v(Y,K,W,Q,U,16,u[42]),Q=v(Q,Y,K,W,T,23,u[43]),W=v(W,Q,Y,K,O,4,u[44]),K=v(K,W,Q,Y,ue,11,u[45]),Y=v(Y,K,W,Q,ne,16,u[46]),Q=v(Q,Y,K,W,z,23,u[47]),W=E(W,Q,Y,K,V,6,u[48]),K=E(K,W,Q,Y,k,10,u[49]),Y=E(Y,K,W,Q,pe,15,u[50]),Q=E(Q,Y,K,W,C,21,u[51]),W=E(W,Q,Y,K,ue,6,u[52]),K=E(K,W,Q,Y,U,10,u[53]),Y=E(Y,K,W,Q,M,15,u[54]),Q=E(Q,Y,K,W,B,21,u[55]),W=E(W,Q,Y,K,S,6,u[56]),K=E(K,W,Q,Y,ne,10,u[57]),Y=E(Y,K,W,Q,T,15,u[58]),Q=E(Q,Y,K,W,X,21,u[59]),W=E(W,Q,Y,K,N,6,u[60]),K=E(K,W,Q,Y,Z,10,u[61]),Y=E(Y,K,W,Q,z,15,u[62]),Q=E(Q,Y,K,W,O,21,u[63]),A[0]=A[0]+W|0,A[1]=A[1]+Q|0,A[2]=A[2]+Y|0,A[3]=A[3]+K|0},_doFinalize:function(){var w=this._data,I=w.words,R=this._nDataBytes*8,P=w.sigBytes*8;I[P>>>5]|=128<<24-P%32;var D=e.floor(R/4294967296),A=R;I[(P+64>>>9<<4)+15]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,I[(P+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,w.sigBytes=(I.length+1)*4,this._process();for(var V=this._hash,B=V.words,z=0;z<4;z++){var U=B[z];B[z]=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360}return V},clone:function(){var w=s.clone.call(this);return w._hash=this._hash.clone(),w}});function f(w,I,R,P,D,A,V){var B=w+(I&R|~I&P)+D+V;return(B<<A|B>>>32-A)+I}function m(w,I,R,P,D,A,V){var B=w+(I&P|R&~P)+D+V;return(B<<A|B>>>32-A)+I}function v(w,I,R,P,D,A,V){var B=w+(I^R^P)+D+V;return(B<<A|B>>>32-A)+I}function E(w,I,R,P,D,A,V){var B=w+(R^(I|~P))+D+V;return(B<<A|B>>>32-A)+I}t.MD5=s._createHelper(h),t.HmacMD5=s._createHmacHelper(h)}(Math),n.MD5})});var by=ke((jf,mA)=>{"use strict";(function(n,e){typeof jf=="object"?mA.exports=jf=e(Ue()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(jf,function(n){return function(){var e=n,t=e.lib,r=t.WordArray,i=t.Hasher,s=e.algo,a=[],u=s.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(h,f){for(var m=this._hash.words,v=m[0],E=m[1],w=m[2],I=m[3],R=m[4],P=0;P<80;P++){if(P<16)a[P]=h[f+P]|0;else{var D=a[P-3]^a[P-8]^a[P-14]^a[P-16];a[P]=D<<1|D>>>31}var A=(v<<5|v>>>27)+R+a[P];P<20?A+=(E&w|~E&I)+1518500249:P<40?A+=(E^w^I)+1859775393:P<60?A+=(E&w|E&I|w&I)-1894007588:A+=(E^w^I)-899497514,R=I,I=w,w=E<<30|E>>>2,E=v,v=A}m[0]=m[0]+v|0,m[1]=m[1]+E|0,m[2]=m[2]+w|0,m[3]=m[3]+I|0,m[4]=m[4]+R|0},_doFinalize:function(){var h=this._data,f=h.words,m=this._nDataBytes*8,v=h.sigBytes*8;return f[v>>>5]|=128<<24-v%32,f[(v+64>>>9<<4)+14]=Math.floor(m/4294967296),f[(v+64>>>9<<4)+15]=m,h.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var h=i.clone.call(this);return h._hash=this._hash.clone(),h}});e.SHA1=i._createHelper(u),e.HmacSHA1=i._createHmacHelper(u)}(),n.SHA1})});var zf=ke((Uf,gA)=>{"use strict";(function(n,e){typeof Uf=="object"?gA.exports=Uf=e(Ue()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(Uf,function(n){return function(e){var t=n,r=t.lib,i=r.WordArray,s=r.Hasher,a=t.algo,u=[],h=[];(function(){function v(R){for(var P=e.sqrt(R),D=2;D<=P;D++)if(!(R%D))return!1;return!0}function E(R){return(R-(R|0))*4294967296|0}for(var w=2,I=0;I<64;)v(w)&&(I<8&&(u[I]=E(e.pow(w,1/2))),h[I]=E(e.pow(w,1/3)),I++),w++})();var f=[],m=a.SHA256=s.extend({_doReset:function(){this._hash=new i.init(u.slice(0))},_doProcessBlock:function(v,E){for(var w=this._hash.words,I=w[0],R=w[1],P=w[2],D=w[3],A=w[4],V=w[5],B=w[6],z=w[7],U=0;U<64;U++){if(U<16)f[U]=v[E+U]|0;else{var N=f[U-15],C=(N<<25|N>>>7)^(N<<14|N>>>18)^N>>>3,T=f[U-2],k=(T<<15|T>>>17)^(T<<13|T>>>19)^T>>>10;f[U]=C+f[U-7]+k+f[U-16]}var S=A&V^~A&B,O=I&R^I&P^R&P,M=(I<<30|I>>>2)^(I<<19|I>>>13)^(I<<10|I>>>22),Z=(A<<26|A>>>6)^(A<<21|A>>>11)^(A<<7|A>>>25),ue=z+Z+S+h[U]+f[U],X=M+O;z=B,B=V,V=A,A=D+ue|0,D=P,P=R,R=I,I=ue+X|0}w[0]=w[0]+I|0,w[1]=w[1]+R|0,w[2]=w[2]+P|0,w[3]=w[3]+D|0,w[4]=w[4]+A|0,w[5]=w[5]+V|0,w[6]=w[6]+B|0,w[7]=w[7]+z|0},_doFinalize:function(){var v=this._data,E=v.words,w=this._nDataBytes*8,I=v.sigBytes*8;return E[I>>>5]|=128<<24-I%32,E[(I+64>>>9<<4)+14]=e.floor(w/4294967296),E[(I+64>>>9<<4)+15]=w,v.sigBytes=E.length*4,this._process(),this._hash},clone:function(){var v=s.clone.call(this);return v._hash=this._hash.clone(),v}});t.SHA256=s._createHelper(m),t.HmacSHA256=s._createHmacHelper(m)}(Math),n.SHA256})});var vA=ke((Hf,_A)=>{"use strict";(function(n,e,t){typeof Hf=="object"?_A.exports=Hf=e(Ue(),zf()):typeof define=="function"&&define.amd?define(["./core","./sha256"],e):e(n.CryptoJS)})(Hf,function(n){return function(){var e=n,t=e.lib,r=t.WordArray,i=e.algo,s=i.SHA256,a=i.SHA224=s.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=s._doFinalize.call(this);return u.sigBytes-=4,u}});e.SHA224=s._createHelper(a),e.HmacSHA224=s._createHmacHelper(a)}(),n.SHA224})});var Ty=ke(($f,yA)=>{"use strict";(function(n,e,t){typeof $f=="object"?yA.exports=$f=e(Ue(),Yu()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(n.CryptoJS)})($f,function(n){return function(){var e=n,t=e.lib,r=t.Hasher,i=e.x64,s=i.Word,a=i.WordArray,u=e.algo;function h(){return s.create.apply(s,arguments)}var f=[h(1116352408,3609767458),h(1899447441,602891725),h(3049323471,3964484399),h(3921009573,2173295548),h(961987163,4081628472),h(1508970993,3053834265),h(2453635748,2937671579),h(2870763221,3664609560),h(3624381080,2734883394),h(310598401,1164996542),h(607225278,1323610764),h(1426881987,3590304994),h(1925078388,4068182383),h(2162078206,991336113),h(2614888103,633803317),h(3248222580,3479774868),h(3835390401,2666613458),h(4022224774,944711139),h(264347078,2341262773),h(604807628,2007800933),h(770255983,1495990901),h(1249150122,1856431235),h(1555081692,3175218132),h(1996064986,2198950837),h(2554220882,3999719339),h(2821834349,766784016),h(2952996808,2566594879),h(3210313671,3203337956),h(3336571891,1034457026),h(3584528711,2466948901),h(113926993,3758326383),h(338241895,168717936),h(666307205,1188179964),h(773529912,1546045734),h(1294757372,1522805485),h(1396182291,2643833823),h(1695183700,2343527390),h(1986661051,1014477480),h(2177026350,1206759142),h(2456956037,344077627),h(2730485921,1290863460),h(2820302411,3158454273),h(3259730800,3505952657),h(3345764771,106217008),h(3516065817,3606008344),h(3600352804,1432725776),h(4094571909,1467031594),h(275423344,851169720),h(430227734,3100823752),h(506948616,1363258195),h(659060556,3750685593),h(883997877,3785050280),h(958139571,3318307427),h(1322822218,3812723403),h(1537002063,2003034995),h(1747873779,3602036899),h(1955562222,1575990012),h(2024104815,1125592928),h(2227730452,2716904306),h(2361852424,442776044),h(2428436474,593698344),h(2756734187,3733110249),h(3204031479,2999351573),h(3329325298,3815920427),h(3391569614,3928383900),h(3515267271,566280711),h(3940187606,3454069534),h(4118630271,4000239992),h(116418474,1914138554),h(174292421,2731055270),h(289380356,3203993006),h(460393269,320620315),h(685471733,587496836),h(852142971,1086792851),h(1017036298,365543100),h(1126000580,2618297676),h(1288033470,3409855158),h(1501505948,4234509866),h(1607167915,987167468),h(1816402316,1246189591)],m=[];(function(){for(var E=0;E<80;E++)m[E]=h()})();var v=u.SHA512=r.extend({_doReset:function(){this._hash=new a.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(E,w){for(var I=this._hash.words,R=I[0],P=I[1],D=I[2],A=I[3],V=I[4],B=I[5],z=I[6],U=I[7],N=R.high,C=R.low,T=P.high,k=P.low,S=D.high,O=D.low,M=A.high,Z=A.low,ue=V.high,X=V.low,pe=B.high,ne=B.low,W=z.high,Q=z.low,Y=U.high,K=U.low,ie=N,ae=C,Ze=T,me=k,an=S,Pn=O,Kr=M,zt=Z,xt=ue,bt=X,Wn=pe,Nn=ne,Rn=W,vn=Q,bi=Y,pr=K,Rt=0;Rt<80;Rt++){var kt,Yt,Zr=m[Rt];if(Rt<16)Yt=Zr.high=E[w+Rt*2]|0,kt=Zr.low=E[w+Rt*2+1]|0;else{var xs=m[Rt-15],cn=xs.high,kn=xs.low,Ti=(cn>>>1|kn<<31)^(cn>>>8|kn<<24)^cn>>>7,yt=(kn>>>1|cn<<31)^(kn>>>8|cn<<24)^(kn>>>7|cn<<25),Et=m[Rt-2],un=Et.high,mr=Et.low,Eo=(un>>>19|mr<<13)^(un<<3|mr>>>29)^un>>>6,Ai=(mr>>>19|un<<13)^(mr<<3|un>>>29)^(mr>>>6|un<<26),Kn=m[Rt-7],Is=Kn.high,gr=Kn.low,Si=m[Rt-16],cc=Si.high,wo=Si.low;kt=yt+gr,Yt=Ti+Is+(kt>>>0<yt>>>0?1:0),kt=kt+Ai,Yt=Yt+Eo+(kt>>>0<Ai>>>0?1:0),kt=kt+wo,Yt=Yt+cc+(kt>>>0<wo>>>0?1:0),Zr.high=Yt,Zr.low=kt}var Mi=xt&Wn^~xt&Rn,Pi=bt&Nn^~bt&vn,Ds=ie&Ze^ie&an^Ze&an,Qr=ae&me^ae&Pn^me&Pn,xo=(ie>>>28|ae<<4)^(ie<<30|ae>>>2)^(ie<<25|ae>>>7),Ni=(ae>>>28|ie<<4)^(ae<<30|ie>>>2)^(ae<<25|ie>>>7),Zn=(xt>>>14|bt<<18)^(xt>>>18|bt<<14)^(xt<<23|bt>>>9),Cs=(bt>>>14|xt<<18)^(bt>>>18|xt<<14)^(bt<<23|xt>>>9),Qn=f[Rt],bs=Qn.high,_r=Qn.low,Ot=pr+Cs,tt=bi+Zn+(Ot>>>0<pr>>>0?1:0),Ot=Ot+Pi,tt=tt+Mi+(Ot>>>0<Pi>>>0?1:0),Ot=Ot+_r,tt=tt+bs+(Ot>>>0<_r>>>0?1:0),Ot=Ot+kt,tt=tt+Yt+(Ot>>>0<kt>>>0?1:0),Ht=Ni+Qr,se=xo+Ds+(Ht>>>0<Ni>>>0?1:0);bi=Rn,pr=vn,Rn=Wn,vn=Nn,Wn=xt,Nn=bt,bt=zt+Ot|0,xt=Kr+tt+(bt>>>0<zt>>>0?1:0)|0,Kr=an,zt=Pn,an=Ze,Pn=me,Ze=ie,me=ae,ae=Ot+Ht|0,ie=tt+se+(ae>>>0<Ot>>>0?1:0)|0}C=R.low=C+ae,R.high=N+ie+(C>>>0<ae>>>0?1:0),k=P.low=k+me,P.high=T+Ze+(k>>>0<me>>>0?1:0),O=D.low=O+Pn,D.high=S+an+(O>>>0<Pn>>>0?1:0),Z=A.low=Z+zt,A.high=M+Kr+(Z>>>0<zt>>>0?1:0),X=V.low=X+bt,V.high=ue+xt+(X>>>0<bt>>>0?1:0),ne=B.low=ne+Nn,B.high=pe+Wn+(ne>>>0<Nn>>>0?1:0),Q=z.low=Q+vn,z.high=W+Rn+(Q>>>0<vn>>>0?1:0),K=U.low=K+pr,U.high=Y+bi+(K>>>0<pr>>>0?1:0)},_doFinalize:function(){var E=this._data,w=E.words,I=this._nDataBytes*8,R=E.sigBytes*8;w[R>>>5]|=128<<24-R%32,w[(R+128>>>10<<5)+30]=Math.floor(I/4294967296),w[(R+128>>>10<<5)+31]=I,E.sigBytes=w.length*4,this._process();var P=this._hash.toX32();return P},clone:function(){var E=r.clone.call(this);return E._hash=this._hash.clone(),E},blockSize:1024/32});e.SHA512=r._createHelper(v),e.HmacSHA512=r._createHmacHelper(v)}(),n.SHA512})});var wA=ke((qf,EA)=>{"use strict";(function(n,e,t){typeof qf=="object"?EA.exports=qf=e(Ue(),Yu(),Ty()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],e):e(n.CryptoJS)})(qf,function(n){return function(){var e=n,t=e.x64,r=t.Word,i=t.WordArray,s=e.algo,a=s.SHA512,u=s.SHA384=a.extend({_doReset:function(){this._hash=new i.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var h=a._doFinalize.call(this);return h.sigBytes-=16,h}});e.SHA384=a._createHelper(u),e.HmacSHA384=a._createHmacHelper(u)}(),n.SHA384})});var IA=ke((Gf,xA)=>{"use strict";(function(n,e,t){typeof Gf=="object"?xA.exports=Gf=e(Ue(),Yu()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(n.CryptoJS)})(Gf,function(n){return function(e){var t=n,r=t.lib,i=r.WordArray,s=r.Hasher,a=t.x64,u=a.Word,h=t.algo,f=[],m=[],v=[];(function(){for(var I=1,R=0,P=0;P<24;P++){f[I+5*R]=(P+1)*(P+2)/2%64;var D=R%5,A=(2*I+3*R)%5;I=D,R=A}for(var I=0;I<5;I++)for(var R=0;R<5;R++)m[I+5*R]=R+(2*I+3*R)%5*5;for(var V=1,B=0;B<24;B++){for(var z=0,U=0,N=0;N<7;N++){if(V&1){var C=(1<<N)-1;C<32?U^=1<<C:z^=1<<C-32}V&128?V=V<<1^113:V<<=1}v[B]=u.create(z,U)}})();var E=[];(function(){for(var I=0;I<25;I++)E[I]=u.create()})();var w=h.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var I=this._state=[],R=0;R<25;R++)I[R]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(I,R){for(var P=this._state,D=this.blockSize/2,A=0;A<D;A++){var V=I[R+2*A],B=I[R+2*A+1];V=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360,B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360;var z=P[A];z.high^=B,z.low^=V}for(var U=0;U<24;U++){for(var N=0;N<5;N++){for(var C=0,T=0,k=0;k<5;k++){var z=P[N+5*k];C^=z.high,T^=z.low}var S=E[N];S.high=C,S.low=T}for(var N=0;N<5;N++)for(var O=E[(N+4)%5],M=E[(N+1)%5],Z=M.high,ue=M.low,C=O.high^(Z<<1|ue>>>31),T=O.low^(ue<<1|Z>>>31),k=0;k<5;k++){var z=P[N+5*k];z.high^=C,z.low^=T}for(var X=1;X<25;X++){var C,T,z=P[X],pe=z.high,ne=z.low,W=f[X];W<32?(C=pe<<W|ne>>>32-W,T=ne<<W|pe>>>32-W):(C=ne<<W-32|pe>>>64-W,T=pe<<W-32|ne>>>64-W);var Q=E[m[X]];Q.high=C,Q.low=T}var Y=E[0],K=P[0];Y.high=K.high,Y.low=K.low;for(var N=0;N<5;N++)for(var k=0;k<5;k++){var X=N+5*k,z=P[X],ie=E[X],ae=E[(N+1)%5+5*k],Ze=E[(N+2)%5+5*k];z.high=ie.high^~ae.high&Ze.high,z.low=ie.low^~ae.low&Ze.low}var z=P[0],me=v[U];z.high^=me.high,z.low^=me.low}},_doFinalize:function(){var I=this._data,R=I.words,P=this._nDataBytes*8,D=I.sigBytes*8,A=this.blockSize*32;R[D>>>5]|=1<<24-D%32,R[(e.ceil((D+1)/A)*A>>>5)-1]|=128,I.sigBytes=R.length*4,this._process();for(var V=this._state,B=this.cfg.outputLength/8,z=B/8,U=[],N=0;N<z;N++){var C=V[N],T=C.high,k=C.low;T=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,U.push(k),U.push(T)}return new i.init(U,B)},clone:function(){for(var I=s.clone.call(this),R=I._state=this._state.slice(0),P=0;P<25;P++)R[P]=R[P].clone();return I}});t.SHA3=s._createHelper(w),t.HmacSHA3=s._createHmacHelper(w)}(Math),n.SHA3})});var CA=ke((Wf,DA)=>{"use strict";(function(n,e){typeof Wf=="object"?DA.exports=Wf=e(Ue()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(Wf,function(n){return function(e){var t=n,r=t.lib,i=r.WordArray,s=r.Hasher,a=t.algo,u=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),h=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),m=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),v=i.create([0,1518500249,1859775393,2400959708,2840853838]),E=i.create([1352829926,1548603684,1836072691,2053994217,0]),w=a.RIPEMD160=s.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(B,z){for(var U=0;U<16;U++){var N=z+U,C=B[N];B[N]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}var T=this._hash.words,k=v.words,S=E.words,O=u.words,M=h.words,Z=f.words,ue=m.words,X,pe,ne,W,Q,Y,K,ie,ae,Ze;Y=X=T[0],K=pe=T[1],ie=ne=T[2],ae=W=T[3],Ze=Q=T[4];for(var me,U=0;U<80;U+=1)me=X+B[z+O[U]]|0,U<16?me+=I(pe,ne,W)+k[0]:U<32?me+=R(pe,ne,W)+k[1]:U<48?me+=P(pe,ne,W)+k[2]:U<64?me+=D(pe,ne,W)+k[3]:me+=A(pe,ne,W)+k[4],me=me|0,me=V(me,Z[U]),me=me+Q|0,X=Q,Q=W,W=V(ne,10),ne=pe,pe=me,me=Y+B[z+M[U]]|0,U<16?me+=A(K,ie,ae)+S[0]:U<32?me+=D(K,ie,ae)+S[1]:U<48?me+=P(K,ie,ae)+S[2]:U<64?me+=R(K,ie,ae)+S[3]:me+=I(K,ie,ae)+S[4],me=me|0,me=V(me,ue[U]),me=me+Ze|0,Y=Ze,Ze=ae,ae=V(ie,10),ie=K,K=me;me=T[1]+ne+ae|0,T[1]=T[2]+W+Ze|0,T[2]=T[3]+Q+Y|0,T[3]=T[4]+X+K|0,T[4]=T[0]+pe+ie|0,T[0]=me},_doFinalize:function(){var B=this._data,z=B.words,U=this._nDataBytes*8,N=B.sigBytes*8;z[N>>>5]|=128<<24-N%32,z[(N+64>>>9<<4)+14]=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360,B.sigBytes=(z.length+1)*4,this._process();for(var C=this._hash,T=C.words,k=0;k<5;k++){var S=T[k];T[k]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}return C},clone:function(){var B=s.clone.call(this);return B._hash=this._hash.clone(),B}});function I(B,z,U){return B^z^U}function R(B,z,U){return B&z|~B&U}function P(B,z,U){return(B|~z)^U}function D(B,z,U){return B&U|z&~U}function A(B,z,U){return B^(z|~U)}function V(B,z){return B<<z|B>>>32-z}t.RIPEMD160=s._createHelper(w),t.HmacRIPEMD160=s._createHmacHelper(w)}(Math),n.RIPEMD160})});var Zf=ke((Kf,bA)=>{"use strict";(function(n,e){typeof Kf=="object"?bA.exports=Kf=e(Ue()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(Kf,function(n){(function(){var e=n,t=e.lib,r=t.Base,i=e.enc,s=i.Utf8,a=e.algo,u=a.HMAC=r.extend({init:function(h,f){h=this._hasher=new h.init,typeof f=="string"&&(f=s.parse(f));var m=h.blockSize,v=m*4;f.sigBytes>v&&(f=h.finalize(f)),f.clamp();for(var E=this._oKey=f.clone(),w=this._iKey=f.clone(),I=E.words,R=w.words,P=0;P<m;P++)I[P]^=1549556828,R[P]^=909522486;E.sigBytes=w.sigBytes=v,this.reset()},reset:function(){var h=this._hasher;h.reset(),h.update(this._iKey)},update:function(h){return this._hasher.update(h),this},finalize:function(h){var f=this._hasher,m=f.finalize(h);f.reset();var v=f.finalize(this._oKey.clone().concat(m));return v}})})()})});var AA=ke((Qf,TA)=>{"use strict";(function(n,e,t){typeof Qf=="object"?TA.exports=Qf=e(Ue(),zf(),Zf()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],e):e(n.CryptoJS)})(Qf,function(n){return function(){var e=n,t=e.lib,r=t.Base,i=t.WordArray,s=e.algo,a=s.SHA256,u=s.HMAC,h=s.PBKDF2=r.extend({cfg:r.extend({keySize:128/32,hasher:a,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,m){for(var v=this.cfg,E=u.create(v.hasher,f),w=i.create(),I=i.create([1]),R=w.words,P=I.words,D=v.keySize,A=v.iterations;R.length<D;){var V=E.update(m).finalize(I);E.reset();for(var B=V.words,z=B.length,U=V,N=1;N<A;N++){U=E.finalize(U),E.reset();for(var C=U.words,T=0;T<z;T++)B[T]^=C[T]}w.concat(V),P[0]++}return w.sigBytes=D*4,w}});e.PBKDF2=function(f,m,v){return h.create(v).compute(f,m)}}(),n.PBKDF2})});var Ci=ke((Yf,SA)=>{"use strict";(function(n,e,t){typeof Yf=="object"?SA.exports=Yf=e(Ue(),by(),Zf()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],e):e(n.CryptoJS)})(Yf,function(n){return function(){var e=n,t=e.lib,r=t.Base,i=t.WordArray,s=e.algo,a=s.MD5,u=s.EvpKDF=r.extend({cfg:r.extend({keySize:128/32,hasher:a,iterations:1}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,f){for(var m,v=this.cfg,E=v.hasher.create(),w=i.create(),I=w.words,R=v.keySize,P=v.iterations;I.length<R;){m&&E.update(m),m=E.update(h).finalize(f),E.reset();for(var D=1;D<P;D++)m=E.finalize(m),E.reset();w.concat(m)}return w.sigBytes=R*4,w}});e.EvpKDF=function(h,f,m){return u.create(m).compute(h,f)}}(),n.EvpKDF})});var Nt=ke((Jf,MA)=>{"use strict";(function(n,e,t){typeof Jf=="object"?MA.exports=Jf=e(Ue(),Ci()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],e):e(n.CryptoJS)})(Jf,function(n){n.lib.Cipher||function(e){var t=n,r=t.lib,i=r.Base,s=r.WordArray,a=r.BufferedBlockAlgorithm,u=t.enc,h=u.Utf8,f=u.Base64,m=t.algo,v=m.EvpKDF,E=r.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(S,O){return this.create(this._ENC_XFORM_MODE,S,O)},createDecryptor:function(S,O){return this.create(this._DEC_XFORM_MODE,S,O)},init:function(S,O,M){this.cfg=this.cfg.extend(M),this._xformMode=S,this._key=O,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(S){return this._append(S),this._process()},finalize:function(S){S&&this._append(S);var O=this._doFinalize();return O},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function S(O){return typeof O=="string"?k:N}return function(O){return{encrypt:function(M,Z,ue){return S(Z).encrypt(O,M,Z,ue)},decrypt:function(M,Z,ue){return S(Z).decrypt(O,M,Z,ue)}}}}()}),w=r.StreamCipher=E.extend({_doFinalize:function(){var S=this._process(!0);return S},blockSize:1}),I=t.mode={},R=r.BlockCipherMode=i.extend({createEncryptor:function(S,O){return this.Encryptor.create(S,O)},createDecryptor:function(S,O){return this.Decryptor.create(S,O)},init:function(S,O){this._cipher=S,this._iv=O}}),P=I.CBC=function(){var S=R.extend();S.Encryptor=S.extend({processBlock:function(M,Z){var ue=this._cipher,X=ue.blockSize;O.call(this,M,Z,X),ue.encryptBlock(M,Z),this._prevBlock=M.slice(Z,Z+X)}}),S.Decryptor=S.extend({processBlock:function(M,Z){var ue=this._cipher,X=ue.blockSize,pe=M.slice(Z,Z+X);ue.decryptBlock(M,Z),O.call(this,M,Z,X),this._prevBlock=pe}});function O(M,Z,ue){var X,pe=this._iv;pe?(X=pe,this._iv=e):X=this._prevBlock;for(var ne=0;ne<ue;ne++)M[Z+ne]^=X[ne]}return S}(),D=t.pad={},A=D.Pkcs7={pad:function(S,O){for(var M=O*4,Z=M-S.sigBytes%M,ue=Z<<24|Z<<16|Z<<8|Z,X=[],pe=0;pe<Z;pe+=4)X.push(ue);var ne=s.create(X,Z);S.concat(ne)},unpad:function(S){var O=S.words[S.sigBytes-1>>>2]&255;S.sigBytes-=O}},V=r.BlockCipher=E.extend({cfg:E.cfg.extend({mode:P,padding:A}),reset:function(){var S;E.reset.call(this);var O=this.cfg,M=O.iv,Z=O.mode;this._xformMode==this._ENC_XFORM_MODE?S=Z.createEncryptor:(S=Z.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==S?this._mode.init(this,M&&M.words):(this._mode=S.call(Z,this,M&&M.words),this._mode.__creator=S)},_doProcessBlock:function(S,O){this._mode.processBlock(S,O)},_doFinalize:function(){var S,O=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(O.pad(this._data,this.blockSize),S=this._process(!0)):(S=this._process(!0),O.unpad(S)),S},blockSize:128/32}),B=r.CipherParams=i.extend({init:function(S){this.mixIn(S)},toString:function(S){return(S||this.formatter).stringify(this)}}),z=t.format={},U=z.OpenSSL={stringify:function(S){var O,M=S.ciphertext,Z=S.salt;return Z?O=s.create([1398893684,1701076831]).concat(Z).concat(M):O=M,O.toString(f)},parse:function(S){var O,M=f.parse(S),Z=M.words;return Z[0]==1398893684&&Z[1]==1701076831&&(O=s.create(Z.slice(2,4)),Z.splice(0,4),M.sigBytes-=16),B.create({ciphertext:M,salt:O})}},N=r.SerializableCipher=i.extend({cfg:i.extend({format:U}),encrypt:function(S,O,M,Z){Z=this.cfg.extend(Z);var ue=S.createEncryptor(M,Z),X=ue.finalize(O),pe=ue.cfg;return B.create({ciphertext:X,key:M,iv:pe.iv,algorithm:S,mode:pe.mode,padding:pe.padding,blockSize:S.blockSize,formatter:Z.format})},decrypt:function(S,O,M,Z){Z=this.cfg.extend(Z),O=this._parse(O,Z.format);var ue=S.createDecryptor(M,Z).finalize(O.ciphertext);return ue},_parse:function(S,O){return typeof S=="string"?O.parse(S,this):S}}),C=t.kdf={},T=C.OpenSSL={execute:function(S,O,M,Z,ue){if(Z||(Z=s.random(64/8)),ue)var X=v.create({keySize:O+M,hasher:ue}).compute(S,Z);else var X=v.create({keySize:O+M}).compute(S,Z);var pe=s.create(X.words.slice(O),M*4);return X.sigBytes=O*4,B.create({key:X,iv:pe,salt:Z})}},k=r.PasswordBasedCipher=N.extend({cfg:N.cfg.extend({kdf:T}),encrypt:function(S,O,M,Z){Z=this.cfg.extend(Z);var ue=Z.kdf.execute(M,S.keySize,S.ivSize,Z.salt,Z.hasher);Z.iv=ue.iv;var X=N.encrypt.call(this,S,O,ue.key,Z);return X.mixIn(ue),X},decrypt:function(S,O,M,Z){Z=this.cfg.extend(Z),O=this._parse(O,Z.format);var ue=Z.kdf.execute(M,S.keySize,S.ivSize,O.salt,Z.hasher);Z.iv=ue.iv;var X=N.decrypt.call(this,S,O,ue.key,Z);return X}})}()})});var NA=ke((Xf,PA)=>{"use strict";(function(n,e,t){typeof Xf=="object"?PA.exports=Xf=e(Ue(),Nt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(Xf,function(n){return n.mode.CFB=function(){var e=n.lib.BlockCipherMode.extend();e.Encryptor=e.extend({processBlock:function(r,i){var s=this._cipher,a=s.blockSize;t.call(this,r,i,a,s),this._prevBlock=r.slice(i,i+a)}}),e.Decryptor=e.extend({processBlock:function(r,i){var s=this._cipher,a=s.blockSize,u=r.slice(i,i+a);t.call(this,r,i,a,s),this._prevBlock=u}});function t(r,i,s,a){var u,h=this._iv;h?(u=h.slice(0),this._iv=void 0):u=this._prevBlock,a.encryptBlock(u,0);for(var f=0;f<s;f++)r[i+f]^=u[f]}return e}(),n.mode.CFB})});var kA=ke((ep,RA)=>{"use strict";(function(n,e,t){typeof ep=="object"?RA.exports=ep=e(Ue(),Nt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(ep,function(n){return n.mode.CTR=function(){var e=n.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(r,i){var s=this._cipher,a=s.blockSize,u=this._iv,h=this._counter;u&&(h=this._counter=u.slice(0),this._iv=void 0);var f=h.slice(0);s.encryptBlock(f,0),h[a-1]=h[a-1]+1|0;for(var m=0;m<a;m++)r[i+m]^=f[m]}});return e.Decryptor=t,e}(),n.mode.CTR})});var FA=ke((tp,OA)=>{"use strict";(function(n,e,t){typeof tp=="object"?OA.exports=tp=e(Ue(),Nt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(tp,function(n){return n.mode.CTRGladman=function(){var e=n.lib.BlockCipherMode.extend();function t(s){if((s>>24&255)===255){var a=s>>16&255,u=s>>8&255,h=s&255;a===255?(a=0,u===255?(u=0,h===255?h=0:++h):++u):++a,s=0,s+=a<<16,s+=u<<8,s+=h}else s+=1<<24;return s}function r(s){return(s[0]=t(s[0]))===0&&(s[1]=t(s[1])),s}var i=e.Encryptor=e.extend({processBlock:function(s,a){var u=this._cipher,h=u.blockSize,f=this._iv,m=this._counter;f&&(m=this._counter=f.slice(0),this._iv=void 0),r(m);var v=m.slice(0);u.encryptBlock(v,0);for(var E=0;E<h;E++)s[a+E]^=v[E]}});return e.Decryptor=i,e}(),n.mode.CTRGladman})});var VA=ke((np,LA)=>{"use strict";(function(n,e,t){typeof np=="object"?LA.exports=np=e(Ue(),Nt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(np,function(n){return n.mode.OFB=function(){var e=n.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(r,i){var s=this._cipher,a=s.blockSize,u=this._iv,h=this._keystream;u&&(h=this._keystream=u.slice(0),this._iv=void 0),s.encryptBlock(h,0);for(var f=0;f<a;f++)r[i+f]^=h[f]}});return e.Decryptor=t,e}(),n.mode.OFB})});var jA=ke((rp,BA)=>{"use strict";(function(n,e,t){typeof rp=="object"?BA.exports=rp=e(Ue(),Nt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(rp,function(n){return n.mode.ECB=function(){var e=n.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(t,r){this._cipher.encryptBlock(t,r)}}),e.Decryptor=e.extend({processBlock:function(t,r){this._cipher.decryptBlock(t,r)}}),e}(),n.mode.ECB})});var zA=ke((ip,UA)=>{"use strict";(function(n,e,t){typeof ip=="object"?UA.exports=ip=e(Ue(),Nt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(ip,function(n){return n.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,i=t*4,s=i-r%i,a=r+s-1;e.clamp(),e.words[a>>>2]|=s<<24-a%4*8,e.sigBytes+=s},unpad:function(e){var t=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=t}},n.pad.Ansix923})});var $A=ke((op,HA)=>{"use strict";(function(n,e,t){typeof op=="object"?HA.exports=op=e(Ue(),Nt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(op,function(n){return n.pad.Iso10126={pad:function(e,t){var r=t*4,i=r-e.sigBytes%r;e.concat(n.lib.WordArray.random(i-1)).concat(n.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=t}},n.pad.Iso10126})});var GA=ke((sp,qA)=>{"use strict";(function(n,e,t){typeof sp=="object"?qA.exports=sp=e(Ue(),Nt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(sp,function(n){return n.pad.Iso97971={pad:function(e,t){e.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(e,t)},unpad:function(e){n.pad.ZeroPadding.unpad(e),e.sigBytes--}},n.pad.Iso97971})});var KA=ke((ap,WA)=>{"use strict";(function(n,e,t){typeof ap=="object"?WA.exports=ap=e(Ue(),Nt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(ap,function(n){return n.pad.ZeroPadding={pad:function(e,t){var r=t*4;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){for(var t=e.words,r=e.sigBytes-1,r=e.sigBytes-1;r>=0;r--)if(t[r>>>2]>>>24-r%4*8&255){e.sigBytes=r+1;break}}},n.pad.ZeroPadding})});var QA=ke((cp,ZA)=>{"use strict";(function(n,e,t){typeof cp=="object"?ZA.exports=cp=e(Ue(),Nt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(cp,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})});var JA=ke((up,YA)=>{"use strict";(function(n,e,t){typeof up=="object"?YA.exports=up=e(Ue(),Nt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(up,function(n){return function(e){var t=n,r=t.lib,i=r.CipherParams,s=t.enc,a=s.Hex,u=t.format,h=u.Hex={stringify:function(f){return f.ciphertext.toString(a)},parse:function(f){var m=a.parse(f);return i.create({ciphertext:m})}}}(),n.format.Hex})});var e1=ke((lp,XA)=>{"use strict";(function(n,e,t){typeof lp=="object"?XA.exports=lp=e(Ue(),vo(),yo(),Ci(),Nt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(n.CryptoJS)})(lp,function(n){return function(){var e=n,t=e.lib,r=t.BlockCipher,i=e.algo,s=[],a=[],u=[],h=[],f=[],m=[],v=[],E=[],w=[],I=[];(function(){for(var D=[],A=0;A<256;A++)A<128?D[A]=A<<1:D[A]=A<<1^283;for(var V=0,B=0,A=0;A<256;A++){var z=B^B<<1^B<<2^B<<3^B<<4;z=z>>>8^z&255^99,s[V]=z,a[z]=V;var U=D[V],N=D[U],C=D[N],T=D[z]*257^z*16843008;u[V]=T<<24|T>>>8,h[V]=T<<16|T>>>16,f[V]=T<<8|T>>>24,m[V]=T;var T=C*16843009^N*65537^U*257^V*16843008;v[z]=T<<24|T>>>8,E[z]=T<<16|T>>>16,w[z]=T<<8|T>>>24,I[z]=T,V?(V=U^D[D[D[C^U]]],B^=D[D[B]]):V=B=1}})();var R=[0,1,2,4,8,16,32,64,128,27,54],P=i.AES=r.extend({_doReset:function(){var D;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var A=this._keyPriorReset=this._key,V=A.words,B=A.sigBytes/4,z=this._nRounds=B+6,U=(z+1)*4,N=this._keySchedule=[],C=0;C<U;C++)C<B?N[C]=V[C]:(D=N[C-1],C%B?B>6&&C%B==4&&(D=s[D>>>24]<<24|s[D>>>16&255]<<16|s[D>>>8&255]<<8|s[D&255]):(D=D<<8|D>>>24,D=s[D>>>24]<<24|s[D>>>16&255]<<16|s[D>>>8&255]<<8|s[D&255],D^=R[C/B|0]<<24),N[C]=N[C-B]^D);for(var T=this._invKeySchedule=[],k=0;k<U;k++){var C=U-k;if(k%4)var D=N[C];else var D=N[C-4];k<4||C<=4?T[k]=D:T[k]=v[s[D>>>24]]^E[s[D>>>16&255]]^w[s[D>>>8&255]]^I[s[D&255]]}}},encryptBlock:function(D,A){this._doCryptBlock(D,A,this._keySchedule,u,h,f,m,s)},decryptBlock:function(D,A){var V=D[A+1];D[A+1]=D[A+3],D[A+3]=V,this._doCryptBlock(D,A,this._invKeySchedule,v,E,w,I,a);var V=D[A+1];D[A+1]=D[A+3],D[A+3]=V},_doCryptBlock:function(D,A,V,B,z,U,N,C){for(var T=this._nRounds,k=D[A]^V[0],S=D[A+1]^V[1],O=D[A+2]^V[2],M=D[A+3]^V[3],Z=4,ue=1;ue<T;ue++){var X=B[k>>>24]^z[S>>>16&255]^U[O>>>8&255]^N[M&255]^V[Z++],pe=B[S>>>24]^z[O>>>16&255]^U[M>>>8&255]^N[k&255]^V[Z++],ne=B[O>>>24]^z[M>>>16&255]^U[k>>>8&255]^N[S&255]^V[Z++],W=B[M>>>24]^z[k>>>16&255]^U[S>>>8&255]^N[O&255]^V[Z++];k=X,S=pe,O=ne,M=W}var X=(C[k>>>24]<<24|C[S>>>16&255]<<16|C[O>>>8&255]<<8|C[M&255])^V[Z++],pe=(C[S>>>24]<<24|C[O>>>16&255]<<16|C[M>>>8&255]<<8|C[k&255])^V[Z++],ne=(C[O>>>24]<<24|C[M>>>16&255]<<16|C[k>>>8&255]<<8|C[S&255])^V[Z++],W=(C[M>>>24]<<24|C[k>>>16&255]<<16|C[S>>>8&255]<<8|C[O&255])^V[Z++];D[A]=X,D[A+1]=pe,D[A+2]=ne,D[A+3]=W},keySize:256/32});e.AES=r._createHelper(P)}(),n.AES})});var n1=ke((dp,t1)=>{"use strict";(function(n,e,t){typeof dp=="object"?t1.exports=dp=e(Ue(),vo(),yo(),Ci(),Nt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(n.CryptoJS)})(dp,function(n){return function(){var e=n,t=e.lib,r=t.WordArray,i=t.BlockCipher,s=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],h=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],m=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],v=s.DES=i.extend({_doReset:function(){for(var R=this._key,P=R.words,D=[],A=0;A<56;A++){var V=a[A]-1;D[A]=P[V>>>5]>>>31-V%32&1}for(var B=this._subKeys=[],z=0;z<16;z++){for(var U=B[z]=[],N=h[z],A=0;A<24;A++)U[A/6|0]|=D[(u[A]-1+N)%28]<<31-A%6,U[4+(A/6|0)]|=D[28+(u[A+24]-1+N)%28]<<31-A%6;U[0]=U[0]<<1|U[0]>>>31;for(var A=1;A<7;A++)U[A]=U[A]>>>(A-1)*4+3;U[7]=U[7]<<5|U[7]>>>27}for(var C=this._invSubKeys=[],A=0;A<16;A++)C[A]=B[15-A]},encryptBlock:function(R,P){this._doCryptBlock(R,P,this._subKeys)},decryptBlock:function(R,P){this._doCryptBlock(R,P,this._invSubKeys)},_doCryptBlock:function(R,P,D){this._lBlock=R[P],this._rBlock=R[P+1],E.call(this,4,252645135),E.call(this,16,65535),w.call(this,2,858993459),w.call(this,8,16711935),E.call(this,1,1431655765);for(var A=0;A<16;A++){for(var V=D[A],B=this._lBlock,z=this._rBlock,U=0,N=0;N<8;N++)U|=f[N][((z^V[N])&m[N])>>>0];this._lBlock=z,this._rBlock=B^U}var C=this._lBlock;this._lBlock=this._rBlock,this._rBlock=C,E.call(this,1,1431655765),w.call(this,8,16711935),w.call(this,2,858993459),E.call(this,16,65535),E.call(this,4,252645135),R[P]=this._lBlock,R[P+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function E(R,P){var D=(this._lBlock>>>R^this._rBlock)&P;this._rBlock^=D,this._lBlock^=D<<R}function w(R,P){var D=(this._rBlock>>>R^this._lBlock)&P;this._lBlock^=D,this._rBlock^=D<<R}e.DES=i._createHelper(v);var I=s.TripleDES=i.extend({_doReset:function(){var R=this._key,P=R.words;if(P.length!==2&&P.length!==4&&P.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var D=P.slice(0,2),A=P.length<4?P.slice(0,2):P.slice(2,4),V=P.length<6?P.slice(0,2):P.slice(4,6);this._des1=v.createEncryptor(r.create(D)),this._des2=v.createEncryptor(r.create(A)),this._des3=v.createEncryptor(r.create(V))},encryptBlock:function(R,P){this._des1.encryptBlock(R,P),this._des2.decryptBlock(R,P),this._des3.encryptBlock(R,P)},decryptBlock:function(R,P){this._des3.decryptBlock(R,P),this._des2.encryptBlock(R,P),this._des1.decryptBlock(R,P)},keySize:192/32,ivSize:64/32,blockSize:64/32});e.TripleDES=i._createHelper(I)}(),n.TripleDES})});var i1=ke((hp,r1)=>{"use strict";(function(n,e,t){typeof hp=="object"?r1.exports=hp=e(Ue(),vo(),yo(),Ci(),Nt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(n.CryptoJS)})(hp,function(n){return function(){var e=n,t=e.lib,r=t.StreamCipher,i=e.algo,s=i.RC4=r.extend({_doReset:function(){for(var h=this._key,f=h.words,m=h.sigBytes,v=this._S=[],E=0;E<256;E++)v[E]=E;for(var E=0,w=0;E<256;E++){var I=E%m,R=f[I>>>2]>>>24-I%4*8&255;w=(w+v[E]+R)%256;var P=v[E];v[E]=v[w],v[w]=P}this._i=this._j=0},_doProcessBlock:function(h,f){h[f]^=a.call(this)},keySize:256/32,ivSize:0});function a(){for(var h=this._S,f=this._i,m=this._j,v=0,E=0;E<4;E++){f=(f+1)%256,m=(m+h[f])%256;var w=h[f];h[f]=h[m],h[m]=w,v|=h[(h[f]+h[m])%256]<<24-E*8}return this._i=f,this._j=m,v}e.RC4=r._createHelper(s);var u=i.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var h=this.cfg.drop;h>0;h--)a.call(this)}});e.RC4Drop=r._createHelper(u)}(),n.RC4})});var s1=ke((fp,o1)=>{"use strict";(function(n,e,t){typeof fp=="object"?o1.exports=fp=e(Ue(),vo(),yo(),Ci(),Nt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(n.CryptoJS)})(fp,function(n){return function(){var e=n,t=e.lib,r=t.StreamCipher,i=e.algo,s=[],a=[],u=[],h=i.Rabbit=r.extend({_doReset:function(){for(var m=this._key.words,v=this.cfg.iv,E=0;E<4;E++)m[E]=(m[E]<<8|m[E]>>>24)&16711935|(m[E]<<24|m[E]>>>8)&4278255360;var w=this._X=[m[0],m[3]<<16|m[2]>>>16,m[1],m[0]<<16|m[3]>>>16,m[2],m[1]<<16|m[0]>>>16,m[3],m[2]<<16|m[1]>>>16],I=this._C=[m[2]<<16|m[2]>>>16,m[0]&4294901760|m[1]&65535,m[3]<<16|m[3]>>>16,m[1]&4294901760|m[2]&65535,m[0]<<16|m[0]>>>16,m[2]&4294901760|m[3]&65535,m[1]<<16|m[1]>>>16,m[3]&4294901760|m[0]&65535];this._b=0;for(var E=0;E<4;E++)f.call(this);for(var E=0;E<8;E++)I[E]^=w[E+4&7];if(v){var R=v.words,P=R[0],D=R[1],A=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,V=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,B=A>>>16|V&4294901760,z=V<<16|A&65535;I[0]^=A,I[1]^=B,I[2]^=V,I[3]^=z,I[4]^=A,I[5]^=B,I[6]^=V,I[7]^=z;for(var E=0;E<4;E++)f.call(this)}},_doProcessBlock:function(m,v){var E=this._X;f.call(this),s[0]=E[0]^E[5]>>>16^E[3]<<16,s[1]=E[2]^E[7]>>>16^E[5]<<16,s[2]=E[4]^E[1]>>>16^E[7]<<16,s[3]=E[6]^E[3]>>>16^E[1]<<16;for(var w=0;w<4;w++)s[w]=(s[w]<<8|s[w]>>>24)&16711935|(s[w]<<24|s[w]>>>8)&4278255360,m[v+w]^=s[w]},blockSize:128/32,ivSize:64/32});function f(){for(var m=this._X,v=this._C,E=0;E<8;E++)a[E]=v[E];v[0]=v[0]+1295307597+this._b|0,v[1]=v[1]+3545052371+(v[0]>>>0<a[0]>>>0?1:0)|0,v[2]=v[2]+886263092+(v[1]>>>0<a[1]>>>0?1:0)|0,v[3]=v[3]+1295307597+(v[2]>>>0<a[2]>>>0?1:0)|0,v[4]=v[4]+3545052371+(v[3]>>>0<a[3]>>>0?1:0)|0,v[5]=v[5]+886263092+(v[4]>>>0<a[4]>>>0?1:0)|0,v[6]=v[6]+1295307597+(v[5]>>>0<a[5]>>>0?1:0)|0,v[7]=v[7]+3545052371+(v[6]>>>0<a[6]>>>0?1:0)|0,this._b=v[7]>>>0<a[7]>>>0?1:0;for(var E=0;E<8;E++){var w=m[E]+v[E],I=w&65535,R=w>>>16,P=((I*I>>>17)+I*R>>>15)+R*R,D=((w&4294901760)*w|0)+((w&65535)*w|0);u[E]=P^D}m[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,m[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,m[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,m[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,m[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,m[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,m[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,m[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}e.Rabbit=r._createHelper(h)}(),n.Rabbit})});var c1=ke((pp,a1)=>{"use strict";(function(n,e,t){typeof pp=="object"?a1.exports=pp=e(Ue(),vo(),yo(),Ci(),Nt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(n.CryptoJS)})(pp,function(n){return function(){var e=n,t=e.lib,r=t.StreamCipher,i=e.algo,s=[],a=[],u=[],h=i.RabbitLegacy=r.extend({_doReset:function(){var m=this._key.words,v=this.cfg.iv,E=this._X=[m[0],m[3]<<16|m[2]>>>16,m[1],m[0]<<16|m[3]>>>16,m[2],m[1]<<16|m[0]>>>16,m[3],m[2]<<16|m[1]>>>16],w=this._C=[m[2]<<16|m[2]>>>16,m[0]&4294901760|m[1]&65535,m[3]<<16|m[3]>>>16,m[1]&4294901760|m[2]&65535,m[0]<<16|m[0]>>>16,m[2]&4294901760|m[3]&65535,m[1]<<16|m[1]>>>16,m[3]&4294901760|m[0]&65535];this._b=0;for(var I=0;I<4;I++)f.call(this);for(var I=0;I<8;I++)w[I]^=E[I+4&7];if(v){var R=v.words,P=R[0],D=R[1],A=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,V=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,B=A>>>16|V&4294901760,z=V<<16|A&65535;w[0]^=A,w[1]^=B,w[2]^=V,w[3]^=z,w[4]^=A,w[5]^=B,w[6]^=V,w[7]^=z;for(var I=0;I<4;I++)f.call(this)}},_doProcessBlock:function(m,v){var E=this._X;f.call(this),s[0]=E[0]^E[5]>>>16^E[3]<<16,s[1]=E[2]^E[7]>>>16^E[5]<<16,s[2]=E[4]^E[1]>>>16^E[7]<<16,s[3]=E[6]^E[3]>>>16^E[1]<<16;for(var w=0;w<4;w++)s[w]=(s[w]<<8|s[w]>>>24)&16711935|(s[w]<<24|s[w]>>>8)&4278255360,m[v+w]^=s[w]},blockSize:128/32,ivSize:64/32});function f(){for(var m=this._X,v=this._C,E=0;E<8;E++)a[E]=v[E];v[0]=v[0]+1295307597+this._b|0,v[1]=v[1]+3545052371+(v[0]>>>0<a[0]>>>0?1:0)|0,v[2]=v[2]+886263092+(v[1]>>>0<a[1]>>>0?1:0)|0,v[3]=v[3]+1295307597+(v[2]>>>0<a[2]>>>0?1:0)|0,v[4]=v[4]+3545052371+(v[3]>>>0<a[3]>>>0?1:0)|0,v[5]=v[5]+886263092+(v[4]>>>0<a[4]>>>0?1:0)|0,v[6]=v[6]+1295307597+(v[5]>>>0<a[5]>>>0?1:0)|0,v[7]=v[7]+3545052371+(v[6]>>>0<a[6]>>>0?1:0)|0,this._b=v[7]>>>0<a[7]>>>0?1:0;for(var E=0;E<8;E++){var w=m[E]+v[E],I=w&65535,R=w>>>16,P=((I*I>>>17)+I*R>>>15)+R*R,D=((w&4294901760)*w|0)+((w&65535)*w|0);u[E]=P^D}m[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,m[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,m[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,m[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,m[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,m[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,m[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,m[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}e.RabbitLegacy=r._createHelper(h)}(),n.RabbitLegacy})});var l1=ke((mp,u1)=>{"use strict";(function(n,e,t){typeof mp=="object"?u1.exports=mp=e(Ue(),vo(),yo(),Ci(),Nt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(n.CryptoJS)})(mp,function(n){return function(){var e=n,t=e.lib,r=t.BlockCipher,i=e.algo;let s=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var h={pbox:[],sbox:[]};function f(I,R){let P=R>>24&255,D=R>>16&255,A=R>>8&255,V=R&255,B=I.sbox[0][P]+I.sbox[1][D];return B=B^I.sbox[2][A],B=B+I.sbox[3][V],B}function m(I,R,P){let D=R,A=P,V;for(let B=0;B<s;++B)D=D^I.pbox[B],A=f(I,D)^A,V=D,D=A,A=V;return V=D,D=A,A=V,A=A^I.pbox[s],D=D^I.pbox[s+1],{left:D,right:A}}function v(I,R,P){let D=R,A=P,V;for(let B=s+1;B>1;--B)D=D^I.pbox[B],A=f(I,D)^A,V=D,D=A,A=V;return V=D,D=A,A=V,A=A^I.pbox[1],D=D^I.pbox[0],{left:D,right:A}}function E(I,R,P){for(let z=0;z<4;z++){I.sbox[z]=[];for(let U=0;U<256;U++)I.sbox[z][U]=u[z][U]}let D=0;for(let z=0;z<s+2;z++)I.pbox[z]=a[z]^R[D],D++,D>=P&&(D=0);let A=0,V=0,B=0;for(let z=0;z<s+2;z+=2)B=m(I,A,V),A=B.left,V=B.right,I.pbox[z]=A,I.pbox[z+1]=V;for(let z=0;z<4;z++)for(let U=0;U<256;U+=2)B=m(I,A,V),A=B.left,V=B.right,I.sbox[z][U]=A,I.sbox[z][U+1]=V;return!0}var w=i.Blowfish=r.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var I=this._keyPriorReset=this._key,R=I.words,P=I.sigBytes/4;E(h,R,P)}},encryptBlock:function(I,R){var P=m(h,I[R],I[R+1]);I[R]=P.left,I[R+1]=P.right},decryptBlock:function(I,R){var P=v(h,I[R],I[R+1]);I[R]=P.left,I[R+1]=P.right},blockSize:64/32,keySize:128/32,ivSize:64/32});e.Blowfish=r._createHelper(w)}(),n.Blowfish})});var h1=ke((gp,d1)=>{"use strict";(function(n,e,t){typeof gp=="object"?d1.exports=gp=e(Ue(),Yu(),cA(),lA(),vo(),fA(),yo(),by(),zf(),vA(),Ty(),wA(),IA(),CA(),Zf(),AA(),Ci(),Nt(),NA(),kA(),FA(),VA(),jA(),zA(),$A(),GA(),KA(),QA(),JA(),e1(),n1(),i1(),s1(),c1(),l1()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],e):n.CryptoJS=e(n.CryptoJS)})(gp,function(n){return n})});function tE(n,e){return Object.is(n,e)}var At=null,bl=!1,Tl=1,zi=Symbol("SIGNAL");function qe(n){let e=At;return At=n,e}function nE(){return At}var kc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Mp(n){if(bl)throw new Error("");if(At===null)return;At.consumerOnSignalRead(n);let e=At.nextProducerIndex++;if(Pl(At),e<At.producerNode.length&&At.producerNode[e]!==n&&Rc(At)){let t=At.producerNode[e];Ml(t,At.producerIndexOfThis[e])}At.producerNode[e]!==n&&(At.producerNode[e]=n,At.producerIndexOfThis[e]=Rc(At)?sE(n,At,e):0),At.producerLastReadVersion[e]=n.version}function Y1(){Tl++}function rE(n){if(!(Rc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Tl)){if(!n.producerMustRecompute(n)&&!Np(n)){n.dirty=!1,n.lastCleanEpoch=Tl;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Tl}}function iE(n){if(n.liveConsumerNode===void 0)return;let e=bl;bl=!0;try{for(let t of n.liveConsumerNode)t.dirty||J1(t)}finally{bl=e}}function oE(){return At?.consumerAllowSignalWrites!==!1}function J1(n){n.dirty=!0,iE(n),n.consumerMarkedDirty?.(n)}function Sl(n){return n&&(n.nextProducerIndex=0),qe(n)}function Pp(n,e){if(qe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Rc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ml(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Np(n){Pl(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(rE(t),r!==t.version))return!0}return!1}function Rp(n){if(Pl(n),Rc(n))for(let e=0;e<n.producerNode.length;e++)Ml(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function sE(n,e,t){if(aE(n),n.liveConsumerNode.length===0&&cE(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=sE(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Ml(n,e){if(aE(n),n.liveConsumerNode.length===1&&cE(n))for(let r=0;r<n.producerNode.length;r++)Ml(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Pl(i),i.producerIndexOfThis[r]=e}}function Rc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Pl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function aE(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function cE(n){return n.producerNode!==void 0}function uE(n){let e=Object.create(X1);e.computation=n;let t=()=>{if(rE(e),Mp(e),e.value===Al)throw e.error;return e.value};return t[zi]=e,t}var Ap=Symbol("UNSET"),Sp=Symbol("COMPUTING"),Al=Symbol("ERRORED"),X1=it(Ke({},kc),{value:Ap,dirty:!0,error:null,equal:tE,producerMustRecompute(n){return n.value===Ap||n.value===Sp},producerRecomputeValue(n){if(n.value===Sp)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Sp;let t=Sl(n),r;try{r=n.computation()}catch(i){r=Al,n.error=i}finally{Pp(n,t)}if(e!==Ap&&e!==Al&&r!==Al&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function eS(){throw new Error}var lE=eS;function dE(){lE()}function hE(n){lE=n}var tS=null;function fE(n){let e=Object.create(mE);e.value=n;let t=()=>(Mp(e),e.value);return t[zi]=e,t}function kp(n,e){oE()||dE(),n.equal(n.value,e)||(n.value=e,nS(n))}function pE(n,e){oE()||dE(),kp(n,e(n.value))}var mE=it(Ke({},kc),{equal:tE,value:void 0});function nS(n){n.version++,Y1(),iE(n),tS?.()}function Fe(n){return typeof n=="function"}function Nl(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Rl=Nl(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Oc(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var tn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Fe(r))try{r()}catch(s){e=s instanceof Rl?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{gE(s)}catch(a){e=e??[],a instanceof Rl?e=[...e,...a.errors]:e.push(a)}}if(e)throw new Rl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)gE(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Oc(t,e)}remove(e){let{_finalizers:t}=this;t&&Oc(t,e),e instanceof n&&e._removeParent(this)}};tn.EMPTY=(()=>{let n=new tn;return n.closed=!0,n})();var Op=tn.EMPTY;function kl(n){return n instanceof tn||n&&"closed"in n&&Fe(n.remove)&&Fe(n.add)&&Fe(n.unsubscribe)}function gE(n){Fe(n)?n():n.unsubscribe()}var tr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $s={setTimeout(n,e,...t){let{delegate:r}=$s;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=$s;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ol(n){$s.setTimeout(()=>{let{onUnhandledError:e}=tr;if(e)e(n);else throw n})}function Fp(){}var _E=Lp("C",void 0,void 0);function vE(n){return Lp("E",void 0,n)}function yE(n){return Lp("N",n,void 0)}function Lp(n,e,t){return{kind:n,value:e,error:t}}var Oo=null;function qs(n){if(tr.useDeprecatedSynchronousErrorHandling){let e=!Oo;if(e&&(Oo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Oo;if(Oo=null,t)throw r}}else n()}function EE(n){tr.useDeprecatedSynchronousErrorHandling&&Oo&&(Oo.errorThrown=!0,Oo.error=n)}var Fo=class extends tn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,kl(e)&&e.add(this)):this.destination=oS}static create(e,t,r){return new Gs(e,t,r)}next(e){this.isStopped?Bp(yE(e),this):this._next(e)}error(e){this.isStopped?Bp(vE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Bp(_E,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},rS=Function.prototype.bind;function Vp(n,e){return rS.call(n,e)}var jp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Fl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Fl(r)}else Fl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Fl(t)}}},Gs=class extends Fo{constructor(e,t,r){super();let i;if(Fe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&tr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Vp(e.next,s),error:e.error&&Vp(e.error,s),complete:e.complete&&Vp(e.complete,s)}):i=e}this.destination=new jp(i)}};function Fl(n){tr.useDeprecatedSynchronousErrorHandling?EE(n):Ol(n)}function iS(n){throw n}function Bp(n,e){let{onStoppedNotification:t}=tr;t&&$s.setTimeout(()=>t(n,e))}var oS={closed:!0,next:Fp,error:iS,complete:Fp};var Ws=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wE(n){return n}function xE(n){return n.length===0?wE:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var mt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=aS(t)?t:new Gs(t,r,i);return qs(()=>{let{operator:a,source:u}=this;s.add(a?a.call(s,u):u?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=IE(r),new r((i,s)=>{let a=new Gs({next:u=>{try{t(u)}catch(h){s(h),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ws](){return this}pipe(...t){return xE(t)(this)}toPromise(t){return t=IE(t),new t((r,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>r(s))})}}return n.create=e=>new n(e),n})();function IE(n){var e;return(e=n??tr.Promise)!==null&&e!==void 0?e:Promise}function sS(n){return n&&Fe(n.next)&&Fe(n.error)&&Fe(n.complete)}function aS(n){return n&&n instanceof Fo||sS(n)&&kl(n)}function cS(n){return Fe(n?.lift)}function hn(n){return e=>{if(cS(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fn(n,e,t,r,i){return new Up(n,e,t,r,i)}var Up=class extends Fo{constructor(e,t,r,i,s,a){super(e),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=t?function(u){try{t(u)}catch(h){e.error(h)}}:super._next,this._error=i?function(u){try{i(u)}catch(h){e.error(h)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var DE=Nl(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var br=(()=>{class n extends mt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Ll(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new DE}next(t){qs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){qs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){qs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Op:(this.currentObservers=null,s.push(t),new tn(()=>{this.currentObservers=null,Oc(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new mt;return t.source=this,t}}return n.create=(e,t)=>new Ll(e,t),n})(),Ll=class extends br{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Op}};var Fc=class extends br{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};function CE(n){return n&&Fe(n.schedule)}function bE(n){return n[n.length-1]}function TE(n){return Fe(bE(n))?n.pop():void 0}function AE(n){return CE(bE(n))?n.pop():void 0}function zp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function ME(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(m){try{f(r.next(m))}catch(v){a(v)}}function h(m){try{f(r.throw(m))}catch(v){a(v)}}function f(m){m.done?s(m.value):i(m.value).then(u,h)}f((r=r.apply(n,e||[])).next())})}function SE(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lo(n){return this instanceof Lo?(this.v=n,this):new Lo(n)}function PE(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(w){return function(I){return Promise.resolve(I).then(w,v)}}function u(w,I){r[w]&&(i[w]=function(R){return new Promise(function(P,D){s.push([w,R,P,D])>1||h(w,R)})},I&&(i[w]=I(i[w])))}function h(w,I){try{f(r[w](I))}catch(R){E(s[0][3],R)}}function f(w){w.value instanceof Lo?Promise.resolve(w.value.v).then(m,v):E(s[0][2],w)}function m(w){h("next",w)}function v(w){h("throw",w)}function E(w,I){w(I),s.shift(),s.length&&h(s[0][0],s[0][1])}}function NE(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof SE=="function"?SE(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(a){return new Promise(function(u,h){a=n[s](a),i(u,h,a.done,a.value)})}}function i(s,a,u,h){Promise.resolve(h).then(function(f){s({value:f,done:u})},a)}}var Vl=n=>n&&typeof n.length=="number"&&typeof n!="function";function Bl(n){return Fe(n?.then)}function jl(n){return Fe(n[Ws])}function Ul(n){return Symbol.asyncIterator&&Fe(n?.[Symbol.asyncIterator])}function zl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function uS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hl=uS();function $l(n){return Fe(n?.[Hl])}function ql(n){return PE(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Lo(t.read());if(i)return yield Lo(void 0);yield yield Lo(r)}}finally{t.releaseLock()}})}function Gl(n){return Fe(n?.getReader)}function pn(n){if(n instanceof mt)return n;if(n!=null){if(jl(n))return lS(n);if(Vl(n))return dS(n);if(Bl(n))return hS(n);if(Ul(n))return RE(n);if($l(n))return fS(n);if(Gl(n))return pS(n)}throw zl(n)}function lS(n){return new mt(e=>{let t=n[Ws]();if(Fe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function dS(n){return new mt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function hS(n){return new mt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ol)})}function fS(n){return new mt(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function RE(n){return new mt(e=>{mS(n,e).catch(t=>e.error(t))})}function pS(n){return RE(ql(n))}function mS(n,e){var t,r,i,s;return ME(this,void 0,void 0,function*(){try{for(t=NE(n);r=yield t.next(),!r.done;){let a=r.value;if(e.next(a),e.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function Bn(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Wl(n,e=0){return hn((t,r)=>{t.subscribe(fn(r,i=>Bn(r,n,()=>r.next(i),e),()=>Bn(r,n,()=>r.complete(),e),i=>Bn(r,n,()=>r.error(i),e)))})}function Kl(n,e=0){return hn((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function kE(n,e){return pn(n).pipe(Kl(e),Wl(e))}function OE(n,e){return pn(n).pipe(Kl(e),Wl(e))}function FE(n,e){return new mt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function LE(n,e){return new mt(t=>{let r;return Bn(t,e,()=>{r=n[Hl](),Bn(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(a){t.error(a);return}s?t.complete():t.next(i)},0,!0)}),()=>Fe(r?.return)&&r.return()})}function Zl(n,e){if(!n)throw new Error("Iterable cannot be null");return new mt(t=>{Bn(t,e,()=>{let r=n[Symbol.asyncIterator]();Bn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function VE(n,e){return Zl(ql(n),e)}function BE(n,e){if(n!=null){if(jl(n))return kE(n,e);if(Vl(n))return FE(n,e);if(Bl(n))return OE(n,e);if(Ul(n))return Zl(n,e);if($l(n))return LE(n,e);if(Gl(n))return VE(n,e)}throw zl(n)}function Vo(n,e){return e?BE(n,e):pn(n)}function Ks(...n){let e=AE(n);return Vo(n,e)}function mn(n,e){return hn((t,r)=>{let i=0;t.subscribe(fn(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:gS}=Array;function _S(n,e){return gS(e)?n(...e):n(e)}function jE(n){return mn(e=>_S(n,e))}var{isArray:vS}=Array,{getPrototypeOf:yS,prototype:ES,keys:wS}=Object;function UE(n){if(n.length===1){let e=n[0];if(vS(e))return{args:e,keys:null};if(xS(e)){let t=wS(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function xS(n){return n&&typeof n=="object"&&yS(n)===ES}function zE(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function HE(n,e,t,r,i,s,a,u){let h=[],f=0,m=0,v=!1,E=()=>{v&&!h.length&&!f&&e.complete()},w=R=>f<r?I(R):h.push(R),I=R=>{s&&e.next(R),f++;let P=!1;pn(t(R,m++)).subscribe(fn(e,D=>{i?.(D),s?w(D):e.next(D)},()=>{P=!0},void 0,()=>{if(P)try{for(f--;h.length&&f<r;){let D=h.shift();a?Bn(e,a,()=>I(D)):I(D)}E()}catch(D){e.error(D)}}))};return n.subscribe(fn(e,w,()=>{v=!0,E()})),()=>{u?.()}}function Ql(n,e,t=1/0){return Fe(e)?Ql((r,i)=>mn((s,a)=>e(r,s,i,a))(pn(n(r,i))),t):(typeof e=="number"&&(t=e),hn((r,i)=>HE(r,i,n,t)))}function Hp(...n){let e=TE(n),{args:t,keys:r}=UE(n),i=new mt(s=>{let{length:a}=t;if(!a){s.complete();return}let u=new Array(a),h=a,f=a;for(let m=0;m<a;m++){let v=!1;pn(t[m]).subscribe(fn(s,E=>{v||(v=!0,f--),u[m]=E},()=>h--,void 0,()=>{(!h||!v)&&(f||s.next(r?zE(r,u):u),s.complete())}))}});return e?i.pipe(jE(e)):i}function $p(n,e){return hn((t,r)=>{let i=0;t.subscribe(fn(r,s=>n.call(e,s,i++)&&r.next(s)))})}function qp(n,e){return Fe(e)?Ql(n,e,1):Ql(n,1)}function Gp(n){return hn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Wp(n,e){return hn((t,r)=>{let i=null,s=0,a=!1,u=()=>a&&!i&&r.complete();t.subscribe(fn(r,h=>{i?.unsubscribe();let f=0,m=s++;pn(n(h,m)).subscribe(i=fn(r,v=>r.next(e?e(h,v,m,f++):v),()=>{i=null,u()}))},()=>{a=!0,u()}))})}var IS="https://g.co/ng/security#xss",Ae=class extends Error{constructor(e,t){super(Sd(e,t)),this.code=e}};function Sd(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Zc(n){return{toString:n}.toString()}var Yl="__parameters__";function DS(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Sw(n,e,t){return Zc(()=>{let r=DS(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let a=new i(...s);return u.annotation=a,u;function u(h,f,m){let v=h.hasOwnProperty(Yl)?h[Yl]:Object.defineProperty(h,Yl,{value:[]})[Yl];for(;v.length<=m;)v.push(null);return(v[m]=v[m]||[]).push(a),h}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function at(n){for(let e in n)if(n[e]===at)return e;throw Error("Could not find renamed property on target object.")}function CS(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Dn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Dn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function $E(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var bS=at({__forward_ref__:at});function Zi(n){return n.__forward_ref__=Zi,n.toString=function(){return Dn(this())},n}function nn(n){return Mw(n)?n():n}function Mw(n){return typeof n=="function"&&n.hasOwnProperty(bS)&&n.__forward_ref__===Zi}function Pe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Zo(n){return{providers:n.providers||[],imports:n.imports||[]}}function Xm(n){return qE(n,Pw)||qE(n,Nw)}function qE(n,e){return n.hasOwnProperty(e)?n[e]:null}function TS(n){let e=n&&(n[Pw]||n[Nw]);return e||null}function GE(n){return n&&(n.hasOwnProperty(WE)||n.hasOwnProperty(AS))?n[WE]:null}var Pw=at({\u0275prov:at}),WE=at({\u0275inj:at}),Nw=at({ngInjectableDef:at}),AS=at({ngInjectorDef:at}),we=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Pe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Rw(n){return n&&!!n.\u0275providers}var SS=at({\u0275cmp:at}),MS=at({\u0275dir:at}),PS=at({\u0275pipe:at});var ad=at({\u0275fac:at}),Bc=at({__NG_ELEMENT_ID__:at}),KE=at({__NG_ENV_ID__:at});function jc(n){return typeof n=="string"?n:n==null?"":String(n)}function NS(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():jc(n)}function RS(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Ae(-200,n)}function eg(n,e){throw new Ae(-201,!1)}var Le=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Le||{}),am;function kw(){return am}function jn(n){let e=am;return am=n,e}function Ow(n,e,t){let r=Xm(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Le.Optional)return null;if(e!==void 0)return e;eg(n,"Injector")}var kS={},Uc=kS,cm="__NG_DI_FLAG__",cd="ngTempTokenPath",OS="ngTokenPath",FS=/\n/gm,LS="\u0275",ZE="__source",Js;function VS(){return Js}function Hi(n){let e=Js;return Js=n,e}function BS(n,e=Le.Default){if(Js===void 0)throw new Ae(-203,!1);return Js===null?Ow(n,void 0,e):Js.get(n,e&Le.Optional?null:void 0,e)}function be(n,e=Le.Default){return(kw()||BS)(nn(n),e)}function Ce(n,e=Le.Default){return be(n,Md(e))}function Md(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function um(n){let e=[];for(let t=0;t<n.length;t++){let r=nn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Ae(900,!1);let i,s=Le.Default;for(let a=0;a<r.length;a++){let u=r[a],h=jS(u);typeof h=="number"?h===-1?i=u.token:s|=h:i=u}e.push(be(i,s))}else e.push(be(r))}return e}function Fw(n,e){return n[cm]=e,n.prototype[cm]=e,n}function jS(n){return n[cm]}function US(n,e,t,r){let i=n[cd];throw e[ZE]&&i.unshift(e[ZE]),n.message=zS(`
`+n.message,i,t,r),n[OS]=i,n[cd]=null,n}function zS(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==LS?n.slice(2):n;let i=Dn(e);if(Array.isArray(e))i=e.map(Dn).join(" -> ");else if(typeof e=="object"){let s=[];for(let a in e)if(e.hasOwnProperty(a)){let u=e[a];s.push(a+":"+(typeof u=="string"?JSON.stringify(u):Dn(u)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(FS,`
  `)}`}var Lw=Fw(Sw("Optional"),8);var HS=Fw(Sw("SkipSelf"),4);function ea(n,e){let t=n.hasOwnProperty(ad);return t?n[ad]:null}function $S(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function qS(n){return n.flat(Number.POSITIVE_INFINITY)}function tg(n,e){n.forEach(t=>Array.isArray(t)?tg(t,e):e(t))}function Vw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ud(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function GS(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function WS(n,e,t){let r=Qc(n,e);return r>=0?n[r|1]=t:(r=~r,GS(n,r,e,t)),r}function Kp(n,e){let t=Qc(n,e);if(t>=0)return n[t|1]}function Qc(n,e){return KS(n,e,1)}function KS(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),a=n[s<<t];if(e===a)return s<<t;a>e?i=s:r=s+1}return~(i<<t)}var ta={},Un=[],zc=new we(""),Bw=new we("",-1),jw=new we(""),ld=class{get(e,t=Uc){if(t===Uc){let r=new Error(`NullInjectorError: No provider for ${Dn(e)}!`);throw r.name="NullInjectorError",r}return t}},Uw=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Uw||{}),Sr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Sr||{}),Gi=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Gi||{});function ZS(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function lm(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],a=t[r++],u=t[r++];n.setAttribute(e,a,u,s)}else{let s=i,a=t[++r];YS(s)?n.setProperty(e,s,a):n.setAttribute(e,s,a),r++}}return r}function QS(n){return n===3||n===4||n===6}function YS(n){return n.charCodeAt(0)===64}function Hc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?QE(n,t,i,null,e[++r]):QE(n,t,i,null,null))}}return n}function QE(n,e,t,r,i){let s=0,a=n.length;if(e===-1)a=-1;else for(;s<n.length;){let u=n[s++];if(typeof u=="number"){if(u===e){a=-1;break}else if(u>e){a=s-1;break}}}for(;s<n.length;){let u=n[s];if(typeof u=="number")break;if(u===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}a!==-1&&(n.splice(a,0,e),s=a+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var zw="ng-template";function JS(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&ZS(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(ng(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function ng(n){return n.type===4&&n.value!==zw}function XS(n,e,t){let r=n.type===4&&!t?zw:n.value;return e===r}function eM(n,e,t){let r=4,i=n.attrs,s=i!==null?rM(i):0,a=!1;for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="number"){if(!a&&!nr(r)&&!nr(h))return!1;if(a&&nr(h))continue;a=!1,r=h|r&1;continue}if(!a)if(r&4){if(r=2|r&1,h!==""&&!XS(n,h,t)||h===""&&e.length===1){if(nr(r))return!1;a=!0}}else if(r&8){if(i===null||!JS(n,i,h,t)){if(nr(r))return!1;a=!0}}else{let f=e[++u],m=tM(h,i,ng(n),t);if(m===-1){if(nr(r))return!1;a=!0;continue}if(f!==""){let v;if(m>s?v="":v=i[m+1].toLowerCase(),r&2&&f!==v){if(nr(r))return!1;a=!0}}}}return nr(r)||a}function nr(n){return(n&1)===0}function tM(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let a=e[i];if(a===n)return i;if(a===3||a===6)s=!0;else if(a===1||a===2){let u=e[++i];for(;typeof u=="string";)u=e[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=s?1:2}return-1}else return iM(e,n)}function nM(n,e,t=!1){for(let r=0;r<e.length;r++)if(eM(n,e[r],t))return!0;return!1}function rM(n){for(let e=0;e<n.length;e++){let t=n[e];if(QS(t))return e}return n.length}function iM(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function YE(n,e){return n?":not("+e.trim()+")":e}function oM(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let a=n[t];if(typeof a=="string")if(r&2){let u=n[++t];i+="["+a+(u.length>0?'="'+u+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!nr(a)&&(e+=YE(s,i),i=""),r=a,s=s||!nr(r);t++}return i!==""&&(e+=YE(s,i)),e}function sM(n){return n.map(oM).join(",")}function aM(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!nr(i))break;i=s}r++}return{attrs:e,classes:t}}function Hn(n){return Zc(()=>{let e=qw(n),t=it(Ke({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Uw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Sr.Emulated,styles:n.styles||Un,_:null,schemas:n.schemas||null,tView:null,id:""});Gw(t);let r=n.dependencies;return t.directiveDefs=XE(r,!1),t.pipeDefs=XE(r,!0),t.id=dM(t),t})}function cM(n){return na(n)||Hw(n)}function uM(n){return n!==null}function Qo(n){return Zc(()=>({type:n.type,bootstrap:n.bootstrap||Un,declarations:n.declarations||Un,imports:n.imports||Un,exports:n.exports||Un,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function JE(n,e){if(n==null)return ta;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,a,u=Gi.None;Array.isArray(i)?(u=i[0],s=i[1],a=i[2]??s):(s=i,a=i),e?(t[s]=u!==Gi.None?[r,u]:r,e[s]=a):t[s]=r}return t}function Mt(n){return Zc(()=>{let e=qw(n);return Gw(e),e})}function na(n){return n[SS]||null}function Hw(n){return n[MS]||null}function $w(n){return n[PS]||null}function lM(n){let e=na(n)||Hw(n)||$w(n);return e!==null?e.standalone:!1}function qw(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ta,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Un,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:JE(n.inputs,e),outputs:JE(n.outputs),debugInfo:null}}function Gw(n){n.features?.forEach(e=>e(n))}function XE(n,e){if(!n)return null;let t=e?$w:cM;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(uM)}function dM(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Pd(n){return{\u0275providers:n}}function hM(...n){return{\u0275providers:Ww(!0,n),\u0275fromNgModule:!0}}function Ww(n,...e){let t=[],r=new Set,i,s=a=>{t.push(a)};return tg(e,a=>{let u=a;dm(u,s,[],r)&&(i||=[],i.push(u))}),i!==void 0&&Kw(i,s),t}function Kw(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];rg(i,s=>{e(s,r)})}}function dm(n,e,t,r){if(n=nn(n),!n)return!1;let i=null,s=GE(n),a=!s&&na(n);if(!s&&!a){let h=n.ngModule;if(s=GE(h),s)i=h;else return!1}else{if(a&&!a.standalone)return!1;i=n}let u=r.has(i);if(a){if(u)return!1;if(r.add(i),a.dependencies){let h=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let f of h)dm(f,e,t,r)}}else if(s){if(s.imports!=null&&!u){r.add(i);let f;try{tg(s.imports,m=>{dm(m,e,t,r)&&(f||=[],f.push(m))})}finally{}f!==void 0&&Kw(f,e)}if(!u){let f=ea(i)||(()=>new i);e({provide:i,useFactory:f,deps:Un},i),e({provide:jw,useValue:i,multi:!0},i),e({provide:zc,useValue:()=>be(i),multi:!0},i)}let h=s.providers;if(h!=null&&!u){let f=n;rg(h,m=>{e(m,f)})}}else return!1;return i!==n&&n.providers!==void 0}function rg(n,e){for(let t of n)Rw(t)&&(t=t.\u0275providers),Array.isArray(t)?rg(t,e):e(t)}var fM=at({provide:String,useValue:at});function Zw(n){return n!==null&&typeof n=="object"&&fM in n}function pM(n){return!!(n&&n.useExisting)}function mM(n){return!!(n&&n.useFactory)}function ra(n){return typeof n=="function"}function gM(n){return!!n.useClass}var Nd=new we(""),td={},_M={},Zp;function ig(){return Zp===void 0&&(Zp=new ld),Zp}var Mr=class{},$c=class extends Mr{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fm(e,a=>this.processProvider(a)),this.records.set(Bw,Zs(void 0,this)),i.has("environment")&&this.records.set(Mr,Zs(void 0,this));let s=this.records.get(Nd);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(jw,Un,Le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=qe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),qe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Hi(this),r=jn(void 0),i;try{return e()}finally{Hi(t),jn(r)}}get(e,t=Uc,r=Le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(KE))return e[KE](this);r=Md(r);let i,s=Hi(this),a=jn(void 0);try{if(!(r&Le.SkipSelf)){let h=this.records.get(e);if(h===void 0){let f=xM(e)&&Xm(e);f&&this.injectableDefInScope(f)?h=Zs(hm(e),td):h=null,this.records.set(e,h)}if(h!=null)return this.hydrate(e,h)}let u=r&Le.Self?ig():this.parent;return t=r&Le.Optional&&t===Uc?null:t,u.get(e,t)}catch(u){if(u.name==="NullInjectorError"){if((u[cd]=u[cd]||[]).unshift(Dn(e)),s)throw u;return US(u,e,"R3InjectorError",this.source)}else throw u}finally{jn(a),Hi(s)}}resolveInjectorInitializers(){let e=qe(null),t=Hi(this),r=jn(void 0),i;try{let s=this.get(zc,Un,Le.Self);for(let a of s)a()}finally{Hi(t),jn(r),qe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Dn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(e){e=nn(e);let t=ra(e)?e:nn(e&&e.provide),r=yM(e);if(!ra(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Zs(void 0,td,!0),i.factory=()=>um(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=qe(null);try{return t.value===td&&(t.value=_M,t.value=t.factory()),typeof t.value=="object"&&t.value&&wM(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{qe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=nn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function hm(n){let e=Xm(n),t=e!==null?e.factory:ea(n);if(t!==null)return t;if(n instanceof we)throw new Ae(204,!1);if(n instanceof Function)return vM(n);throw new Ae(204,!1)}function vM(n){if(n.length>0)throw new Ae(204,!1);let t=TS(n);return t!==null?()=>t.factory(n):()=>new n}function yM(n){if(Zw(n))return Zs(void 0,n.useValue);{let e=Qw(n);return Zs(e,td)}}function Qw(n,e,t){let r;if(ra(n)){let i=nn(n);return ea(i)||hm(i)}else if(Zw(n))r=()=>nn(n.useValue);else if(mM(n))r=()=>n.useFactory(...um(n.deps||[]));else if(pM(n))r=()=>be(nn(n.useExisting));else{let i=nn(n&&(n.useClass||n.provide));if(EM(n))r=()=>new i(...um(n.deps));else return ea(i)||hm(i)}return r}function Zs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function EM(n){return!!n.deps}function wM(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function xM(n){return typeof n=="function"||typeof n=="object"&&n instanceof we}function fm(n,e){for(let t of n)Array.isArray(t)?fm(t,e):t&&Rw(t)?fm(t.\u0275providers,e):e(t)}function Yw(n,e){n instanceof $c&&n.assertNotDestroyed();let t,r=Hi(n),i=jn(void 0);try{return e()}finally{Hi(r),jn(i)}}function IM(){return kw()!==void 0||VS()!=null}function DM(n){return typeof n=="function"}var hi=0,Se=1,ve=2,qt=3,rr=4,or=5,dd=6,hd=7,ir=8,ia=9,si=10,St=11,qc=12,ew=13,da=14,ai=15,jo=16,Qs=17,ci=18,Rd=19,Jw=20,$i=21,Qp=22,zn=23,Pr=25,Xw=1;var Uo=7,fd=8,oa=9,Cn=10,pd=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(pd||{});function qi(n){return Array.isArray(n)&&typeof n[Xw]=="object"}function fi(n){return Array.isArray(n)&&n[Xw]===!0}function og(n){return(n.flags&4)!==0}function sg(n){return n.componentOffset>-1}function kd(n){return(n.flags&1)===1}function Wi(n){return!!n.template}function pm(n){return(n[ve]&512)!==0}var mm=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function ex(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function ha(){return tx}function tx(n){return n.type.prototype.ngOnChanges&&(n.setInput=bM),CM}ha.ngInherit=!0;function CM(){let n=rx(this),e=n?.current;if(e){let t=n.previous;if(t===ta)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function bM(n,e,t,r,i){let s=this.declaredInputs[r],a=rx(n)||TM(n,{previous:ta,current:null}),u=a.current||(a.current={}),h=a.previous,f=h[s];u[s]=new mm(f&&f.currentValue,t,h===ta),ex(n,e,i,t)}var nx="__ngSimpleChanges__";function rx(n){return n[nx]||null}function TM(n,e){return n[nx]=e}var tw=null;var Tr=function(n,e,t){tw?.(n,e,t)},AM="svg",SM="math";function Nr(n){for(;Array.isArray(n);)n=n[hi];return n}function ix(n,e){return Nr(e[n])}function $n(n,e){return Nr(e[n.index])}function ox(n,e){return n.data[e]}function MM(n,e){return n[e]}function Yo(n,e){let t=e[n];return qi(t)?t:t[hi]}function PM(n){return(n[ve]&4)===4}function ag(n){return(n[ve]&128)===128}function NM(n){return fi(n[qt])}function sa(n,e){return e==null?null:n[e]}function sx(n){n[Qs]=0}function ax(n){n[ve]&1024||(n[ve]|=1024,ag(n)&&Fd(n))}function RM(n,e){for(;n>0;)e=e[da],n--;return e}function Od(n){return!!(n[ve]&9216||n[zn]?.dirty)}function gm(n){n[si].changeDetectionScheduler?.notify(8),n[ve]&64&&(n[ve]|=1024),Od(n)&&Fd(n)}function Fd(n){n[si].changeDetectionScheduler?.notify(0);let e=zo(n);for(;e!==null&&!(e[ve]&8192||(e[ve]|=8192,!ag(e)));)e=zo(e)}function cx(n,e){if((n[ve]&256)===256)throw new Ae(911,!1);n[$i]===null&&(n[$i]=[]),n[$i].push(e)}function kM(n,e){if(n[$i]===null)return;let t=n[$i].indexOf(e);t!==-1&&n[$i].splice(t,1)}function zo(n){let e=n[qt];return fi(e)?e[qt]:e}var Me={lFrame:vx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ux=!1;function OM(){return Me.lFrame.elementDepthCount}function FM(){Me.lFrame.elementDepthCount++}function LM(){Me.lFrame.elementDepthCount--}function lx(){return Me.bindingsEnabled}function VM(){return Me.skipHydrationRootTNode!==null}function BM(n){return Me.skipHydrationRootTNode===n}function jM(){Me.skipHydrationRootTNode=null}function Xe(){return Me.lFrame.lView}function Gt(){return Me.lFrame.tView}function rn(n){return Me.lFrame.contextLView=n,n[ir]}function on(n){return Me.lFrame.contextLView=null,n}function bn(){let n=dx();for(;n!==null&&n.type===64;)n=n.parent;return n}function dx(){return Me.lFrame.currentTNode}function UM(){let n=Me.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Jo(n,e){let t=Me.lFrame;t.currentTNode=n,t.isParent=e}function cg(){return Me.lFrame.isParent}function hx(){Me.lFrame.isParent=!1}function zM(){return Me.lFrame.contextLView}function fx(){return ux}function nw(n){ux=n}function HM(){let n=Me.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function $M(){return Me.lFrame.bindingIndex}function qM(n){return Me.lFrame.bindingIndex=n}function ug(){return Me.lFrame.bindingIndex++}function px(n){let e=Me.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function GM(){return Me.lFrame.inI18n}function WM(n,e){let t=Me.lFrame;t.bindingIndex=t.bindingRootIndex=n,_m(e)}function KM(){return Me.lFrame.currentDirectiveIndex}function _m(n){Me.lFrame.currentDirectiveIndex=n}function ZM(n){let e=Me.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function mx(){return Me.lFrame.currentQueryIndex}function lg(n){Me.lFrame.currentQueryIndex=n}function QM(n){let e=n[Se];return e.type===2?e.declTNode:e.type===1?n[or]:null}function gx(n,e,t){if(t&Le.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&Le.Host);)if(i=QM(s),i===null||(s=s[da],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=Me.lFrame=_x();return r.currentTNode=e,r.lView=n,!0}function dg(n){let e=_x(),t=n[Se];Me.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function _x(){let n=Me.lFrame,e=n===null?null:n.child;return e===null?vx(n):e}function vx(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function yx(){let n=Me.lFrame;return Me.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Ex=yx;function hg(){let n=yx();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function YM(n){return(Me.lFrame.contextLView=RM(n,Me.lFrame.contextLView))[ir]}function Xo(){return Me.lFrame.selectedIndex}function Ho(n){Me.lFrame.selectedIndex=n}function fg(){let n=Me.lFrame;return ox(n.tView,n.selectedIndex)}function JM(){return Me.lFrame.currentNamespace}var wx=!0;function Ld(){return wx}function Vd(n){wx=n}function XM(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let a=tx(e);(t.preOrderHooks??=[]).push(n,a),(t.preOrderCheckHooks??=[]).push(n,a)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function Bd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:u,ngAfterViewInit:h,ngAfterViewChecked:f,ngOnDestroy:m}=s;a&&(n.contentHooks??=[]).push(-t,a),u&&((n.contentHooks??=[]).push(t,u),(n.contentCheckHooks??=[]).push(t,u)),h&&(n.viewHooks??=[]).push(-t,h),f&&((n.viewHooks??=[]).push(t,f),(n.viewCheckHooks??=[]).push(t,f)),m!=null&&(n.destroyHooks??=[]).push(t,m)}}function nd(n,e,t){xx(n,e,3,t)}function rd(n,e,t,r){(n[ve]&3)===t&&xx(n,e,t,r)}function Yp(n,e){let t=n[ve];(t&3)===e&&(t&=16383,t+=1,n[ve]=t)}function xx(n,e,t,r){let i=r!==void 0?n[Qs]&65535:0,s=r??-1,a=e.length-1,u=0;for(let h=i;h<a;h++)if(typeof e[h+1]=="number"){if(u=e[h],r!=null&&u>=r)break}else e[h]<0&&(n[Qs]+=65536),(u<s||s==-1)&&(eP(n,t,e,h),n[Qs]=(n[Qs]&4294901760)+h+2),h++}function rw(n,e){Tr(4,n,e);let t=qe(null);try{e.call(n)}finally{qe(t),Tr(5,n,e)}}function eP(n,e,t,r){let i=t[r]<0,s=t[r+1],a=i?-t[r]:t[r],u=n[a];i?n[ve]>>14<n[Qs]>>16&&(n[ve]&3)===e&&(n[ve]+=16384,rw(u,s)):rw(u,s)}var Xs=-1,$o=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function tP(n){return n instanceof $o}function nP(n){return(n.flags&8)!==0}function rP(n){return(n.flags&16)!==0}var Jp={},vm=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Md(r);let i=this.injector.get(e,Jp,r);return i!==Jp||t===Jp?i:this.parentInjector.get(e,t,r)}};function Ix(n){return n!==Xs}function md(n){return n&32767}function iP(n){return n>>16}function gd(n,e){let t=iP(n),r=e;for(;t>0;)r=r[da],t--;return r}var ym=!0;function iw(n){let e=ym;return ym=n,e}var oP=256,Dx=oP-1,Cx=5,sP=0,Ar={};function aP(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Bc)&&(r=t[Bc]),r==null&&(r=t[Bc]=sP++);let i=r&Dx,s=1<<i;e.data[n+(i>>Cx)]|=s}function _d(n,e){let t=bx(n,e);if(t!==-1)return t;let r=e[Se];r.firstCreatePass&&(n.injectorIndex=e.length,Xp(r.data,n),Xp(e,null),Xp(r.blueprint,null));let i=pg(n,e),s=n.injectorIndex;if(Ix(i)){let a=md(i),u=gd(i,e),h=u[Se].data;for(let f=0;f<8;f++)e[s+f]=u[a+f]|h[a+f]}return e[s+8]=i,s}function Xp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function bx(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function pg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Px(i),r===null)return Xs;if(t++,i=i[da],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Xs}function Em(n,e,t){aP(n,e,t)}function Tx(n,e,t){if(t&Le.Optional||n!==void 0)return n;eg(e,"NodeInjector")}function Ax(n,e,t,r){if(t&Le.Optional&&r===void 0&&(r=null),!(t&(Le.Self|Le.Host))){let i=n[ia],s=jn(void 0);try{return i?i.get(e,r,t&Le.Optional):Ow(e,r,t&Le.Optional)}finally{jn(s)}}return Tx(r,e,t)}function Sx(n,e,t,r=Le.Default,i){if(n!==null){if(e[ve]&2048&&!(r&Le.Self)){let a=dP(n,e,t,r,Ar);if(a!==Ar)return a}let s=Mx(n,e,t,r,Ar);if(s!==Ar)return s}return Ax(e,t,r,i)}function Mx(n,e,t,r,i){let s=uP(t);if(typeof s=="function"){if(!gx(e,n,r))return r&Le.Host?Tx(i,t,r):Ax(e,t,r,i);try{let a;if(a=s(r),a==null&&!(r&Le.Optional))eg(t);else return a}finally{Ex()}}else if(typeof s=="number"){let a=null,u=bx(n,e),h=Xs,f=r&Le.Host?e[ai][or]:null;for((u===-1||r&Le.SkipSelf)&&(h=u===-1?pg(n,e):e[u+8],h===Xs||!sw(r,!1)?u=-1:(a=e[Se],u=md(h),e=gd(h,e)));u!==-1;){let m=e[Se];if(ow(s,u,m.data)){let v=cP(u,e,t,a,r,f);if(v!==Ar)return v}h=e[u+8],h!==Xs&&sw(r,e[Se].data[u+8]===f)&&ow(s,u,e)?(a=m,u=md(h),e=gd(h,e)):u=-1}}return i}function cP(n,e,t,r,i,s){let a=e[Se],u=a.data[n+8],h=r==null?sg(u)&&ym:r!=a&&(u.type&3)!==0,f=i&Le.Host&&s===u,m=id(u,a,t,h,f);return m!==null?qo(e,a,m,u):Ar}function id(n,e,t,r,i){let s=n.providerIndexes,a=e.data,u=s&1048575,h=n.directiveStart,f=n.directiveEnd,m=s>>20,v=r?u:u+m,E=i?u+m:f;for(let w=v;w<E;w++){let I=a[w];if(w<h&&t===I||w>=h&&I.type===t)return w}if(i){let w=a[h];if(w&&Wi(w)&&w.type===t)return h}return null}function qo(n,e,t,r){let i=n[t],s=e.data;if(tP(i)){let a=i;a.resolving&&RS(NS(s[t]));let u=iw(a.canSeeViewProviders);a.resolving=!0;let h,f=a.injectImpl?jn(a.injectImpl):null,m=gx(n,r,Le.Default);try{i=n[t]=a.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&XM(t,s[t],e)}finally{f!==null&&jn(f),iw(u),a.resolving=!1,Ex()}}return i}function uP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Bc)?n[Bc]:void 0;return typeof e=="number"?e>=0?e&Dx:lP:e}function ow(n,e,t){let r=1<<n;return!!(t[e+(n>>Cx)]&r)}function sw(n,e){return!(n&Le.Self)&&!(n&Le.Host&&e)}var Bo=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Sx(this._tNode,this._lView,e,Md(r),t)}};function lP(){return new Bo(bn(),Xe())}function mg(n){return Zc(()=>{let e=n.prototype.constructor,t=e[ad]||wm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[ad]||wm(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function wm(n){return Mw(n)?()=>{let e=wm(nn(n));return e&&e()}:ea(n)}function dP(n,e,t,r,i){let s=n,a=e;for(;s!==null&&a!==null&&a[ve]&2048&&!(a[ve]&512);){let u=Mx(s,a,t,r|Le.Self,Ar);if(u!==Ar)return u;let h=s.parent;if(!h){let f=a[Jw];if(f){let m=f.get(t,Ar,r);if(m!==Ar)return m}h=Px(a),a=a[da]}s=h}return i}function Px(n){let e=n[Se],t=e.type;return t===2?e.declTNode:t===1?n[or]:null}function aw(n,e=null,t=null,r){let i=hP(n,e,t,r);return i.resolveInjectorInitializers(),i}function hP(n,e=null,t=null,r,i=new Set){let s=[t||Un,hM(n)];return r=r||(typeof n=="object"?void 0:Dn(n)),new $c(s,e||ig(),r||null,i)}var Go=class n{static{this.THROW_IF_NOT_FOUND=Uc}static{this.NULL=new ld}static create(e,t){if(Array.isArray(e))return aw({name:""},t,e,"");{let r=e.name??"";return aw({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=Pe({token:n,providedIn:"any",factory:()=>be(Bw)})}static{this.__NG_ELEMENT_ID__=-1}};var fP=new we("");fP.__NG_ELEMENT_ID__=n=>{let e=bn();if(e===null)throw new Ae(204,!1);if(e.type&2)return e.value;if(n&Le.Optional)return null;throw new Ae(204,!1)};var pP="ngOriginalError";function em(n){return n[pP]}var Nx=!0,Rx=(()=>{class n{static{this.__NG_ELEMENT_ID__=mP}static{this.__NG_ENV_ID__=t=>t}}return n})(),xm=class extends Rx{constructor(e){super(),this._lView=e}onDestroy(e){return cx(this._lView,e),()=>kM(this._lView,e)}};function mP(){return new xm(Xe())}var fa=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Fc(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Pe({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Im=class extends br{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,IM()&&(this.destroyRef=Ce(Rx,{optional:!0})??void 0,this.pendingTasks=Ce(fa,{optional:!0})??void 0)}emit(e){let t=qe(null);try{super.next(e)}finally{qe(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),a=r;if(e&&typeof e=="object"){let h=e;i=h.next?.bind(h),s=h.error?.bind(h),a=h.complete?.bind(h)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let u=super.subscribe({next:i,error:s,complete:a});return e instanceof tn&&e.add(u),u}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},st=Im;function vd(...n){}function kx(n){let e,t;function r(){n=vd;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function cw(n){return queueMicrotask(()=>n()),()=>{n=vd}}var gg="isAngularZone",yd=gg+"_ID",gP=0,wt=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new st(!1),this.onMicrotaskEmpty=new st(!1),this.onStable=new st(!1),this.onError=new st(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=Nx}=e;if(typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=s,yP(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(gg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Ae(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,e,_P,vd,vd);try{return s.runTask(a,t,r)}finally{s.cancelTask(a)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},_P={};function _g(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vP(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){kx(()=>{n.callbackScheduled=!1,Dm(n),n.isCheckStableRunning=!0,_g(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Dm(n)}function yP(n){let e=()=>{vP(n)},t=gP++;n._inner=n._inner.fork({name:"angular",properties:{[gg]:!0,[yd]:t,[yd+t]:!0},onInvokeTask:(r,i,s,a,u,h)=>{if(EP(h))return r.invokeTask(s,a,u,h);try{return uw(n),r.invokeTask(s,a,u,h)}finally{(n.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),lw(n)}},onInvoke:(r,i,s,a,u,h,f)=>{try{return uw(n),r.invoke(s,a,u,h,f)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!wP(h)&&e(),lw(n)}},onHasTask:(r,i,s,a)=>{r.hasTask(s,a),i===s&&(a.change=="microTask"?(n._hasPendingMicrotasks=a.microTask,Dm(n),_g(n)):a.change=="macroTask"&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,s,a)=>(r.handleError(s,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}function Dm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function uw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function lw(n){n._nesting--,_g(n)}var Cm=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new st,this.onMicrotaskEmpty=new st,this.onStable=new st,this.onError=new st}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function EP(n){return Ox(n,"__ignore_ng_zone__")}function wP(n){return Ox(n,"__scheduler_tick__")}function Ox(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var ui=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&em(e);for(;t&&em(t);)t=em(t);return t||null}},xP=new we("",{providedIn:"root",factory:()=>{let n=Ce(wt),e=Ce(ui);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function IP(){return pa(bn(),Xe())}function pa(n,e){return new sr($n(n,e))}var sr=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=IP}}return n})();function DP(n){return n instanceof sr?n.nativeElement:n}function CP(){return this._results[Symbol.iterator]()}var bm=class n{get changes(){return this._changes??=new st}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=CP)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=qS(e);(this._changesDetected=!$S(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Fx(n){return(n.flags&128)===128}var Lx=new Map,bP=0;function TP(){return bP++}function AP(n){Lx.set(n[Rd],n)}function Tm(n){Lx.delete(n[Rd])}var dw="__ngContext__";function Ki(n,e){qi(e)?(n[dw]=e[Rd],AP(e)):n[dw]=e}function Vx(n){return jx(n[qc])}function Bx(n){return jx(n[rr])}function jx(n){for(;n!==null&&!fi(n);)n=n[rr];return n}var Am;function Ux(n){Am=n}function SP(){if(Am!==void 0)return Am;if(typeof document<"u")return document;throw new Ae(210,!1)}var vg=new we("",{providedIn:"root",factory:()=>MP}),MP="ng",yg=new we(""),Qi=new we("",{providedIn:"platform",factory:()=>"unknown"});var Eg=new we("",{providedIn:"root",factory:()=>SP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var PP="h",NP="b";var RP=()=>null;function wg(n,e,t=!1){return RP(n,e,t)}var zx=!1,kP=new we("",{providedIn:"root",factory:()=>zx});var Sm=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${IS})`}};function xg(n){return n instanceof Sm?n.changingThisBreaksApplicationSecurity:n}var OP=/^>|^->|<!--|-->|--!>|<!-$/g,FP=/(<|>)/g,LP="\u200B$1\u200B";function VP(n){return n.replace(OP,e=>e.replace(FP,LP))}var li=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(li||{}),BP;function Ig(n,e){return BP(n,e)}function Ys(n,e,t,r,i){if(r!=null){let s,a=!1;fi(r)?s=r:qi(r)&&(a=!0,r=r[hi]);let u=Nr(r);n===0&&t!==null?i==null?Wx(e,t,u):Ed(e,t,u,i||null,!0):n===1&&t!==null?Ed(e,t,u,i||null,!0):n===2?tN(e,u,a):n===3&&e.destroyNode(u),s!=null&&rN(e,n,s,t,i)}}function jP(n,e){return n.createText(e)}function UP(n,e,t){n.setValue(e,t)}function zP(n,e){return n.createComment(VP(e))}function Hx(n,e,t){return n.createElement(e,t)}function HP(n,e){$x(n,e),e[hi]=null,e[or]=null}function $P(n,e,t,r,i,s){r[hi]=i,r[or]=e,Ud(n,r,t,1,i,s)}function $x(n,e){e[si].changeDetectionScheduler?.notify(9),Ud(n,e,e[St],2,null,null)}function qP(n){let e=n[qc];if(!e)return tm(n[Se],n);for(;e;){let t=null;if(qi(e))t=e[qc];else{let r=e[Cn];r&&(t=r)}if(!t){for(;e&&!e[rr]&&e!==n;)qi(e)&&tm(e[Se],e),e=e[qt];e===null&&(e=n),qi(e)&&tm(e[Se],e),t=e&&e[rr]}e=t}}function GP(n,e,t,r){let i=Cn+r,s=t.length;r>0&&(t[i-1][rr]=e),r<s-Cn?(e[rr]=t[i],Vw(t,Cn+r,e)):(t.push(e),e[rr]=null),e[qt]=t;let a=e[jo];a!==null&&t!==a&&qx(a,e);let u=e[ci];u!==null&&u.insertView(n),gm(e),e[ve]|=128}function qx(n,e){let t=n[oa],r=e[qt];if(qi(r))n[ve]|=pd.HasTransplantedViews;else{let i=r[qt][ai];e[ai]!==i&&(n[ve]|=pd.HasTransplantedViews)}t===null?n[oa]=[e]:t.push(e)}function Dg(n,e){let t=n[oa],r=t.indexOf(e);t.splice(r,1)}function Mm(n,e){if(n.length<=Cn)return;let t=Cn+e,r=n[t];if(r){let i=r[jo];i!==null&&i!==n&&Dg(i,r),e>0&&(n[t-1][rr]=r[rr]);let s=ud(n,Cn+e);HP(r[Se],r);let a=s[ci];a!==null&&a.detachView(s[Se]),r[qt]=null,r[rr]=null,r[ve]&=-129}return r}function Gx(n,e){if(!(e[ve]&256)){let t=e[St];t.destroyNode&&Ud(n,e,t,3,null,null),qP(e)}}function tm(n,e){if(e[ve]&256)return;let t=qe(null);try{e[ve]&=-129,e[ve]|=256,e[zn]&&Rp(e[zn]),KP(n,e),WP(n,e),e[Se].type===1&&e[St].destroy();let r=e[jo];if(r!==null&&fi(e[qt])){r!==e[qt]&&Dg(r,e);let i=e[ci];i!==null&&i.detachView(n)}Tm(e)}finally{qe(t)}}function WP(n,e){let t=n.cleanup,r=e[hd];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[hd]=null);let i=e[$i];if(i!==null){e[$i]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}}function KP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof $o)){let s=t[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){let u=i[s[a]],h=s[a+1];Tr(4,u,h);try{h.call(u)}finally{Tr(5,u,h)}}else{Tr(4,i,s);try{s.call(i)}finally{Tr(5,i,s)}}}}}function ZP(n,e,t){return QP(n,e.parent,t)}function QP(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[hi];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===Sr.None||s===Sr.Emulated)return null}return $n(r,t)}}function Ed(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Wx(n,e,t){n.appendChild(e,t)}function hw(n,e,t,r,i){r!==null?Ed(n,e,t,r,i):Wx(n,e,t)}function Kx(n,e){return n.parentNode(e)}function YP(n,e){return n.nextSibling(e)}function JP(n,e,t){return eN(n,e,t)}function XP(n,e,t){return n.type&40?$n(n,t):null}var eN=XP,fw;function jd(n,e,t,r){let i=ZP(n,r,e),s=e[St],a=r.parent||e[or],u=JP(a,r,e);if(i!=null)if(Array.isArray(t))for(let h=0;h<t.length;h++)hw(s,i,t[h],u,!1);else hw(s,i,t,u,!1);fw!==void 0&&fw(s,r,e,t,i)}function Lc(n,e){if(e!==null){let t=e.type;if(t&3)return $n(e,n);if(t&4)return Pm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Lc(n,r);{let i=n[e.index];return fi(i)?Pm(-1,i):Nr(i)}}else{if(t&128)return Lc(n,e.next);if(t&32)return Ig(e,n)()||Nr(n[e.index]);{let r=Zx(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=zo(n[ai]);return Lc(i,r)}else return Lc(n,e.next)}}}return null}function Zx(n,e){if(e!==null){let r=n[ai][or],i=e.projection;return r.projection[i]}return null}function Pm(n,e){let t=Cn+n+1;if(t<e.length){let r=e[t],i=r[Se].firstChild;if(i!==null)return Lc(r,i)}return e[Uo]}function tN(n,e,t){n.removeChild(null,e,t)}function Cg(n,e,t,r,i,s,a){for(;t!=null;){if(t.type===128){t=t.next;continue}let u=r[t.index],h=t.type;if(a&&e===0&&(u&&Ki(Nr(u),r),t.flags|=2),(t.flags&32)!==32)if(h&8)Cg(n,e,t.child,r,i,s,!1),Ys(e,n,i,u,s);else if(h&32){let f=Ig(t,r),m;for(;m=f();)Ys(e,n,i,m,s);Ys(e,n,i,u,s)}else h&16?nN(n,e,r,t,i,s):Ys(e,n,i,u,s);t=a?t.projectionNext:t.next}}function Ud(n,e,t,r,i,s){Cg(t,r,n.firstChild,e,i,s,!1)}function nN(n,e,t,r,i,s){let a=t[ai],h=a[or].projection[r.projection];if(Array.isArray(h))for(let f=0;f<h.length;f++){let m=h[f];Ys(e,n,i,m,s)}else{let f=h,m=a[qt];Fx(r)&&(f.flags|=128),Cg(n,e,f,m,i,s,!0)}}function rN(n,e,t,r,i){let s=t[Uo],a=Nr(t);s!==a&&Ys(e,n,r,s,i);for(let u=Cn;u<t.length;u++){let h=t[u];Ud(h[Se],h,n,e,r,s)}}function iN(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:li.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=li.Important),n.setStyle(t,r,i,s))}}function oN(n,e,t){n.setAttribute(e,"style",t)}function Qx(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Yx(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&lm(n,e,r),i!==null&&Qx(n,e,i),s!==null&&oN(n,e,s)}var Rr={};function Ve(n=1){Jx(Gt(),Xe(),Xo()+n,!1)}function Jx(n,e,t,r){if(!r)if((e[ve]&3)===3){let s=n.preOrderCheckHooks;s!==null&&nd(e,s,t)}else{let s=n.preOrderHooks;s!==null&&rd(e,s,0,t)}Ho(t)}function le(n,e=Le.Default){let t=Xe();if(t===null)return be(n,e);let r=bn();return Sx(r,t,nn(n),e)}function Xx(n,e,t,r,i,s){let a=qe(null);try{let u=null;i&Gi.SignalBased&&(u=e[r][zi]),u!==null&&u.transformFn!==void 0&&(s=u.transformFn(s)),i&Gi.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,u,s,t,r):ex(e,u,r,s)}finally{qe(a)}}function sN(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ho(~i);else{let s=i,a=t[++r],u=t[++r];WM(a,s);let h=e[s];u(2,h)}}}finally{Ho(-1)}}function zd(n,e,t,r,i,s,a,u,h,f,m){let v=e.blueprint.slice();return v[hi]=i,v[ve]=r|4|128|8|64,(f!==null||n&&n[ve]&2048)&&(v[ve]|=2048),sx(v),v[qt]=v[da]=n,v[ir]=t,v[si]=a||n&&n[si],v[St]=u||n&&n[St],v[ia]=h||n&&n[ia]||null,v[or]=s,v[Rd]=TP(),v[dd]=m,v[Jw]=f,v[ai]=e.type==2?n[ai]:v,v}function Yc(n,e,t,r,i){let s=n.data[e];if(s===null)s=aN(n,e,t,r,i),GM()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let a=UM();s.injectorIndex=a===null?-1:a.injectorIndex}return Jo(s,!0),s}function aN(n,e,t,r,i){let s=dx(),a=cg(),u=a?s:s&&s.parent,h=n.data[e]=fN(n,u,t,e,r,i);return n.firstChild===null&&(n.firstChild=h),s!==null&&(a?s.child==null&&h.parent!==null&&(s.child=h):s.next===null&&(s.next=h,h.prev=s)),h}function eI(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function tI(n,e,t,r,i){let s=Xo(),a=r&2;try{Ho(-1),a&&e.length>Pr&&Jx(n,e,Pr,!1),Tr(a?2:0,i),t(r,i)}finally{Ho(s),Tr(a?3:1,i)}}function bg(n,e,t){if(og(e)){let r=qe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let a=i;a<s;a++){let u=n.data[a];if(u.contentQueries){let h=t[a];u.contentQueries(1,h,a)}}}finally{qe(r)}}}function Tg(n,e,t){lx()&&(yN(n,e,t,$n(t,e)),(t.flags&64)===64&&oI(n,e,t))}function Ag(n,e,t=$n){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let a=r[s+1],u=a===-1?t(e,n):n[a];n[i++]=u}}}function nI(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Sg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Sg(n,e,t,r,i,s,a,u,h,f,m){let v=Pr+r,E=v+i,w=cN(v,E),I=typeof f=="function"?f():f;return w[Se]={type:n,blueprint:w,template:t,queries:null,viewQuery:u,declTNode:e,data:w.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:h,consts:I,incompleteFirstPass:!1,ssrId:m}}function cN(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Rr);return t}function uN(n,e,t,r){let s=r.get(kP,zx)||t===Sr.ShadowDom,a=n.selectRootElement(e,s);return lN(a),a}function lN(n){dN(n)}var dN=()=>null;function hN(n,e,t,r){let i=cI(e);i.push(t),n.firstCreatePass&&uI(n).push(r,i.length-1)}function fN(n,e,t,r,i,s){let a=e?e.injectorIndex:-1,u=0;return VM()&&(u|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:u,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function pw(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let a=e[s];if(a===void 0)continue;r??={};let u,h=Gi.None;Array.isArray(a)?(u=a[0],h=a[1]):u=a;let f=s;if(i!==null){if(!i.hasOwnProperty(s))continue;f=i[s]}n===0?mw(r,t,f,u,h):mw(r,t,f,u)}return r}function mw(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function pN(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,a=e.attrs,u=[],h=null,f=null;for(let m=r;m<i;m++){let v=s[m],E=t?t.get(v):null,w=E?E.inputs:null,I=E?E.outputs:null;h=pw(0,v.inputs,m,h,w),f=pw(1,v.outputs,m,f,I);let R=h!==null&&a!==null&&!ng(e)?MN(h,m,a):null;u.push(R)}h!==null&&(h.hasOwnProperty("class")&&(e.flags|=8),h.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=u,e.inputs=h,e.outputs=f}function mN(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function rI(n,e,t,r,i,s,a,u){let h=$n(e,t),f=e.inputs,m;!u&&f!=null&&(m=f[r])?(Pg(n,t,m,r,i),sg(e)&&gN(t,e.index)):e.type&3?(r=mN(r),i=a!=null?a(i,e.value||"",r):i,s.setProperty(h,r,i)):e.type&12}function gN(n,e){let t=Yo(e,n);t[ve]&16||(t[ve]|=64)}function Mg(n,e,t,r){if(lx()){let i=r===null?null:{"":-1},s=wN(n,t),a,u;s===null?a=u=null:[a,u]=s,a!==null&&iI(n,e,t,a,i,u),i&&xN(t,r,i)}t.mergedAttrs=Hc(t.mergedAttrs,t.attrs)}function iI(n,e,t,r,i,s){for(let f=0;f<r.length;f++)Em(_d(t,e),n,r[f].type);DN(t,n.data.length,r.length);for(let f=0;f<r.length;f++){let m=r[f];m.providersResolver&&m.providersResolver(m)}let a=!1,u=!1,h=eI(n,e,r.length,null);for(let f=0;f<r.length;f++){let m=r[f];t.mergedAttrs=Hc(t.mergedAttrs,m.hostAttrs),CN(n,t,e,h,m),IN(h,m,i),m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let v=m.type.prototype;!a&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),a=!0),!u&&(v.ngOnChanges||v.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),h++}pN(n,t,s)}function _N(n,e,t,r,i){let s=i.hostBindings;if(s){let a=n.hostBindingOpCodes;a===null&&(a=n.hostBindingOpCodes=[]);let u=~e.index;vN(a)!=u&&a.push(u),a.push(t,r,s)}}function vN(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function yN(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;sg(t)&&bN(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||_d(t,e),Ki(r,e);let a=t.initialInputs;for(let u=i;u<s;u++){let h=n.data[u],f=qo(e,n,u,t);if(Ki(f,e),a!==null&&SN(e,u-i,f,h,t,a),Wi(h)){let m=Yo(t.index,e);m[ir]=qo(e,n,u,t)}}}function oI(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,a=KM();try{Ho(s);for(let u=r;u<i;u++){let h=n.data[u],f=e[u];_m(u),(h.hostBindings!==null||h.hostVars!==0||h.hostAttrs!==null)&&EN(h,f)}}finally{Ho(-1),_m(a)}}function EN(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function wN(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let a=t[s];if(nM(e,a.selectors,!1))if(r||(r=[]),Wi(a))if(a.findHostDirectiveDefs!==null){let u=[];i=i||new Map,a.findHostDirectiveDefs(a,u,i),r.unshift(...u,a);let h=u.length;Nm(n,e,h)}else r.unshift(a),Nm(n,e,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return r===null?null:[r,i]}function Nm(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function xN(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new Ae(-301,!1);r.push(e[i],s)}}}function IN(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Wi(e)&&(t[""]=n)}}function DN(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function CN(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=ea(i.type,!0)),a=new $o(s,Wi(i),le);n.blueprint[r]=a,t[r]=a,_N(n,e,r,eI(n,t,i.hostVars,Rr),i)}function bN(n,e,t){let r=$n(e,n),i=nI(t),s=n[si].rendererFactory,a=16;t.signals?a=4096:t.onPush&&(a=64);let u=Hd(n,zd(n,i,null,a,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=u}function TN(n,e,t,r,i,s){let a=$n(n,e);AN(e[St],a,s,n.value,t,r,i)}function AN(n,e,t,r,i,s,a){if(s==null)n.removeAttribute(e,i,t);else{let u=a==null?jc(s):a(s,r||"",i);n.setAttribute(e,i,u,t)}}function SN(n,e,t,r,i,s){let a=s[e];if(a!==null)for(let u=0;u<a.length;){let h=a[u++],f=a[u++],m=a[u++],v=a[u++];Xx(r,t,h,f,m,v)}}function MN(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let a=n[s];for(let u=0;u<a.length;u+=3)if(a[u]===e){r.push(s,a[u+1],a[u+2],t[i+1]);break}}i+=2}return r}function sI(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function aI(n,e){let t=n.contentQueries;if(t!==null){let r=qe(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],a=t[i+1];if(a!==-1){let u=n.data[a];lg(s),u.contentQueries(2,e[a],a)}}}finally{qe(r)}}}function Hd(n,e){return n[qc]?n[ew][rr]=e:n[qc]=e,n[ew]=e,e}function Rm(n,e,t){lg(0);let r=qe(null);try{e(n,t)}finally{qe(r)}}function cI(n){return n[hd]??=[]}function uI(n){return n.cleanup??=[]}function lI(n,e){let t=n[ia],r=t?t.get(ui,null):null;r&&r.handleError(e)}function Pg(n,e,t,r,i){for(let s=0;s<t.length;){let a=t[s++],u=t[s++],h=t[s++],f=e[a],m=n.data[a];Xx(m,f,r,u,h,i)}}function dI(n,e,t){let r=ix(e,n);UP(n[St],r,t)}function PN(n,e){let t=Yo(e,n),r=t[Se];NN(r,t);let i=t[hi];i!==null&&t[dd]===null&&(t[dd]=wg(i,t[ia])),Ng(r,t,t[ir])}function NN(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Ng(n,e,t){dg(e);try{let r=n.viewQuery;r!==null&&Rm(1,r,t);let i=n.template;i!==null&&tI(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ci]?.finishViewCreation(n),n.staticContentQueries&&aI(n,e),n.staticViewQueries&&Rm(2,n.viewQuery,t);let s=n.components;s!==null&&RN(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ve]&=-5,hg()}}function RN(n,e){for(let t=0;t<e.length;t++)PN(n,e[t])}function kN(n,e,t,r){let i=qe(null);try{let s=e.tView,u=n[ve]&4096?4096:16,h=zd(n,s,t,u,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),f=n[e.index];h[jo]=f;let m=n[ci];return m!==null&&(h[ci]=m.createEmbeddedView(s)),Ng(s,h,t),h}finally{qe(i)}}function gw(n,e){return!e||e.firstChild===null||Fx(n)}function ON(n,e,t,r=!0){let i=e[Se];if(GP(i,e,n,t),r){let a=Pm(t,n),u=e[St],h=Kx(u,n[Uo]);h!==null&&$P(i,n[or],u,e,h,a)}let s=e[dd];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function wd(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(Nr(s)),fi(s)&&FN(s,r);let a=t.type;if(a&8)wd(n,e,t.child,r);else if(a&32){let u=Ig(t,e),h;for(;h=u();)r.push(h)}else if(a&16){let u=Zx(e,t);if(Array.isArray(u))r.push(...u);else{let h=zo(e[ai]);wd(h[Se],h,u,r,!0)}}t=i?t.projectionNext:t.next}return r}function FN(n,e){for(let t=Cn;t<n.length;t++){let r=n[t],i=r[Se].firstChild;i!==null&&wd(r[Se],r,i,e)}n[Uo]!==n[hi]&&e.push(n[Uo])}var hI=[];function LN(n){return n[zn]??VN(n)}function VN(n){let e=hI.pop()??Object.create(jN);return e.lView=n,e}function BN(n){n.lView[zn]!==n&&(n.lView=null,hI.push(n))}var jN=it(Ke({},kc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Fd(n.lView)},consumerOnSignalRead(){this.lView[zn]=this}});function UN(n){let e=n[zn]??Object.create(zN);return e.lView=n,e}var zN=it(Ke({},kc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=zo(n.lView);for(;e&&!fI(e[Se]);)e=zo(e);e&&ax(e)},consumerOnSignalRead(){this.lView[zn]=this}});function fI(n){return n.type!==2}var HN=100;function pI(n,e=!0,t=0){let r=n[si],i=r.rendererFactory,s=!1;s||i.begin?.();try{$N(n,t)}catch(a){throw e&&lI(n,a),a}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function $N(n,e){let t=fx();try{nw(!0),km(n,e);let r=0;for(;Od(n);){if(r===HN)throw new Ae(103,!1);r++,km(n,1)}}finally{nw(t)}}function qN(n,e,t,r){let i=e[ve];if((i&256)===256)return;let s=!1,a=!1;!s&&e[si].inlineEffectRunner?.flush(),dg(e);let u=!0,h=null,f=null;s||(fI(n)?(f=LN(e),h=Sl(f)):nE()===null?(u=!1,f=UN(e),h=Sl(f)):e[zn]&&(Rp(e[zn]),e[zn]=null));try{sx(e),qM(n.bindingStartIndex),t!==null&&tI(n,e,t,2,r);let m=(i&3)===3;if(!s)if(m){let w=n.preOrderCheckHooks;w!==null&&nd(e,w,null)}else{let w=n.preOrderHooks;w!==null&&rd(e,w,0,null),Yp(e,0)}if(a||GN(e),mI(e,0),n.contentQueries!==null&&aI(n,e),!s)if(m){let w=n.contentCheckHooks;w!==null&&nd(e,w)}else{let w=n.contentHooks;w!==null&&rd(e,w,1),Yp(e,1)}sN(n,e);let v=n.components;v!==null&&_I(e,v,0);let E=n.viewQuery;if(E!==null&&Rm(2,E,r),!s)if(m){let w=n.viewCheckHooks;w!==null&&nd(e,w)}else{let w=n.viewHooks;w!==null&&rd(e,w,2),Yp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Qp]){for(let w of e[Qp])w();e[Qp]=null}s||(e[ve]&=-73)}catch(m){throw s||Fd(e),m}finally{f!==null&&(Pp(f,h),u&&BN(f)),hg()}}function mI(n,e){for(let t=Vx(n);t!==null;t=Bx(t))for(let r=Cn;r<t.length;r++){let i=t[r];gI(i,e)}}function GN(n){for(let e=Vx(n);e!==null;e=Bx(e)){if(!(e[ve]&pd.HasTransplantedViews))continue;let t=e[oa];for(let r=0;r<t.length;r++){let i=t[r];ax(i)}}}function WN(n,e,t){let r=Yo(e,n);gI(r,t)}function gI(n,e){ag(n)&&km(n,e)}function km(n,e){let r=n[Se],i=n[ve],s=n[zn],a=!!(e===0&&i&16);if(a||=!!(i&64&&e===0),a||=!!(i&1024),a||=!!(s?.dirty&&Np(s)),a||=!1,s&&(s.dirty=!1),n[ve]&=-9217,a)qN(r,n,r.template,n[ir]);else if(i&8192){mI(n,1);let u=r.components;u!==null&&_I(n,u,1)}}function _I(n,e,t){for(let r=0;r<e.length;r++)WN(n,e[r],t)}function Rg(n,e){let t=fx()?64:1088;for(n[si].changeDetectionScheduler?.notify(e);n;){n[ve]|=t;let r=zo(n);if(pm(n)&&!r)return n;n=r}return null}var Gc=class{get rootNodes(){let e=this._lView,t=e[Se];return wd(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ir]}set context(e){this._lView[ir]=e}get destroyed(){return(this._lView[ve]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[qt];if(fi(e)){let t=e[fd],r=t?t.indexOf(this):-1;r>-1&&(Mm(e,r),ud(t,r))}this._attachedToViewContainer=!1}Gx(this._lView[Se],this._lView)}onDestroy(e){cx(this._lView,e)}markForCheck(){Rg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ve]&=-129}reattach(){gm(this._lView),this._lView[ve]|=128}detectChanges(){this._lView[ve]|=1024,pI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=pm(this._lView),t=this._lView[jo];t!==null&&!e&&Dg(t,this._lView),$x(this._lView[Se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=e;let t=pm(this._lView),r=this._lView[jo];r!==null&&!t&&qx(r,this._lView),gm(this._lView)}},di=(()=>{class n{static{this.__NG_ELEMENT_ID__=QN}}return n})(),KN=di,ZN=class extends KN{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=kN(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Gc(i)}};function QN(){return $d(bn(),Xe())}function $d(n,e){return n.type&4?new ZN(e,n,pa(n,e)):null}var e5=new RegExp(`^(\\d+)*(${NP}|${PP})*(.*)`);var YN=()=>null;function _w(n,e){return YN(n,e)}var aa=class{},kg=new we("",{providedIn:"root",factory:()=>!1});var vI=new we(""),yI=new we(""),Om=class{},xd=class{};function JN(n){let e=Error(`No component factory found for ${Dn(n)}.`);return e[XN]=n,e}var XN="ngComponent";var Fm=class{resolveComponentFactory(e){throw JN(e)}},Wc=class{static{this.NULL=new Fm}},ca=class{},es=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>eR()}}return n})();function eR(){let n=Xe(),e=bn(),t=Yo(e.index,n);return(qi(t)?t:n)[St]}var tR=(()=>{class n{static{this.\u0275prov=Pe({token:n,providedIn:"root",factory:()=>null})}}return n})();function Id(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number")s=u;else if(s==1)i=$E(i,u);else if(s==2){let h=u,f=e[++a];r=$E(r,h+": "+f+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Lm=class extends Wc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=na(e);return new Dd(t,this.ngModule)}};function vw(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let s=Array.isArray(i),a=s?i[0]:i,u=s?i[1]:Gi.None;e?t.push({propName:a,templateName:r,isSignal:(u&Gi.SignalBased)!==0}):t.push({propName:a,templateName:r})}return t}function nR(n){let e=n.toLowerCase();return e==="svg"?AM:e==="math"?SM:null}var Dd=class extends xd{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=vw(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return vw(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=sM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=qe(null);try{i=i||this.ngModule;let a=i instanceof Mr?i:i?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let u=a?new vm(e,a):e,h=u.get(ca,null);if(h===null)throw new Ae(407,!1);let f=u.get(tR,null),m=u.get(aa,null),v={rendererFactory:h,sanitizer:f,inlineEffectRunner:null,changeDetectionScheduler:m},E=h.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",I=r?uN(E,r,this.componentDef.encapsulation,u):Hx(E,w,nR(w)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let P=null;I!==null&&(P=wg(I,u,!0));let D=Sg(0,null,null,1,0,null,null,null,null,null,null),A=zd(null,D,null,R,null,null,v,E,u,null,P);dg(A);let V,B,z=null;try{let U=this.componentDef,N,C=null;U.findHostDirectiveDefs?(N=[],C=new Map,U.findHostDirectiveDefs(U,N,C),N.push(U)):N=[U];let T=rR(A,I);z=iR(T,I,U,N,A,v,E),B=ox(D,Pr),I&&aR(E,U,I,r),t!==void 0&&cR(B,this.ngContentSelectors,t),V=sR(z,U,N,C,A,[uR]),Ng(D,A,null)}catch(U){throw z!==null&&Tm(z),Tm(A),U}finally{hg()}return new Vm(this.componentType,V,pa(B,A),A,B)}finally{qe(s)}}},Vm=class extends Om{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Gc(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;Pg(s[Se],s,i,e,t),this.previousInputValues.set(e,t);let a=Yo(this._tNode.index,s);Rg(a,1)}}get injector(){return new Bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function rR(n,e){let t=n[Se],r=Pr;return n[r]=e,Yc(t,r,2,"#host",null)}function iR(n,e,t,r,i,s,a){let u=i[Se];oR(r,n,e,a);let h=null;e!==null&&(h=wg(e,i[ia]));let f=s.rendererFactory.createRenderer(e,t),m=16;t.signals?m=4096:t.onPush&&(m=64);let v=zd(i,nI(t),null,m,i[n.index],n,s,f,null,null,h);return u.firstCreatePass&&Nm(u,n,r.length-1),Hd(i,v),i[n.index]=v}function oR(n,e,t,r){for(let i of n)e.mergedAttrs=Hc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Id(e,e.mergedAttrs,!0),t!==null&&Yx(r,t,e))}function sR(n,e,t,r,i,s){let a=bn(),u=i[Se],h=$n(a,i);iI(u,i,a,t,null,r);for(let m=0;m<t.length;m++){let v=a.directiveStart+m,E=qo(i,u,v,a);Ki(E,i)}oI(u,i,a),h&&Ki(h,i);let f=qo(i,u,a.directiveStart+a.componentOffset,a);if(n[ir]=i[ir]=f,s!==null)for(let m of s)m(f,e);return bg(u,a,i),f}function aR(n,e,t,r){if(r)lm(n,t,["ng-version","18.2.5"]);else{let{attrs:i,classes:s}=aM(e.selectors[0]);i&&lm(n,t,i),s&&s.length>0&&Qx(n,t,s.join(" "))}}function cR(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function uR(){let n=bn();Bd(Xe()[Se],n)}var Yi=(()=>{class n{static{this.__NG_ELEMENT_ID__=lR}}return n})();function lR(){let n=bn();return wI(n,Xe())}var dR=Yi,EI=class extends dR{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return pa(this._hostTNode,this._hostLView)}get injector(){return new Bo(this._hostTNode,this._hostLView)}get parentInjector(){let e=pg(this._hostTNode,this._hostLView);if(Ix(e)){let t=gd(e,this._hostLView),r=md(e),i=t[Se].data[r+8];return new Bo(i,t)}else return new Bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=yw(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Cn}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let a=_w(this._lContainer,e.ssrId),u=e.createEmbeddedViewImpl(t||{},s,a);return this.insertImpl(u,i,gw(this._hostTNode,a)),u}createComponent(e,t,r,i,s){let a=e&&!DM(e),u;if(a)u=t;else{let I=t||{};u=I.index,r=I.injector,i=I.projectableNodes,s=I.environmentInjector||I.ngModuleRef}let h=a?e:new Dd(na(e)),f=r||this.parentInjector;if(!s&&h.ngModule==null){let R=(a?f:this.parentInjector).get(Mr,null);R&&(s=R)}let m=na(h.componentType??{}),v=_w(this._lContainer,m?.id??null),E=v?.firstChild??null,w=h.create(f,i,E,s);return this.insertImpl(w.hostView,u,gw(this._hostTNode,v)),w}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(NM(i)){let u=this.indexOf(e);if(u!==-1)this.detach(u);else{let h=i[qt],f=new EI(h,h[or],h[qt]);f.detach(f.indexOf(e))}}let s=this._adjustIndex(t),a=this._lContainer;return ON(a,i,s,r),e.attachToViewContainerRef(),Vw(nm(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=yw(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Mm(this._lContainer,t);r&&(ud(nm(this._lContainer),t),Gx(r[Se],r))}detach(e){let t=this._adjustIndex(e,-1),r=Mm(this._lContainer,t);return r&&ud(nm(this._lContainer),t)!=null?new Gc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function yw(n){return n[fd]}function nm(n){return n[fd]||(n[fd]=[])}function wI(n,e){let t,r=e[n.index];return fi(r)?t=r:(t=sI(r,e,null,n),e[n.index]=t,Hd(e,t)),fR(t,e,n,r),new EI(t,n,e)}function hR(n,e){let t=n[St],r=t.createComment(""),i=$n(e,n),s=Kx(t,i);return Ed(t,s,r,YP(t,i),!1),r}var fR=gR,pR=()=>!1;function mR(n,e,t){return pR(n,e,t)}function gR(n,e,t,r){if(n[Uo])return;let i;t.type&8?i=Nr(r):i=hR(e,t),n[Uo]=i}var Bm=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},jm=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let a=t.getByIndex(s),u=this.queries[a.indexInDeclarationView];i.push(u.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Og(e,t).matches!==null&&this.queries[t].setDirty()}},Um=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=DR(e):this.predicate=e}},zm=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Hm=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,_R(t,s)),this.matchTNodeWithReadOption(e,t,id(t,e,s,!1,!1))}else r===di?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,id(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===sr||i===Yi||i===di&&t.type&4)this.addMatch(t.index,-2);else{let s=id(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function _R(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function vR(n,e){return n.type&11?pa(n,e):n.type&4?$d(n,e):null}function yR(n,e,t,r){return t===-1?vR(e,n):t===-2?ER(n,e,r):qo(n,n[Se],t,e)}function ER(n,e,t){if(t===sr)return pa(e,n);if(t===di)return $d(e,n);if(t===Yi)return wI(e,n)}function xI(n,e,t,r){let i=e[ci].queries[r];if(i.matches===null){let s=n.data,a=t.matches,u=[];for(let h=0;a!==null&&h<a.length;h+=2){let f=a[h];if(f<0)u.push(null);else{let m=s[f];u.push(yR(e,m,a[h+1],t.metadata.read))}}i.matches=u}return i.matches}function $m(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let a=xI(n,e,i,t);for(let u=0;u<s.length;u+=2){let h=s[u];if(h>0)r.push(a[u/2]);else{let f=s[u+1],m=e[-h];for(let v=Cn;v<m.length;v++){let E=m[v];E[jo]===E[qt]&&$m(E[Se],E,f,r)}if(m[oa]!==null){let v=m[oa];for(let E=0;E<v.length;E++){let w=v[E];$m(w[Se],w,f,r)}}}}}return r}function wR(n,e){return n[ci].queries[e].queryList}function xR(n,e,t){let r=new bm((t&4)===4);return hN(n,e,r,r.destroy),(e[ci]??=new jm).queries.push(new Bm(r))-1}function IR(n,e,t){let r=Gt();return r.firstCreatePass&&(CR(r,new Um(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),xR(r,Xe(),e)}function DR(n){return n.split(",").map(e=>e.trim())}function CR(n,e,t){n.queries===null&&(n.queries=new zm),n.queries.track(new Hm(e,t))}function Og(n,e){return n.queries.getByIndex(e)}function bR(n,e){let t=n[Se],r=Og(t,e);return r.crossesNgTemplate?$m(t,n,e,[]):xI(t,n,r,e)}var Ew=new Set;function ma(n){Ew.has(n)||(Ew.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Jc(n,e){ma("NgSignals");let t=fE(n),r=t[zi];return e?.equal&&(r.equal=e.equal),t.set=i=>kp(r,i),t.update=i=>pE(r,i),t.asReadonly=TR.bind(t),t}function TR(){let n=this[zi];if(n.readonlyFn===void 0){let e=()=>this();e[zi]=n,n.readonlyFn=e}return n.readonlyFn}function AR(n){return Object.getPrototypeOf(n.prototype).constructor}function kr(n){let e=AR(n.type),t=!0,r=[n];for(;e;){let i;if(Wi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ae(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let a=n;a.inputs=Jl(n.inputs),a.inputTransforms=Jl(n.inputTransforms),a.declaredInputs=Jl(n.declaredInputs),a.outputs=Jl(n.outputs);let u=i.hostBindings;u&&RR(n,u);let h=i.viewQuery,f=i.contentQueries;if(h&&PR(n,h),f&&NR(n,f),SR(n,i),CS(n.outputs,i.outputs),Wi(i)&&i.data.animation){let m=n.data;m.animation=(m.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let a=0;a<s.length;a++){let u=s[a];u&&u.ngInherit&&u(n),u===kr&&(t=!1)}}e=Object.getPrototypeOf(e)}MR(r)}function SR(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function MR(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Hc(i.hostAttrs,t=Hc(t,i.hostAttrs))}}function Jl(n){return n===ta?{}:n===Un?[]:n}function PR(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function NR(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function RR(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var ua=class{};var Cd=class extends ua{constructor(e){super(),this.componentFactoryResolver=new Lm(this),this.instance=null;let t=new $c([...e.providers,{provide:ua,useValue:this},{provide:Wc,useValue:this.componentFactoryResolver}],e.parent||ig(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function kR(n,e,t=null){return new Cd({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function II(n){return FR(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function OR(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function FR(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function LR(n,e,t){return n[e]=t}function Wo(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function VR(n,e,t,r){let i=Wo(n,e,t);return Wo(n,e+1,r)||i}function BR(n){return(n.flags&32)===32}function jR(n,e,t,r,i,s,a,u,h){let f=e.consts,m=Yc(e,n,4,a||null,u||null);Mg(e,t,m,sa(f,h)),Bd(e,m);let v=m.tView=Sg(2,m,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f,null);return e.queries!==null&&(e.queries.template(e,m),v.queries=e.queries.embeddedTView(m)),m}function UR(n,e,t,r,i,s,a,u,h,f){let m=t+Pr,v=e.firstCreatePass?jR(m,e,n,r,i,s,a,u,h):e.data[m];Jo(v,!1);let E=zR(e,n,v,t);Ld()&&jd(e,n,E,v),Ki(E,n);let w=sI(E,n,E,v);return n[m]=w,Hd(n,w),mR(w,v,n),kd(v)&&Tg(e,n,v),h!=null&&Ag(n,v,f),v}function sn(n,e,t,r,i,s,a,u){let h=Xe(),f=Gt(),m=sa(f.consts,s);return UR(h,f,n,e,t,r,i,m,a,u),sn}var zR=HR;function HR(n,e,t,r){return Vd(!0),e[St].createComment("")}var Vc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Vc||{}),$R=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Pe({token:n,providedIn:"root",factory:()=>new n})}}return n})(),ww=class n{constructor(){this.ngZone=Ce(wt),this.scheduler=Ce(aa),this.errorHandler=Ce(ui,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Vc.EarlyRead,Vc.Write,Vc.MixedReadWrite,Vc.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=Pe({token:n,providedIn:"root",factory:()=>new n})}};function Xc(n,e,t,r){let i=Xe(),s=ug();if(Wo(i,s,e)){let a=Gt(),u=fg();TN(u,i,n,e,t,r)}return Xc}function DI(n,e,t,r){return Wo(n,ug(),t)?e+jc(t)+r:Rr}function qR(n,e,t,r,i,s){let a=$M(),u=VR(n,a,t,i);return px(2),u?e+jc(t)+r+jc(i)+s:Rr}function Xl(n,e){return n<<17|e<<2}function Ko(n){return n>>17&32767}function GR(n){return(n&2)==2}function WR(n,e){return n&131071|e<<17}function qm(n){return n|2}function la(n){return(n&131068)>>2}function rm(n,e){return n&-131069|e<<2}function KR(n){return(n&1)===1}function Gm(n){return n|1}function ZR(n,e,t,r,i,s){let a=s?e.classBindings:e.styleBindings,u=Ko(a),h=la(a);n[r]=t;let f=!1,m;if(Array.isArray(t)){let v=t;m=v[1],(m===null||Qc(v,m)>0)&&(f=!0)}else m=t;if(i)if(h!==0){let E=Ko(n[u+1]);n[r+1]=Xl(E,u),E!==0&&(n[E+1]=rm(n[E+1],r)),n[u+1]=WR(n[u+1],r)}else n[r+1]=Xl(u,0),u!==0&&(n[u+1]=rm(n[u+1],r)),u=r;else n[r+1]=Xl(h,0),u===0?u=r:n[h+1]=rm(n[h+1],r),h=r;f&&(n[r+1]=qm(n[r+1])),xw(n,m,r,!0),xw(n,m,r,!1),QR(e,m,n,r,s),a=Xl(u,h),s?e.classBindings=a:e.styleBindings=a}function QR(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Qc(s,e)>=0&&(t[r+1]=Gm(t[r+1]))}function xw(n,e,t,r){let i=n[t+1],s=e===null,a=r?Ko(i):la(i),u=!1;for(;a!==0&&(u===!1||s);){let h=n[a],f=n[a+1];YR(h,e)&&(u=!0,n[a+1]=r?Gm(f):qm(f)),a=r?Ko(f):la(f)}u&&(n[t+1]=r?qm(i):Gm(i))}function YR(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Qc(n,e)>=0:!1}function ct(n,e,t){let r=Xe(),i=ug();if(Wo(r,i,e)){let s=Gt(),a=fg();rI(s,a,r,n,e,r[St],t,!1)}return ct}function Iw(n,e,t,r,i){let s=e.inputs,a=i?"class":"style";Pg(n,t,s[a],a,r)}function ga(n,e,t){return CI(n,e,t,!1),ga}function qd(n,e){return CI(n,e,null,!0),qd}function CI(n,e,t,r){let i=Xe(),s=Gt(),a=px(2);if(s.firstUpdatePass&&XR(s,n,a,r),e!==Rr&&Wo(i,a,e)){let u=s.data[Xo()];ik(s,u,i,i[St],n,i[a+1]=ok(e,t),r,a)}}function JR(n,e){return e>=n.expandoStartIndex}function XR(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[Xo()],a=JR(n,t);sk(s,r)&&e===null&&!a&&(e=!1),e=ek(i,s,e,r),ZR(i,s,e,t,a,r)}}function ek(n,e,t,r){let i=ZM(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=im(null,n,e,t,r),t=Kc(t,e.attrs,r),s=null);else{let a=e.directiveStylingLast;if(a===-1||n[a]!==i)if(t=im(i,n,e,t,r),s===null){let h=tk(n,e,r);h!==void 0&&Array.isArray(h)&&(h=im(null,n,e,h[1],r),h=Kc(h,e.attrs,r),nk(n,e,r,h))}else s=rk(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function tk(n,e,t){let r=t?e.classBindings:e.styleBindings;if(la(r)!==0)return n[Ko(r)]}function nk(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ko(i)]=r}function rk(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let a=n[s].hostAttrs;r=Kc(r,a,t)}return Kc(r,e.attrs,t)}function im(n,e,t,r,i){let s=null,a=t.directiveEnd,u=t.directiveStylingLast;for(u===-1?u=t.directiveStart:u++;u<a&&(s=e[u],r=Kc(r,s.hostAttrs,i),s!==n);)u++;return n!==null&&(t.directiveStylingLast=u),r}function Kc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];typeof a=="number"?i=a:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),WS(n,a,t?!0:e[++s]))}return n===void 0?null:n}function ik(n,e,t,r,i,s,a,u){if(!(e.type&3))return;let h=n.data,f=h[u+1],m=KR(f)?Dw(h,e,t,i,la(f),a):void 0;if(!bd(m)){bd(s)||GR(f)&&(s=Dw(h,null,t,i,u,a));let v=ix(Xo(),t);iN(r,a,v,i,s)}}function Dw(n,e,t,r,i,s){let a=e===null,u;for(;i>0;){let h=n[i],f=Array.isArray(h),m=f?h[1]:h,v=m===null,E=t[i+1];E===Rr&&(E=v?Un:void 0);let w=v?Kp(E,r):m===r?E:void 0;if(f&&!bd(w)&&(w=Kp(h,r)),bd(w)&&(u=w,a))return u;let I=n[i+1];i=a?Ko(I):la(I)}if(e!==null){let h=s?e.residualClasses:e.residualStyles;h!=null&&(u=Kp(h,r))}return u}function bd(n){return n!==void 0}function ok(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Dn(xg(n)))),n}function sk(n,e){return(n.flags&(e?8:16))!==0}function ak(n,e,t,r,i,s){let a=e.consts,u=sa(a,i),h=Yc(e,n,2,r,u);return Mg(e,t,h,sa(a,s)),h.attrs!==null&&Id(h,h.attrs,!1),h.mergedAttrs!==null&&Id(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function he(n,e,t,r){let i=Xe(),s=Gt(),a=Pr+n,u=i[St],h=s.firstCreatePass?ak(a,s,i,e,t,r):s.data[a],f=ck(s,i,h,u,e,n);i[a]=f;let m=kd(h);return Jo(h,!0),Yx(u,f,h),!BR(h)&&Ld()&&jd(s,i,f,h),OM()===0&&Ki(f,i),FM(),m&&(Tg(s,i,h),bg(s,h,i)),r!==null&&Ag(i,h),he}function xe(){let n=bn();cg()?hx():(n=n.parent,Jo(n,!1));let e=n;BM(e)&&jM(),LM();let t=Gt();return t.firstCreatePass&&(Bd(t,n),og(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&nP(e)&&Iw(t,e,Xe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&rP(e)&&Iw(t,e,Xe(),e.stylesWithoutHost,!1),xe}function gt(n,e,t,r){return he(n,e,t,r),xe(),gt}var ck=(n,e,t,r,i,s)=>(Vd(!0),Hx(r,i,JM()));function uk(n,e,t,r,i){let s=e.consts,a=sa(s,r),u=Yc(e,n,8,"ng-container",a);a!==null&&Id(u,a,!0);let h=sa(s,i);return Mg(e,t,u,h),e.queries!==null&&e.queries.elementStart(e,u),u}function ts(n,e,t){let r=Xe(),i=Gt(),s=n+Pr,a=i.firstCreatePass?uk(s,i,r,e,t):i.data[s];Jo(a,!0);let u=lk(i,r,a,n);return r[s]=u,Ld()&&jd(i,r,u,a),Ki(u,r),kd(a)&&(Tg(i,r,a),bg(i,a,r)),t!=null&&Ag(r,a),ts}function ns(){let n=bn(),e=Gt();return cg()?hx():(n=n.parent,Jo(n,!1)),e.firstCreatePass&&(Bd(e,n),og(n)&&e.queries.elementEnd(n)),ns}var lk=(n,e,t,r)=>(Vd(!0),zP(e[St],""));function pi(){return Xe()}var Td="en-US";var dk=Td;function hk(n){typeof n=="string"&&(dk=n.toLowerCase().replace(/_/g,"-"))}var fk=(n,e,t)=>{};function Ye(n,e,t,r){let i=Xe(),s=Gt(),a=bn();return mk(s,i,i[St],a,n,e,r),Ye}function pk(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let a=i[s];if(a===t&&i[s+1]===r){let u=e[hd],h=i[s+2];return u.length>h?u[h]:null}typeof a=="string"&&(s+=2)}return null}function mk(n,e,t,r,i,s,a){let u=kd(r),f=n.firstCreatePass&&uI(n),m=e[ir],v=cI(e),E=!0;if(r.type&3||a){let R=$n(r,e),P=a?a(R):R,D=v.length,A=a?B=>a(Nr(B[r.index])):r.index,V=null;if(!a&&u&&(V=pk(n,e,i,r.index)),V!==null){let B=V.__ngLastListenerFn__||V;B.__ngNextListenerFn__=s,V.__ngLastListenerFn__=s,E=!1}else{s=bw(r,e,m,s),fk(R,i,s);let B=t.listen(P,i,s);v.push(s,B),f&&f.push(i,A,D,D+1)}}else s=bw(r,e,m,s);let w=r.outputs,I;if(E&&w!==null&&(I=w[i])){let R=I.length;if(R)for(let P=0;P<R;P+=2){let D=I[P],A=I[P+1],z=e[D][A].subscribe(s),U=v.length;v.push(s,z),f&&f.push(i,r.index,U,-(U+1))}}}function Cw(n,e,t,r){let i=qe(null);try{return Tr(6,e,t),t(r)!==!1}catch(s){return lI(n,s),!1}finally{Tr(7,e,t),qe(i)}}function bw(n,e,t,r){return function i(s){if(s===Function)return r;let a=n.componentOffset>-1?Yo(n.index,e):e;Rg(a,5);let u=Cw(e,t,r,s),h=i.__ngNextListenerFn__;for(;h;)u=Cw(e,t,h,s)&&u,h=h.__ngNextListenerFn__;return u}}function Je(n=1){return YM(n)}function Gd(n,e,t){return bI(n,"",e,"",t),Gd}function bI(n,e,t,r,i){let s=Xe(),a=DI(s,e,t,r);if(a!==Rr){let u=Gt(),h=fg();rI(u,h,s,n,a,s[St],i,!1)}return bI}function Fg(n,e,t){IR(n,e,t)}function Lg(n){let e=Xe(),t=Gt(),r=mx();lg(r+1);let i=Og(t,r);if(n.dirty&&PM(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=bR(e,r);n.reset(s,DP),n.notifyOnChanges()}return!0}return!1}function Vg(){return wR(Xe(),mx())}function Bg(n){let e=zM();return MM(e,Pr+n)}function ut(n,e=""){let t=Xe(),r=Gt(),i=n+Pr,s=r.firstCreatePass?Yc(r,i,1,e,null):r.data[i],a=gk(r,t,s,e,n);t[i]=a,Ld()&&jd(r,t,a,s),Jo(s,!1)}var gk=(n,e,t,r,i)=>(Vd(!0),jP(e[St],r));function jg(n){return Tn("",n,""),jg}function Tn(n,e,t){let r=Xe(),i=DI(r,n,e,t);return i!==Rr&&dI(r,Xo(),i),Tn}function Ug(n,e,t,r,i){let s=Xe(),a=qR(s,n,e,t,r,i);return a!==Rr&&dI(s,Xo(),a),Ug}function _k(n,e,t){let r=Gt();if(r.firstCreatePass){let i=Wi(n);Wm(t,r.data,r.blueprint,i,!0),Wm(e,r.data,r.blueprint,i,!1)}}function Wm(n,e,t,r,i){if(n=nn(n),Array.isArray(n))for(let s=0;s<n.length;s++)Wm(n[s],e,t,r,i);else{let s=Gt(),a=Xe(),u=bn(),h=ra(n)?n:nn(n.provide),f=Qw(n),m=u.providerIndexes&1048575,v=u.directiveStart,E=u.providerIndexes>>20;if(ra(n)||!n.multi){let w=new $o(f,i,le),I=sm(h,e,i?m:m+E,v);I===-1?(Em(_d(u,a),s,h),om(s,n,e.length),e.push(h),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(w),a.push(w)):(t[I]=w,a[I]=w)}else{let w=sm(h,e,m+E,v),I=sm(h,e,m,m+E),R=w>=0&&t[w],P=I>=0&&t[I];if(i&&!P||!i&&!R){Em(_d(u,a),s,h);let D=Ek(i?yk:vk,t.length,i,r,f);!i&&P&&(t[I].providerFactory=D),om(s,n,e.length,0),e.push(h),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(D),a.push(D)}else{let D=TI(t[i?I:w],f,!i&&r);om(s,n,w>-1?w:I,D)}!i&&r&&P&&t[I].componentProviders++}}}function om(n,e,t,r){let i=ra(e),s=gM(e);if(i||s){let h=(s?nn(e.useClass):e).prototype.ngOnDestroy;if(h){let f=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let m=f.indexOf(t);m===-1?f.push(t,[r,h]):f[m+1].push(r,h)}else f.push(t,h)}}}function TI(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function sm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function vk(n,e,t,r){return Km(this.multi,[])}function yk(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=qo(t,t[Se],this.providerFactory.index,r);s=u.slice(0,a),Km(i,s);for(let h=a;h<u.length;h++)s.push(u[h])}else s=[],Km(i,s);return s}function Km(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Ek(n,e,t,r,i){let s=new $o(n,t,le);return s.multi=[],s.index=e,s.componentProviders=0,TI(s,i,r&&!t),s}function _a(n,e=[]){return t=>{t.providersResolver=(r,i)=>_k(r,i?i(n):n,e)}}var wk=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Ww(!1,t.type),i=r.length>0?kR([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Pe({token:n,providedIn:"environment",factory:()=>new n(be(Mr))})}}return n})();function qn(n){ma("NgStandalone"),n.getStandaloneInjector=e=>e.get(wk).getOrCreateStandaloneInjector(n)}function zg(n,e,t,r){return Ik(Xe(),HM(),n,e,t,r)}function xk(n,e){let t=n[e];return t===Rr?void 0:t}function Ik(n,e,t,r,i,s){let a=e+t;return Wo(n,a,i)?LR(n,a+1,s?r.call(s,i):r(i)):xk(n,a+1)}function Hg(n,e){return $d(n,e)}var AI=new we("");function eu(n){return!!n&&typeof n.then=="function"}function SI(n){return!!n&&typeof n.subscribe=="function"}var Dk=new we(""),MI=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=Ce(Dk,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=i();if(eu(s))t.push(s);else if(SI(s)){let a=new Promise((u,h)=>{s.subscribe({complete:u,error:h})});t.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),PI=new we("");function Ck(){hE(()=>{throw new Ae(600,!1)})}function bk(n){return n.isBoundToModule}var Tk=10;function Ak(n,e,t){try{let r=t();return eu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var va=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ce(xP),this.afterRenderManager=Ce($R),this.zonelessEnabled=Ce(kg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new br,this.afterTick=new br,this.componentTypes=[],this.components=[],this.isStable=Ce(fa).hasPendingTasks.pipe(mn(t=>!t)),this._injector=Ce(Mr)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof xd;if(!this._injector.get(MI).done){let E=!i&&lM(t),w=!1;throw new Ae(405,w)}let a;i?a=t:a=this._injector.get(Wc).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let u=bk(a)?void 0:this._injector.get(ua),h=r||a.selector,f=a.create(Go.NULL,[],h,u),m=f.location.nativeElement,v=f.injector.get(AI,null);return v?.registerApplication(m),f.onDestroy(()=>{this.detachView(f.hostView),od(this.components,f),v?.unregisterApplication(m)}),this._loadComponent(f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Ae(101,!1);let t=qe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,qe(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(ca,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<Tk;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)Sk(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Od(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;od(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(PI,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>od(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ae(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function od(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Sk(n,e,t,r){if(!t&&!Od(n))return;pI(n,e,t&&!r?0:1)}var Mk=(()=>{class n{constructor(){this.zone=Ce(wt),this.changeDetectionScheduler=Ce(aa),this.applicationRef=Ce(va)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Pk=new we("",{factory:()=>!1});function NI({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new wt(it(Ke({},kI()),{scheduleInRootZone:t})),[{provide:wt,useFactory:n},{provide:zc,multi:!0,useFactory:()=>{let r=Ce(Mk,{optional:!0});return()=>r.initialize()}},{provide:zc,multi:!0,useFactory:()=>{let r=Ce(Nk);return()=>{r.initialize()}}},e===!0?{provide:vI,useValue:!0}:[],{provide:yI,useValue:t??Nx}]}function RI(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=NI({ngZoneFactory:()=>{let i=kI(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&ma("NgZone_CoalesceEvent"),new wt(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Pd([{provide:Pk,useValue:!0},{provide:kg,useValue:!1},r])}function kI(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Nk=(()=>{class n{constructor(){this.subscription=new tn,this.initialized=!1,this.zone=Ce(wt),this.pendingTasks=Ce(fa)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{wt.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{wt.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Rk=(()=>{class n{constructor(){this.appRef=Ce(va),this.taskService=Ce(fa),this.ngZone=Ce(wt),this.zonelessEnabled=Ce(kg),this.disableScheduling=Ce(vI,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new tn,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yd):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Ce(yI,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Cm||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?cw:kx;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,cw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kk(){return typeof $localize<"u"&&$localize.locale||Td}var $g=new we("",{providedIn:"root",factory:()=>Ce($g,Le.Optional|Le.SkipSelf)||kk()});var OI=new we("");function ed(n){return!!n.platformInjector}function Ok(n){let e=ed(n)?n.r3Injector:n.moduleRef.injector,t=e.get(wt);return t.run(()=>{ed(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(ui,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),ed(n)){let s=()=>e.destroy(),a=n.platformInjector.get(OI);a.add(s),e.onDestroy(()=>{i.unsubscribe(),a.delete(s)})}else n.moduleRef.onDestroy(()=>{od(n.allPlatformModules,n.moduleRef),i.unsubscribe()});return Ak(r,t,()=>{let s=e.get(MI);return s.runInitializers(),s.donePromise.then(()=>{let a=e.get($g,Td);if(hk(a||Td),ed(n)){let u=e.get(va);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return Fk(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function Fk(n,e){let t=n.injector.get(va);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new Ae(-403,!1);e.push(n)}var sd=null;function Lk(n=[],e){return Go.create({name:e,providers:[{provide:Nd,useValue:"platform"},{provide:OI,useValue:new Set([()=>sd=null])},...n]})}function Vk(n=[]){if(sd)return sd;let e=Lk(n);return sd=e,Ck(),Bk(e),e}function Bk(n){n.get(yg,null)?.forEach(t=>t())}var Zm=class{constructor(){}supports(e){return II(e)}create(e){return new Qm(e)}},jk=(n,e)=>e,Qm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||jk}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let a=!r||t&&t.currentIndex<Tw(r,i,s)?t:r,u=Tw(a,i,s),h=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(t=t._next,a.previousIndex==null)i++;else{s||(s=[]);let f=u-i,m=h-i;if(f!=m){for(let E=0;E<f;E++){let w=E<s.length?s[E]:s[E]=0,I=w+E;m<=I&&I<f&&(s[E]=w+1)}let v=a.previousIndex;s[v]=m-f}}u!==h&&e(a,u,h)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!II(e))throw new Ae(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,a;if(Array.isArray(e)){this.length=e.length;for(let u=0;u<this.length;u++)s=e[u],a=this._trackByFn(u,s),t===null||!Object.is(t.trackById,a)?(t=this._mismatch(t,s,a,u),r=!0):(r&&(t=this._verifyReinsertion(t,s,a,u)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,OR(e,u=>{a=this._trackByFn(i,u),t===null||!Object.is(t.trackById,a)?(t=this._mismatch(t,u,a,i),r=!0):(r&&(t=this._verifyReinsertion(t,u,a,i)),Object.is(t.item,u)||this._addIdentityChange(t,u)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Ym(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ad),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ad),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ym=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Jm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Ad=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Jm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Tw(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function Aw(){return new qg([new Zm])}var qg=(()=>{class n{static{this.\u0275prov=Pe({token:n,providedIn:"root",factory:Aw})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Aw()),deps:[[n,new HS,new Lw]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new Ae(901,!1)}}return n})();function FI(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=Vk(r),s=[NI({}),{provide:aa,useExisting:Rk},...t||[]],a=new Cd({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return Ok({r3Injector:a.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var LI=new we("");function Gg(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function tu(n,e){ma("NgSignals");let t=uE(n);return e?.equal&&(t[zi].equal=e.equal),t}function mi(n){let e=qe(null);try{return n()}finally{qe(e)}}var HI=null;function Ea(){return HI}function $I(n){HI??=n}var Wd=class{};var ar=new we("");function Zd(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Wg=/\s+/,VI=[],qI=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=VI,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Wg):VI}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Wg):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Wg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(le(sr),le(es))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var Kg=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},wa=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,a)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Kg(i.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(s===null?void 0:s);else if(s!==null){let u=r.get(s);r.move(u,a),BI(u,i)}});for(let i=0,s=r.length;i<s;i++){let u=r.get(i).context;u.index=i,u.count=s,u.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);BI(s,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(le(Yi),le(di),le(qg))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function BI(n,e){n.context.$implicit=e.item}var Qd=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Zg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){jI("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){jI("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(le(Yi),le(di))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Zg=class{constructor(){this.$implicit=null,this.ngIf=null}};function jI(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Dn(e)}'.`)}var Kd=class{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},Yd=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let r=t===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let r of this._defaultViews)r.enforceState(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Mt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return n})(),GI=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Kd(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(r){return new(r||n)(le(Yi),le(di),le(Yd,9))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return n})(),WI=(()=>{class n{constructor(t,r,i){i._addDefault(new Kd(t,r))}static{this.\u0275fac=function(r){return new(r||n)(le(Yi),le(di),le(Yd,9))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return n})();var cr=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qo({type:n})}static{this.\u0275inj=Zo({})}}return n})(),KI="browser",zk="server";function Jd(n){return n===zk}var ya=class{};var iu=class{},ou=class{},ur=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=i.toLowerCase(),a=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let a=this.headers.get(t);if(!a)return;a=a.filter(u=>s.indexOf(u)===-1),a.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Yg=class{encodeKey(e){return ZI(e)}encodeValue(e){return ZI(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Hk(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[a,u]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],h=t.get(a)||[];h.push(u),t.set(a,h)}),t}var $k=/%(\d[a-f0-9])/gi,qk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ZI(n){return encodeURIComponent(n).replace($k,(e,t)=>qk[t]??e)}function Xd(n){return`${n}`}var Xi=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Yg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Hk(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Xd):[Xd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Xd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Xd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Jg=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Gk(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function QI(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function YI(n){return typeof Blob<"u"&&n instanceof Blob}function JI(n){return typeof FormData<"u"&&n instanceof FormData}function Wk(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var ru=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(Gk(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new ur,this.context??=new Jg,!this.params)this.params=new Xi,this.urlWithParams=t;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=t;else{let u=t.indexOf("?"),h=u===-1?"?":u<t.length-1?"&":"";this.urlWithParams=t+h+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||QI(this.body)||YI(this.body)||JI(this.body)||Wk(this.body)?this.body:this.body instanceof Xi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||JI(this.body)?null:YI(this.body)?this.body.type||null:QI(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Xi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,u=e.withCredentials??this.withCredentials,h=e.reportProgress??this.reportProgress,f=e.headers||this.headers,m=e.params||this.params,v=e.context??this.context;return e.setHeaders!==void 0&&(f=Object.keys(e.setHeaders).reduce((E,w)=>E.set(w,e.setHeaders[w]),f)),e.setParams&&(m=Object.keys(e.setParams).reduce((E,w)=>E.set(w,e.setParams[w]),m)),new n(t,r,a,{params:m,headers:f,context:v,reportProgress:h,responseType:i,withCredentials:u,transferCache:s})}},eo=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(eo||{}),su=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new ur,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},eh=class n extends su{constructor(e={}){super(e),this.type=eo.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},au=class n extends su{constructor(e={}){super(e),this.type=eo.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ji=class extends su{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},nD=200,Kk=204;function Qg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var cu=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof ru)s=t;else{let h;i.headers instanceof ur?h=i.headers:h=new ur(i.headers);let f;i.params&&(i.params instanceof Xi?f=i.params:f=new Xi({fromObject:i.params})),s=new ru(t,r,i.body!==void 0?i.body:null,{headers:h,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let a=Ks(s).pipe(qp(h=>this.handler.handle(h)));if(t instanceof ru||i.observe==="events")return a;let u=a.pipe($p(h=>h instanceof au));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(mn(h=>{if(h.body!==null&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return u.pipe(mn(h=>{if(h.body!==null&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return u.pipe(mn(h=>{if(h.body!==null&&typeof h.body!="string")throw new Error("Response is not a string.");return h.body}));case"json":default:return u.pipe(mn(h=>h.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Xi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Qg(i,r))}post(t,r,i={}){return this.request("POST",t,Qg(i,r))}put(t,r,i={}){return this.request("PUT",t,Qg(i,r))}static{this.\u0275fac=function(r){return new(r||n)(be(iu))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})(),Zk=/^\)\]\}',?\n/,Qk="X-Request-URL";function XI(n){if(n.url)return n.url;let e=Qk.toLocaleLowerCase();return n.headers.get(e)}var Xg=(()=>{class n{constructor(){this.fetchImpl=Ce(e0,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=Ce(wt)}handle(t){return new mt(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(t0,s=>r.error(new Ji({error:s}))),()=>i.abort()})}doRequest(t,r,i){return j(this,null,function*(){let s=this.createRequestInit(t),a;try{let w=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,Ke({signal:r},s)));Yk(w),i.next({type:eo.Sent}),a=yield w}catch(w){i.error(new Ji({error:w,status:w.status??0,statusText:w.statusText,url:t.urlWithParams,headers:w.headers}));return}let u=new ur(a.headers),h=a.statusText,f=XI(a)??t.urlWithParams,m=a.status,v=null;if(t.reportProgress&&i.next(new eh({headers:u,status:m,statusText:h,url:f})),a.body){let w=a.headers.get("content-length"),I=[],R=a.body.getReader(),P=0,D,A,V=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>j(this,null,function*(){for(;;){let{done:z,value:U}=yield R.read();if(z)break;if(I.push(U),P+=U.length,t.reportProgress){A=t.responseType==="text"?(A??"")+(D??=new TextDecoder).decode(U,{stream:!0}):void 0;let N=()=>i.next({type:eo.DownloadProgress,total:w?+w:void 0,loaded:P,partialText:A});V?V.run(N):N()}}}));let B=this.concatChunks(I,P);try{let z=a.headers.get("Content-Type")??"";v=this.parseBody(t,B,z)}catch(z){i.error(new Ji({error:z,headers:new ur(a.headers),status:a.status,statusText:a.statusText,url:XI(a)??t.urlWithParams}));return}}m===0&&(m=v?nD:0),m>=200&&m<300?(i.next(new au({body:v,headers:u,status:m,statusText:h,url:f})),i.complete()):i.error(new Ji({error:v,headers:u,status:m,statusText:h,url:f}))})}parseBody(t,r,i){switch(t.responseType){case"json":let s=new TextDecoder().decode(r).replace(Zk,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((s,a)=>r[s]=a.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let s=t.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),s=0;for(let a of t)i.set(a,s),s+=a.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})(),e0=class{};function t0(){}function Yk(n){n.then(t0,t0)}function Jk(n,e){return e(n)}function Xk(n,e,t){return(r,i)=>Yw(t,()=>e(r,s=>n(s,i)))}var rD=new we(""),eO=new we(""),tO=new we("",{providedIn:"root",factory:()=>!0});var eD=(()=>{class n extends iu{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=Ce(fa),this.contributeToStability=Ce(tO)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(rD),...this.injector.get(eO,[])]));this.chain=r.reduceRight((i,s)=>Xk(i,s,this.injector),Jk)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Gp(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(be(ou),be(Mr))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();var nO=/^\)\]\}',?\n/;function rO(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var tD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new Ae(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Vo(r.\u0275loadImpl()):Ks(null)).pipe(Wp(()=>new mt(s=>{let a=r.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((R,P)=>a.setRequestHeader(R,P.join(","))),t.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let R=t.detectContentTypeHeader();R!==null&&a.setRequestHeader("Content-Type",R)}if(t.responseType){let R=t.responseType.toLowerCase();a.responseType=R!=="json"?R:"text"}let u=t.serializeBody(),h=null,f=()=>{if(h!==null)return h;let R=a.statusText||"OK",P=new ur(a.getAllResponseHeaders()),D=rO(a)||t.url;return h=new eh({headers:P,status:a.status,statusText:R,url:D}),h},m=()=>{let{headers:R,status:P,statusText:D,url:A}=f(),V=null;P!==Kk&&(V=typeof a.response>"u"?a.responseText:a.response),P===0&&(P=V?nD:0);let B=P>=200&&P<300;if(t.responseType==="json"&&typeof V=="string"){let z=V;V=V.replace(nO,"");try{V=V!==""?JSON.parse(V):null}catch(U){V=z,B&&(B=!1,V={error:U,text:V})}}B?(s.next(new au({body:V,headers:R,status:P,statusText:D,url:A||void 0})),s.complete()):s.error(new Ji({error:V,headers:R,status:P,statusText:D,url:A||void 0}))},v=R=>{let{url:P}=f(),D=new Ji({error:R,status:a.status||0,statusText:a.statusText||"Unknown Error",url:P||void 0});s.error(D)},E=!1,w=R=>{E||(s.next(f()),E=!0);let P={type:eo.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(P.total=R.total),t.responseType==="text"&&a.responseText&&(P.partialText=a.responseText),s.next(P)},I=R=>{let P={type:eo.UploadProgress,loaded:R.loaded};R.lengthComputable&&(P.total=R.total),s.next(P)};return a.addEventListener("load",m),a.addEventListener("error",v),a.addEventListener("timeout",v),a.addEventListener("abort",v),t.reportProgress&&(a.addEventListener("progress",w),u!==null&&a.upload&&a.upload.addEventListener("progress",I)),a.send(u),s.next({type:eo.Sent}),()=>{a.removeEventListener("error",v),a.removeEventListener("abort",v),a.removeEventListener("load",m),a.removeEventListener("timeout",v),t.reportProgress&&(a.removeEventListener("progress",w),u!==null&&a.upload&&a.upload.removeEventListener("progress",I)),a.readyState!==a.DONE&&a.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(be(ya))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})(),iD=new we(""),iO="XSRF-TOKEN",oO=new we("",{providedIn:"root",factory:()=>iO}),sO="X-XSRF-TOKEN",aO=new we("",{providedIn:"root",factory:()=>sO}),th=class{},cO=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Zd(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(be(ar),be(Qi),be(oO))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();function uO(n,e){let t=n.url.toLowerCase();if(!Ce(iD)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=Ce(th).getToken(),i=Ce(aO);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var oD=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(oD||{});function lO(n,e){return{\u0275kind:n,\u0275providers:e}}function sD(...n){let e=[cu,tD,eD,{provide:iu,useExisting:eD},{provide:ou,useFactory:()=>Ce(Xg,{optional:!0})??Ce(tD)},{provide:rD,useValue:uO,multi:!0},{provide:iD,useValue:!0},{provide:th,useClass:cO}];for(let t of n)e.push(...t.\u0275providers);return Pd(e)}function aD(){return lO(oD.Fetch,[Xg,{provide:ou,useExisting:Xg}])}var i0=class extends Wd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},o0=class n extends i0{static makeCurrent(){$I(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=hO();return t==null?null:fO(t)}resetBaseElement(){uu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Zd(document.cookie,e)}},uu=null;function hO(){return uu=uu||document.querySelector("base"),uu?uu.getAttribute("href"):null}function fO(n){return new URL(n,document.baseURI).pathname}var pO=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})(),nh=new we(""),hD=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new Ae(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(be(nh),be(wt))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})(),lu=class{constructor(e){this._doc=e}},n0="ng-app-id",fD=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Jd(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${n0}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(n0),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(n0,this.appId),t.appendChild(a),a}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(be(ar),be(vg),be(Eg,8),be(Qi))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})(),r0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},a0=/%COMP%/g,pD="%COMP%",mO=`_nghost-${pD}`,gO=`_ngcontent-${pD}`,_O=!0,vO=new we("",{providedIn:"root",factory:()=>_O});function yO(n){return gO.replace(a0,n)}function EO(n){return mO.replace(a0,n)}function mD(n,e){return e.map(t=>t.replace(a0,n))}var uD=(()=>{class n{constructor(t,r,i,s,a,u,h,f=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=h,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Jd(u),this.defaultRenderer=new du(t,a,h,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Sr.ShadowDom&&(r=it(Ke({},r),{encapsulation:Sr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof rh?i.applyToHost(t):i instanceof hu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let a=this.doc,u=this.ngZone,h=this.eventManager,f=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,v=this.platformIsServer;switch(r.encapsulation){case Sr.Emulated:s=new rh(h,f,r,this.appId,m,a,u,v);break;case Sr.ShadowDom:return new s0(h,f,t,r,a,u,this.nonce,v);default:s=new hu(h,f,r,m,a,u,v);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(be(hD),be(fD),be(vg),be(vO),be(ar),be(Qi),be(wt),be(Eg))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})(),du=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(r0[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(lD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(lD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Ae(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=r0[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=r0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(li.DashCase|li.Important)?e.style.setProperty(t,r,i&li.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&li.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Ea().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function lD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var s0=class extends du{constructor(e,t,r,i,s,a,u,h){super(e,s,a,h),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=mD(i.id,i.styles);for(let m of f){let v=document.createElement("style");u&&v.setAttribute("nonce",u),v.textContent=m,this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},hu=class extends du{constructor(e,t,r,i,s,a,u,h){super(e,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=h?mD(h,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},rh=class extends hu{constructor(e,t,r,i,s,a,u,h){let f=i+"-"+r.id;super(e,t,r,s,a,u,h,f),this.contentAttr=yO(f),this.hostAttr=EO(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},wO=(()=>{class n extends lu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(be(ar))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})(),xO=(()=>{class n extends lu{constructor(t){super(t),this.delegate=Ce(LI,{optional:!0})}supports(t){return this.delegate?this.delegate.supports(t):!1}addEventListener(t,r,i){return this.delegate.addEventListener(t,r,i)}removeEventListener(t,r,i){return this.delegate.removeEventListener(t,r,i)}static{this.\u0275fac=function(r){return new(r||n)(be(ar))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})(),dD=["alt","control","meta","shift"],IO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DO={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},CO=(()=>{class n extends lu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ea().onAndCancel(t,s.domEventName,a))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),a="",u=r.indexOf("code");if(u>-1&&(r.splice(u,1),a="code."),dD.forEach(f=>{let m=r.indexOf(f);m>-1&&(r.splice(m,1),a+=f+".")}),a+=s,r.length!=0||s.length===0)return null;let h={};return h.domEventName=i,h.fullKey=a,h}static matchEventFullKeyCode(t,r){let i=IO[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),dD.forEach(a=>{if(a!==i){let u=DO[a];u(t)&&(s+=a+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(be(ar))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();function gD(n,e){return FI(Ke({rootComponent:n},bO(e)))}function bO(n){return{appProviders:[...PO,...n?.providers??[]],platformProviders:MO}}function TO(){o0.makeCurrent()}function AO(){return new ui}function SO(){return Ux(document),document}var MO=[{provide:Qi,useValue:KI},{provide:yg,useValue:TO,multi:!0},{provide:ar,useFactory:SO,deps:[]}];var PO=[{provide:Nd,useValue:"root"},{provide:ui,useFactory:AO,deps:[]},{provide:nh,useClass:wO,multi:!0,deps:[ar,wt,Qi]},{provide:nh,useClass:CO,multi:!0,deps:[ar]},{provide:nh,useClass:xO,multi:!0},uD,fD,hD,{provide:ca,useExisting:uD},{provide:ya,useClass:pO,deps:[]},[]];var Qt=Tp(c0());var yD=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},NO=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],a=n[t++],u=n[t++],h=((i&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{let s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},ED={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],a=i+1<n.length,u=a?n[i+1]:0,h=i+2<n.length,f=h?n[i+2]:0,m=s>>2,v=(s&3)<<4|u>>4,E=(u&15)<<2|f>>6,w=f&63;h||(w=64,a||(E=64)),r.push(t[m],t[v],t[E],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(yD(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):NO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;let f=i<n.length?t[n.charAt(i)]:64;++i;let v=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||f==null||v==null)throw new l0;let E=s<<2|u>>4;if(r.push(E),f!==64){let w=u<<4&240|f>>2;if(r.push(w),v!==64){let I=f<<6&192|v;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},l0=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},RO=function(n){let e=yD(n);return ED.encodeByteArray(e,!0)},fu=function(n){return RO(n).replace(/\./g,"")},h0=function(n){try{return ED.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var OO=()=>kO().__FIREBASE_DEFAULTS__,FO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},LO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&h0(n[1]);return e&&JSON.parse(e)},sh=()=>{try{return OO()||FO()||LO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},f0=n=>{var e,t;return(t=(e=sh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},wD=n=>{let e=f0(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},p0=()=>{var n;return(n=sh())===null||n===void 0?void 0:n.config},m0=n=>{var e;return(e=sh())===null||e===void 0?void 0:e[`_${n}`]};var oh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function xD(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fu(JSON.stringify(t)),fu(JSON.stringify(a)),""].join(".")}function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ID(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function VO(){var n;let e=(n=sh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CD(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function bD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TD(){let n=Vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function AD(){return!VO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g0(){try{return typeof indexedDB=="object"}catch{return!1}}function SD(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var BO="FirebaseError",An=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=BO,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gi.prototype.create)}},gi=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?jO(s,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new An(i,u,r)}};function jO(n,e){return n.replace(UO,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var UO=/\{\$([^}]+)}/g;function MD(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function rs(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],a=e[i];if(vD(s)&&vD(a)){if(!rs(s,a))return!1}else if(s!==a)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function vD(n){return n!==null&&typeof n=="object"}function pu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function PD(n,e){let t=new d0(n,e);return t.subscribe.bind(t)}var d0=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");zO(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=u0),i.error===void 0&&(i.error=u0),i.complete===void 0&&(i.complete=u0);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function zO(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function u0(){}var vj=4*60*60*1e3;function Sn(n){return n&&n._delegate?n._delegate:n}var Gn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var is="[DEFAULT]";var _0=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new oh;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($O(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return j(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,a]of this.instancesDeferred.entries()){let u=this.normalizeInstanceIdentifier(s);r===u&&a.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function HO(n){return n===is?void 0:n}function $O(n){return n.instantiationMode==="EAGER"}var ah=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new _0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var qO=[],Be=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Be||{}),GO={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},WO=Be.INFO,KO={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},ZO=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=KO[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},to=class{constructor(e){this.name=e,this._logLevel=WO,this._logHandler=ZO,this._userLogHandler=null,qO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}};var QO=(n,e)=>e.some(t=>n instanceof t),ND,RD;function YO(){return ND||(ND=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JO(){return RD||(RD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var kD=new WeakMap,y0=new WeakMap,OD=new WeakMap,v0=new WeakMap,w0=new WeakMap;function XO(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(Or(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&kD.set(t,n)}).catch(()=>{}),w0.set(e,n),e}function eF(n){if(y0.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});y0.set(n,e)}var E0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return y0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||OD.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Or(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function FD(n){E0=n(E0)}function tF(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(ch(this),e,...t);return OD.set(r,e.sort?e.sort():[e]),Or(r)}:JO().includes(n)?function(...e){return n.apply(ch(this),e),Or(kD.get(this))}:function(...e){return Or(n.apply(ch(this),e))}}function nF(n){return typeof n=="function"?tF(n):(n instanceof IDBTransaction&&eF(n),QO(n,YO())?new Proxy(n,E0):n)}function Or(n){if(n instanceof IDBRequest)return XO(n);if(v0.has(n))return v0.get(n);let e=nF(n);return e!==n&&(v0.set(n,e),w0.set(e,n)),e}var ch=n=>w0.get(n);function VD(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let a=indexedDB.open(n,e),u=Or(a);return r&&a.addEventListener("upgradeneeded",h=>{r(Or(a.result),h.oldVersion,h.newVersion,Or(a.transaction),h)}),t&&a.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{s&&h.addEventListener("close",()=>s()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}var rF=["get","getKey","getAll","getAllKeys","count"],iF=["put","add","delete","clear"],x0=new Map;function LD(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(x0.get(e))return x0.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=iF.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rF.includes(t)))return;let s=function(a,...u){return j(this,null,function*(){let h=this.transaction(a,i?"readwrite":"readonly"),f=h.store;return r&&(f=f.index(u.shift())),(yield Promise.all([f[t](...u),i&&h.done]))[0]})};return x0.set(e,s),s}FD(n=>it(Ke({},n),{get:(e,t,r)=>LD(e,t)||n.get(e,t,r),has:(e,t)=>!!LD(e,t)||n.has(e,t)}));var D0=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(oF(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function oF(n){let e=n.getComponent();return e?.type==="VERSION"}var C0="@firebase/app",BD="0.10.11";var _i=new to("@firebase/app"),sF="@firebase/app-compat",aF="@firebase/analytics-compat",cF="@firebase/analytics",uF="@firebase/app-check-compat",lF="@firebase/app-check",dF="@firebase/auth",hF="@firebase/auth-compat",fF="@firebase/database",pF="@firebase/database-compat",mF="@firebase/functions",gF="@firebase/functions-compat",_F="@firebase/installations",vF="@firebase/installations-compat",yF="@firebase/messaging",EF="@firebase/messaging-compat",wF="@firebase/performance",xF="@firebase/performance-compat",IF="@firebase/remote-config",DF="@firebase/remote-config-compat",CF="@firebase/storage",bF="@firebase/storage-compat",TF="@firebase/firestore",AF="@firebase/vertexai-preview",SF="@firebase/firestore-compat",MF="firebase",PF="10.13.2";var b0="[DEFAULT]",NF={[C0]:"fire-core",[sF]:"fire-core-compat",[cF]:"fire-analytics",[aF]:"fire-analytics-compat",[lF]:"fire-app-check",[uF]:"fire-app-check-compat",[dF]:"fire-auth",[hF]:"fire-auth-compat",[fF]:"fire-rtdb",[pF]:"fire-rtdb-compat",[mF]:"fire-fn",[gF]:"fire-fn-compat",[_F]:"fire-iid",[vF]:"fire-iid-compat",[yF]:"fire-fcm",[EF]:"fire-fcm-compat",[wF]:"fire-perf",[xF]:"fire-perf-compat",[IF]:"fire-rc",[DF]:"fire-rc-compat",[CF]:"fire-gcs",[bF]:"fire-gcs-compat",[TF]:"fire-fst",[SF]:"fire-fst-compat",[AF]:"fire-vertex","fire-js":"fire-js",[MF]:"fire-js-all"};var uh=new Map,RF=new Map,T0=new Map;function jD(n,e){try{n.container.addComponent(e)}catch(t){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ro(n){let e=n.name;if(T0.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;T0.set(e,n);for(let t of uh.values())jD(t,n);for(let t of RF.values())jD(t,n);return!0}function gu(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Fr(n){return n.settings!==void 0}var kF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},no=new gi("app","Firebase",kF);var A0=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw no.create("app-deleted",{appName:this._name})}};var io=PF;function P0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:b0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw no.create("bad-app-name",{appName:String(i)});if(t||(t=p0()),!t)throw no.create("no-options");let s=uh.get(i);if(s){if(rs(t,s.options)&&rs(r,s.config))return s;throw no.create("duplicate-app",{appName:i})}let a=new ah(i);for(let h of T0.values())a.addComponent(h);let u=new A0(t,r,a);return uh.set(i,u),u}function lh(n=b0){let e=uh.get(n);if(!e&&n===b0&&p0())return P0();if(!e)throw no.create("no-app",{appName:n});return e}function lr(n,e,t){var r;let i=(r=NF[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){let u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(u.join(" "));return}ro(new Gn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var OF="firebase-heartbeat-database",FF=1,mu="firebase-heartbeat-store",I0=null;function $D(){return I0||(I0=VD(OF,FF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(mu)}catch(t){console.warn(t)}}}}).catch(n=>{throw no.create("idb-open",{originalErrorMessage:n.message})})),I0}function LF(n){return j(this,null,function*(){try{let t=(yield $D()).transaction(mu),r=yield t.objectStore(mu).get(qD(n));return yield t.done,r}catch(e){if(e instanceof An)_i.warn(e.message);else{let t=no.create("idb-get",{originalErrorMessage:e?.message});_i.warn(t.message)}}})}function UD(n,e){return j(this,null,function*(){try{let r=(yield $D()).transaction(mu,"readwrite");yield r.objectStore(mu).put(e,qD(n)),yield r.done}catch(t){if(t instanceof An)_i.warn(t.message);else{let r=no.create("idb-set",{originalErrorMessage:t?.message});_i.warn(r.message)}}})}function qD(n){return`${n.name}!${n.options.appId}`}var VF=1024,BF=30*24*60*60*1e3,S0=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new M0(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return j(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zD();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let u=new Date(a.date).valueOf();return Date.now()-u<=BF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){_i.warn(r)}})}getHeartbeatsHeader(){return j(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=zD(),{heartbeatsToSend:r,unsentEntries:i}=jF(this._heartbeatsCache.heartbeats),s=fu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return _i.warn(t),""}})}};function zD(){return new Date().toISOString().substring(0,10)}function jF(n,e=VF){let t=[],r=n.slice();for(let i of n){let s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),HD(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),HD(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var M0=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return j(this,null,function*(){return g0()?SD().then(()=>!0).catch(()=>!1):!1})}read(){return j(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield LF(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return j(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return UD(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return j(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return UD(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function HD(n){return fu(JSON.stringify({version:2,heartbeats:n})).length}function UF(n){ro(new Gn("platform-logger",e=>new D0(e),"PRIVATE")),ro(new Gn("heartbeat",e=>new S0(e),"PRIVATE")),lr(C0,BD,n),lr(C0,BD,"esm2017"),lr("fire-js","")}UF("");var zF="firebase",HF="10.13.2";lr(zF,HF,"app");var GD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},WD={};var oo,N0;(function(){var n;function e(N,C){function T(){}T.prototype=C.prototype,N.D=C.prototype,N.prototype=new T,N.prototype.constructor=N,N.C=function(k,S,O){for(var M=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)M[Z-2]=arguments[Z];return C.prototype[S].apply(k,M)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,C,T){T||(T=0);var k=Array(16);if(typeof C=="string")for(var S=0;16>S;++S)k[S]=C.charCodeAt(T++)|C.charCodeAt(T++)<<8|C.charCodeAt(T++)<<16|C.charCodeAt(T++)<<24;else for(S=0;16>S;++S)k[S]=C[T++]|C[T++]<<8|C[T++]<<16|C[T++]<<24;C=N.g[0],T=N.g[1],S=N.g[2];var O=N.g[3],M=C+(O^T&(S^O))+k[0]+3614090360&4294967295;C=T+(M<<7&4294967295|M>>>25),M=O+(S^C&(T^S))+k[1]+3905402710&4294967295,O=C+(M<<12&4294967295|M>>>20),M=S+(T^O&(C^T))+k[2]+606105819&4294967295,S=O+(M<<17&4294967295|M>>>15),M=T+(C^S&(O^C))+k[3]+3250441966&4294967295,T=S+(M<<22&4294967295|M>>>10),M=C+(O^T&(S^O))+k[4]+4118548399&4294967295,C=T+(M<<7&4294967295|M>>>25),M=O+(S^C&(T^S))+k[5]+1200080426&4294967295,O=C+(M<<12&4294967295|M>>>20),M=S+(T^O&(C^T))+k[6]+2821735955&4294967295,S=O+(M<<17&4294967295|M>>>15),M=T+(C^S&(O^C))+k[7]+4249261313&4294967295,T=S+(M<<22&4294967295|M>>>10),M=C+(O^T&(S^O))+k[8]+1770035416&4294967295,C=T+(M<<7&4294967295|M>>>25),M=O+(S^C&(T^S))+k[9]+2336552879&4294967295,O=C+(M<<12&4294967295|M>>>20),M=S+(T^O&(C^T))+k[10]+4294925233&4294967295,S=O+(M<<17&4294967295|M>>>15),M=T+(C^S&(O^C))+k[11]+2304563134&4294967295,T=S+(M<<22&4294967295|M>>>10),M=C+(O^T&(S^O))+k[12]+1804603682&4294967295,C=T+(M<<7&4294967295|M>>>25),M=O+(S^C&(T^S))+k[13]+4254626195&4294967295,O=C+(M<<12&4294967295|M>>>20),M=S+(T^O&(C^T))+k[14]+2792965006&4294967295,S=O+(M<<17&4294967295|M>>>15),M=T+(C^S&(O^C))+k[15]+1236535329&4294967295,T=S+(M<<22&4294967295|M>>>10),M=C+(S^O&(T^S))+k[1]+4129170786&4294967295,C=T+(M<<5&4294967295|M>>>27),M=O+(T^S&(C^T))+k[6]+3225465664&4294967295,O=C+(M<<9&4294967295|M>>>23),M=S+(C^T&(O^C))+k[11]+643717713&4294967295,S=O+(M<<14&4294967295|M>>>18),M=T+(O^C&(S^O))+k[0]+3921069994&4294967295,T=S+(M<<20&4294967295|M>>>12),M=C+(S^O&(T^S))+k[5]+3593408605&4294967295,C=T+(M<<5&4294967295|M>>>27),M=O+(T^S&(C^T))+k[10]+38016083&4294967295,O=C+(M<<9&4294967295|M>>>23),M=S+(C^T&(O^C))+k[15]+3634488961&4294967295,S=O+(M<<14&4294967295|M>>>18),M=T+(O^C&(S^O))+k[4]+3889429448&4294967295,T=S+(M<<20&4294967295|M>>>12),M=C+(S^O&(T^S))+k[9]+568446438&4294967295,C=T+(M<<5&4294967295|M>>>27),M=O+(T^S&(C^T))+k[14]+3275163606&4294967295,O=C+(M<<9&4294967295|M>>>23),M=S+(C^T&(O^C))+k[3]+4107603335&4294967295,S=O+(M<<14&4294967295|M>>>18),M=T+(O^C&(S^O))+k[8]+1163531501&4294967295,T=S+(M<<20&4294967295|M>>>12),M=C+(S^O&(T^S))+k[13]+2850285829&4294967295,C=T+(M<<5&4294967295|M>>>27),M=O+(T^S&(C^T))+k[2]+4243563512&4294967295,O=C+(M<<9&4294967295|M>>>23),M=S+(C^T&(O^C))+k[7]+1735328473&4294967295,S=O+(M<<14&4294967295|M>>>18),M=T+(O^C&(S^O))+k[12]+2368359562&4294967295,T=S+(M<<20&4294967295|M>>>12),M=C+(T^S^O)+k[5]+4294588738&4294967295,C=T+(M<<4&4294967295|M>>>28),M=O+(C^T^S)+k[8]+2272392833&4294967295,O=C+(M<<11&4294967295|M>>>21),M=S+(O^C^T)+k[11]+1839030562&4294967295,S=O+(M<<16&4294967295|M>>>16),M=T+(S^O^C)+k[14]+4259657740&4294967295,T=S+(M<<23&4294967295|M>>>9),M=C+(T^S^O)+k[1]+2763975236&4294967295,C=T+(M<<4&4294967295|M>>>28),M=O+(C^T^S)+k[4]+1272893353&4294967295,O=C+(M<<11&4294967295|M>>>21),M=S+(O^C^T)+k[7]+4139469664&4294967295,S=O+(M<<16&4294967295|M>>>16),M=T+(S^O^C)+k[10]+3200236656&4294967295,T=S+(M<<23&4294967295|M>>>9),M=C+(T^S^O)+k[13]+681279174&4294967295,C=T+(M<<4&4294967295|M>>>28),M=O+(C^T^S)+k[0]+3936430074&4294967295,O=C+(M<<11&4294967295|M>>>21),M=S+(O^C^T)+k[3]+3572445317&4294967295,S=O+(M<<16&4294967295|M>>>16),M=T+(S^O^C)+k[6]+76029189&4294967295,T=S+(M<<23&4294967295|M>>>9),M=C+(T^S^O)+k[9]+3654602809&4294967295,C=T+(M<<4&4294967295|M>>>28),M=O+(C^T^S)+k[12]+3873151461&4294967295,O=C+(M<<11&4294967295|M>>>21),M=S+(O^C^T)+k[15]+530742520&4294967295,S=O+(M<<16&4294967295|M>>>16),M=T+(S^O^C)+k[2]+3299628645&4294967295,T=S+(M<<23&4294967295|M>>>9),M=C+(S^(T|~O))+k[0]+4096336452&4294967295,C=T+(M<<6&4294967295|M>>>26),M=O+(T^(C|~S))+k[7]+1126891415&4294967295,O=C+(M<<10&4294967295|M>>>22),M=S+(C^(O|~T))+k[14]+2878612391&4294967295,S=O+(M<<15&4294967295|M>>>17),M=T+(O^(S|~C))+k[5]+4237533241&4294967295,T=S+(M<<21&4294967295|M>>>11),M=C+(S^(T|~O))+k[12]+1700485571&4294967295,C=T+(M<<6&4294967295|M>>>26),M=O+(T^(C|~S))+k[3]+2399980690&4294967295,O=C+(M<<10&4294967295|M>>>22),M=S+(C^(O|~T))+k[10]+4293915773&4294967295,S=O+(M<<15&4294967295|M>>>17),M=T+(O^(S|~C))+k[1]+2240044497&4294967295,T=S+(M<<21&4294967295|M>>>11),M=C+(S^(T|~O))+k[8]+1873313359&4294967295,C=T+(M<<6&4294967295|M>>>26),M=O+(T^(C|~S))+k[15]+4264355552&4294967295,O=C+(M<<10&4294967295|M>>>22),M=S+(C^(O|~T))+k[6]+2734768916&4294967295,S=O+(M<<15&4294967295|M>>>17),M=T+(O^(S|~C))+k[13]+1309151649&4294967295,T=S+(M<<21&4294967295|M>>>11),M=C+(S^(T|~O))+k[4]+4149444226&4294967295,C=T+(M<<6&4294967295|M>>>26),M=O+(T^(C|~S))+k[11]+3174756917&4294967295,O=C+(M<<10&4294967295|M>>>22),M=S+(C^(O|~T))+k[2]+718787259&4294967295,S=O+(M<<15&4294967295|M>>>17),M=T+(O^(S|~C))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(S+(M<<21&4294967295|M>>>11))&4294967295,N.g[2]=N.g[2]+S&4294967295,N.g[3]=N.g[3]+O&4294967295}r.prototype.u=function(N,C){C===void 0&&(C=N.length);for(var T=C-this.blockSize,k=this.B,S=this.h,O=0;O<C;){if(S==0)for(;O<=T;)i(this,N,O),O+=this.blockSize;if(typeof N=="string"){for(;O<C;)if(k[S++]=N.charCodeAt(O++),S==this.blockSize){i(this,k),S=0;break}}else for(;O<C;)if(k[S++]=N[O++],S==this.blockSize){i(this,k),S=0;break}}this.h=S,this.o+=C},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;var T=8*this.o;for(C=N.length-8;C<N.length;++C)N[C]=T&255,T/=256;for(this.u(N),N=Array(16),C=T=0;4>C;++C)for(var k=0;32>k;k+=8)N[T++]=this.g[C]>>>k&255;return N};function s(N,C){var T=u;return Object.prototype.hasOwnProperty.call(T,N)?T[N]:T[N]=C(N)}function a(N,C){this.h=C;for(var T=[],k=!0,S=N.length-1;0<=S;S--){var O=N[S]|0;k&&O==C||(T[S]=O,k=!1)}this.g=T}var u={};function h(N){return-128<=N&&128>N?s(N,function(C){return new a([C|0],0>C?-1:0)}):new a([N|0],0>N?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return v;if(0>N)return P(f(-N));for(var C=[],T=1,k=0;N>=T;k++)C[k]=N/T|0,T*=4294967296;return new a(C,0)}function m(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return P(m(N.substring(1),C));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=f(Math.pow(C,8)),k=v,S=0;S<N.length;S+=8){var O=Math.min(8,N.length-S),M=parseInt(N.substring(S,S+O),C);8>O?(O=f(Math.pow(C,O)),k=k.j(O).add(f(M))):(k=k.j(T),k=k.add(f(M)))}return k}var v=h(0),E=h(1),w=h(16777216);n=a.prototype,n.m=function(){if(R(this))return-P(this).m();for(var N=0,C=1,T=0;T<this.g.length;T++){var k=this.i(T);N+=(0<=k?k:4294967296+k)*C,C*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(I(this))return"0";if(R(this))return"-"+P(this).toString(N);for(var C=f(Math.pow(N,6)),T=this,k="";;){var S=B(T,C).g;T=D(T,S.j(C));var O=((0<T.g.length?T.g[0]:T.h)>>>0).toString(N);if(T=S,I(T))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function I(N){if(N.h!=0)return!1;for(var C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function R(N){return N.h==-1}n.l=function(N){return N=D(this,N),R(N)?-1:I(N)?0:1};function P(N){for(var C=N.g.length,T=[],k=0;k<C;k++)T[k]=~N.g[k];return new a(T,~N.h).add(E)}n.abs=function(){return R(this)?P(this):this},n.add=function(N){for(var C=Math.max(this.g.length,N.g.length),T=[],k=0,S=0;S<=C;S++){var O=k+(this.i(S)&65535)+(N.i(S)&65535),M=(O>>>16)+(this.i(S)>>>16)+(N.i(S)>>>16);k=M>>>16,O&=65535,M&=65535,T[S]=M<<16|O}return new a(T,T[T.length-1]&-2147483648?-1:0)};function D(N,C){return N.add(P(C))}n.j=function(N){if(I(this)||I(N))return v;if(R(this))return R(N)?P(this).j(P(N)):P(P(this).j(N));if(R(N))return P(this.j(P(N)));if(0>this.l(w)&&0>N.l(w))return f(this.m()*N.m());for(var C=this.g.length+N.g.length,T=[],k=0;k<2*C;k++)T[k]=0;for(k=0;k<this.g.length;k++)for(var S=0;S<N.g.length;S++){var O=this.i(k)>>>16,M=this.i(k)&65535,Z=N.i(S)>>>16,ue=N.i(S)&65535;T[2*k+2*S]+=M*ue,A(T,2*k+2*S),T[2*k+2*S+1]+=O*ue,A(T,2*k+2*S+1),T[2*k+2*S+1]+=M*Z,A(T,2*k+2*S+1),T[2*k+2*S+2]+=O*Z,A(T,2*k+2*S+2)}for(k=0;k<C;k++)T[k]=T[2*k+1]<<16|T[2*k];for(k=C;k<2*C;k++)T[k]=0;return new a(T,0)};function A(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function V(N,C){this.g=N,this.h=C}function B(N,C){if(I(C))throw Error("division by zero");if(I(N))return new V(v,v);if(R(N))return C=B(P(N),C),new V(P(C.g),P(C.h));if(R(C))return C=B(N,P(C)),new V(P(C.g),C.h);if(30<N.g.length){if(R(N)||R(C))throw Error("slowDivide_ only works with positive integers.");for(var T=E,k=C;0>=k.l(N);)T=z(T),k=z(k);var S=U(T,1),O=U(k,1);for(k=U(k,2),T=U(T,2);!I(k);){var M=O.add(k);0>=M.l(N)&&(S=S.add(T),O=M),k=U(k,1),T=U(T,1)}return C=D(N,S.j(C)),new V(S,C)}for(S=v;0<=N.l(C);){for(T=Math.max(1,Math.floor(N.m()/C.m())),k=Math.ceil(Math.log(T)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=f(T),M=O.j(C);R(M)||0<M.l(N);)T-=k,O=f(T),M=O.j(C);I(O)&&(O=E),S=S.add(O),N=D(N,M)}return new V(S,N)}n.A=function(N){return B(this,N).h},n.and=function(N){for(var C=Math.max(this.g.length,N.g.length),T=[],k=0;k<C;k++)T[k]=this.i(k)&N.i(k);return new a(T,this.h&N.h)},n.or=function(N){for(var C=Math.max(this.g.length,N.g.length),T=[],k=0;k<C;k++)T[k]=this.i(k)|N.i(k);return new a(T,this.h|N.h)},n.xor=function(N){for(var C=Math.max(this.g.length,N.g.length),T=[],k=0;k<C;k++)T[k]=this.i(k)^N.i(k);return new a(T,this.h^N.h)};function z(N){for(var C=N.g.length+1,T=[],k=0;k<C;k++)T[k]=N.i(k)<<1|N.i(k-1)>>>31;return new a(T,N.h)}function U(N,C){var T=C>>5;C%=32;for(var k=N.g.length-T,S=[],O=0;O<k;O++)S[O]=0<C?N.i(O+T)>>>C|N.i(O+T+1)<<32-C:N.i(O+T);return new a(S,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,N0=WD.Md5=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=m,oo=WD.Integer=a}).apply(typeof GD<"u"?GD:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vi={};var R0,k0,xa,O0,_u,hh,F0,L0,V0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,g,y){return l==Array.prototype||l==Object.prototype||(l[g]=y.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var g=0;g<l.length;++g){var y=l[g];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=t(this);function i(l,g){if(g)e:{var y=r;l=l.split(".");for(var b=0;b<l.length-1;b++){var H=l[b];if(!(H in y))break e;y=y[H]}l=l[l.length-1],b=y[l],g=g(b),g!=b&&g!=null&&e(y,l,{configurable:!0,writable:!0,value:g})}}function s(l,g){l instanceof String&&(l+="");var y=0,b=!1,H={next:function(){if(!b&&y<l.length){var G=y++;return{value:g(G,l[G]),done:!1}}return b=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(l){return l||function(){return s(this,function(g,y){return y})}});var a=a||{},u=this||self;function h(l){var g=typeof l;return g=g!="object"?g:l?Array.isArray(l)?"array":g:"null",g=="array"||g=="object"&&typeof l.length=="number"}function f(l){var g=typeof l;return g=="object"&&l!=null||g=="function"}function m(l,g,y){return l.call.apply(l.bind,arguments)}function v(l,g,y){if(!l)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,b),l.apply(g,H)}}return function(){return l.apply(g,arguments)}}function E(l,g,y){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,E.apply(null,arguments)}function w(l,g){var y=Array.prototype.slice.call(arguments,1);return function(){var b=y.slice();return b.push.apply(b,arguments),l.apply(this,b)}}function I(l,g){function y(){}y.prototype=g.prototype,l.aa=g.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(b,H,G){for(var re=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)re[Ne-2]=arguments[Ne];return g.prototype[H].apply(b,re)}}function R(l){let g=l.length;if(0<g){let y=Array(g);for(let b=0;b<g;b++)y[b]=l[b];return y}return[]}function P(l,g){for(let y=1;y<arguments.length;y++){let b=arguments[y];if(h(b)){let H=l.length||0,G=b.length||0;l.length=H+G;for(let re=0;re<G;re++)l[H+re]=b[re]}else l.push(b)}}class D{constructor(g,y){this.i=g,this.j=y,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function A(l){return/^[\s\xa0]*$/.test(l)}function V(){var l=u.navigator;return l&&(l=l.userAgent)?l:""}function B(l){return B[" "](l),l}B[" "]=function(){};var z=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function U(l,g,y){for(let b in l)g.call(y,l[b],b,l)}function N(l,g){for(let y in l)g.call(void 0,l[y],y,l)}function C(l){let g={};for(let y in l)g[y]=l[y];return g}let T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,g){let y,b;for(let H=1;H<arguments.length;H++){b=arguments[H];for(y in b)l[y]=b[y];for(let G=0;G<T.length;G++)y=T[G],Object.prototype.hasOwnProperty.call(b,y)&&(l[y]=b[y])}}function S(l){var g=1;l=l.split(":");let y=[];for(;0<g&&l.length;)y.push(l.shift()),g--;return l.length&&y.push(l.join(":")),y}function O(l){u.setTimeout(()=>{throw l},0)}function M(){var l=W;let g=null;return l.g&&(g=l.g,l.g=l.g.next,l.g||(l.h=null),g.next=null),g}class Z{constructor(){this.h=this.g=null}add(g,y){let b=ue.get();b.set(g,y),this.h?this.h.next=b:this.g=b,this.h=b}}var ue=new D(()=>new X,l=>l.reset());class X{constructor(){this.next=this.g=this.h=null}set(g,y){this.h=g,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,ne=!1,W=new Z,Q=()=>{let l=u.Promise.resolve(void 0);pe=()=>{l.then(Y)}};var Y=()=>{for(var l;l=M();){try{l.h.call(l.g)}catch(y){O(y)}var g=ue;g.j(l),100>g.h&&(g.h++,l.next=g.g,g.g=l)}ne=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(l,g){this.type=l,this.g=this.target=g,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var l=!1,g=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let y=()=>{};u.addEventListener("test",y,g),u.removeEventListener("test",y,g)}catch{}return l}();function Ze(l,g){if(ie.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,b=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=g,g=l.relatedTarget){if(z){e:{try{B(g.nodeName);var H=!0;break e}catch{}H=!1}H||(g=null)}}else y=="mouseover"?g=l.fromElement:y=="mouseout"&&(g=l.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:me[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ze.aa.h.call(this)}}I(Ze,ie);var me={2:"touch",3:"pen",4:"mouse"};Ze.prototype.h=function(){Ze.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var an="closure_listenable_"+(1e6*Math.random()|0),Pn=0;function Kr(l,g,y,b,H){this.listener=l,this.proxy=null,this.src=g,this.type=y,this.capture=!!b,this.ha=H,this.key=++Pn,this.da=this.fa=!1}function zt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function xt(l){this.src=l,this.g={},this.h=0}xt.prototype.add=function(l,g,y,b,H){var G=l.toString();l=this.g[G],l||(l=this.g[G]=[],this.h++);var re=Wn(l,g,b,H);return-1<re?(g=l[re],y||(g.fa=!1)):(g=new Kr(g,this.src,G,!!b,H),g.fa=y,l.push(g)),g};function bt(l,g){var y=g.type;if(y in l.g){var b=l.g[y],H=Array.prototype.indexOf.call(b,g,void 0),G;(G=0<=H)&&Array.prototype.splice.call(b,H,1),G&&(zt(g),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Wn(l,g,y,b){for(var H=0;H<l.length;++H){var G=l[H];if(!G.da&&G.listener==g&&G.capture==!!y&&G.ha==b)return H}return-1}var Nn="closure_lm_"+(1e6*Math.random()|0),Rn={};function vn(l,g,y,b,H){if(b&&b.once)return Rt(l,g,y,b,H);if(Array.isArray(g)){for(var G=0;G<g.length;G++)vn(l,g[G],y,b,H);return null}return y=Ti(y),l&&l[an]?l.K(g,y,f(b)?!!b.capture:!!b,H):bi(l,g,y,!1,b,H)}function bi(l,g,y,b,H,G){if(!g)throw Error("Invalid event type");var re=f(H)?!!H.capture:!!H,Ne=cn(l);if(Ne||(l[Nn]=Ne=new xt(l)),y=Ne.add(g,y,b,re,G),y.proxy)return y;if(b=pr(),y.proxy=b,b.src=l,b.listener=y,l.addEventListener)ae||(H=re),H===void 0&&(H=!1),l.addEventListener(g.toString(),b,H);else if(l.attachEvent)l.attachEvent(Zr(g.toString()),b);else if(l.addListener&&l.removeListener)l.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return y}function pr(){function l(y){return g.call(l.src,l.listener,y)}let g=xs;return l}function Rt(l,g,y,b,H){if(Array.isArray(g)){for(var G=0;G<g.length;G++)Rt(l,g[G],y,b,H);return null}return y=Ti(y),l&&l[an]?l.L(g,y,f(b)?!!b.capture:!!b,H):bi(l,g,y,!0,b,H)}function kt(l,g,y,b,H){if(Array.isArray(g))for(var G=0;G<g.length;G++)kt(l,g[G],y,b,H);else b=f(b)?!!b.capture:!!b,y=Ti(y),l&&l[an]?(l=l.i,g=String(g).toString(),g in l.g&&(G=l.g[g],y=Wn(G,y,b,H),-1<y&&(zt(G[y]),Array.prototype.splice.call(G,y,1),G.length==0&&(delete l.g[g],l.h--)))):l&&(l=cn(l))&&(g=l.g[g.toString()],l=-1,g&&(l=Wn(g,y,b,H)),(y=-1<l?g[l]:null)&&Yt(y))}function Yt(l){if(typeof l!="number"&&l&&!l.da){var g=l.src;if(g&&g[an])bt(g.i,l);else{var y=l.type,b=l.proxy;g.removeEventListener?g.removeEventListener(y,b,l.capture):g.detachEvent?g.detachEvent(Zr(y),b):g.addListener&&g.removeListener&&g.removeListener(b),(y=cn(g))?(bt(y,l),y.h==0&&(y.src=null,g[Nn]=null)):zt(l)}}}function Zr(l){return l in Rn?Rn[l]:Rn[l]="on"+l}function xs(l,g){if(l.da)l=!0;else{g=new Ze(g,this);var y=l.listener,b=l.ha||l.src;l.fa&&Yt(l),l=y.call(b,g)}return l}function cn(l){return l=l[Nn],l instanceof xt?l:null}var kn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ti(l){return typeof l=="function"?l:(l[kn]||(l[kn]=function(g){return l.handleEvent(g)}),l[kn])}function yt(){K.call(this),this.i=new xt(this),this.M=this,this.F=null}I(yt,K),yt.prototype[an]=!0,yt.prototype.removeEventListener=function(l,g,y,b){kt(this,l,g,y,b)};function Et(l,g){var y,b=l.F;if(b)for(y=[];b;b=b.F)y.push(b);if(l=l.M,b=g.type||g,typeof g=="string")g=new ie(g,l);else if(g instanceof ie)g.target=g.target||l;else{var H=g;g=new ie(b,l),k(g,H)}if(H=!0,y)for(var G=y.length-1;0<=G;G--){var re=g.g=y[G];H=un(re,b,!0,g)&&H}if(re=g.g=l,H=un(re,b,!0,g)&&H,H=un(re,b,!1,g)&&H,y)for(G=0;G<y.length;G++)re=g.g=y[G],H=un(re,b,!1,g)&&H}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var l=this.i,g;for(g in l.g){for(var y=l.g[g],b=0;b<y.length;b++)zt(y[b]);delete l.g[g],l.h--}}this.F=null},yt.prototype.K=function(l,g,y,b){return this.i.add(String(l),g,!1,y,b)},yt.prototype.L=function(l,g,y,b){return this.i.add(String(l),g,!0,y,b)};function un(l,g,y,b){if(g=l.i.g[String(g)],!g)return!0;g=g.concat();for(var H=!0,G=0;G<g.length;++G){var re=g[G];if(re&&!re.da&&re.capture==y){var Ne=re.listener,dt=re.ha||re.src;re.fa&&bt(l.i,re),H=Ne.call(dt,b)!==!1&&H}}return H&&!b.defaultPrevented}function mr(l,g,y){if(typeof l=="function")y&&(l=E(l,y));else if(l&&typeof l.handleEvent=="function")l=E(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:u.setTimeout(l,g||0)}function Eo(l){l.g=mr(()=>{l.g=null,l.i&&(l.i=!1,Eo(l))},l.l);let g=l.h;l.h=null,l.m.apply(null,g)}class Ai extends K{constructor(g,y){super(),this.m=g,this.l=y,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Eo(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kn(l){K.call(this),this.h=l,this.g={}}I(Kn,K);var Is=[];function gr(l){U(l.g,function(g,y){this.g.hasOwnProperty(y)&&Yt(g)},l),l.g={}}Kn.prototype.N=function(){Kn.aa.N.call(this),gr(this)},Kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Si=u.JSON.stringify,cc=u.JSON.parse,wo=class{stringify(l){return u.JSON.stringify(l,void 0)}parse(l){return u.JSON.parse(l,void 0)}};function Mi(){}Mi.prototype.h=null;function Pi(l){return l.h||(l.h=l.i())}function Ds(){}var Qr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xo(){ie.call(this,"d")}I(xo,ie);function Ni(){ie.call(this,"c")}I(Ni,ie);var Zn={},Cs=null;function Qn(){return Cs=Cs||new yt}Zn.La="serverreachability";function bs(l){ie.call(this,Zn.La,l)}I(bs,ie);function _r(l){let g=Qn();Et(g,new bs(g))}Zn.STAT_EVENT="statevent";function Ot(l,g){ie.call(this,Zn.STAT_EVENT,l),this.stat=g}I(Ot,ie);function tt(l){let g=Qn();Et(g,new Ot(g,l))}Zn.Ma="timingevent";function Ht(l,g){ie.call(this,Zn.Ma,l),this.size=g}I(Ht,ie);function se(l,g){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){l()},g)}function Ri(){this.g=!0}Ri.prototype.xa=function(){this.g=!1};function Xu(l,g,y,b,H,G){l.info(function(){if(l.g)if(G)for(var re="",Ne=G.split("&"),dt=0;dt<Ne.length;dt++){var He=Ne[dt].split("=");if(1<He.length){var rt=He[0];He=He[1];var Ft=rt.split("_");re=2<=Ft.length&&Ft[1]=="type"?re+(rt+"="+He+"&"):re+(rt+"=redacted&")}}else re=null;else re=G;return"XMLHTTP REQ ("+b+") [attempt "+H+"]: "+g+`
`+y+`
`+re})}function el(l,g,y,b,H,G,re){l.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+H+"]: "+g+`
`+y+`
`+G+" "+re})}function Yr(l,g,y,b){l.info(function(){return"XMLHTTP TEXT ("+g+"): "+tl(l,y)+(b?" "+b:"")})}function uc(l,g){l.info(function(){return"TIMEOUT: "+g})}Ri.prototype.info=function(){};function tl(l,g){if(!l.g)return g;if(!g)return null;try{var y=JSON.parse(g);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var b=y[l];if(!(2>b.length)){var H=b[1];if(Array.isArray(H)&&!(1>H.length)){var G=H[0];if(G!="noop"&&G!="stop"&&G!="close")for(var re=1;re<H.length;re++)H[re]=""}}}}return Si(y)}catch{return g}}var Yn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dc;function Ts(){}I(Ts,Mi),Ts.prototype.g=function(){return new XMLHttpRequest},Ts.prototype.i=function(){return{}},dc=new Ts;function vr(l,g,y,b){this.j=l,this.i=g,this.l=y,this.R=b||1,this.U=new Kn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nl}function nl(){this.i=null,this.g="",this.h=!1}var hc={},fc={};function ki(l,g,y){l.L=1,l.v=Fi(jt(g)),l.m=y,l.P=!0,rl(l,null)}function rl(l,g){l.F=Date.now(),As(l),l.A=jt(l.v);var y=l.A,b=l.R;Array.isArray(b)||(b=[String(b)]),Qe(y.i,"t",b),l.C=0,y=l.j.J,l.h=new nl,l.g=ko(l.j,y?g:null,!l.m),0<l.O&&(l.M=new Ai(E(l.Y,l,l.g),l.O)),g=l.U,y=l.g,b=l.ca;var H="readystatechange";Array.isArray(H)||(H&&(Is[0]=H.toString()),H=Is);for(var G=0;G<H.length;G++){var re=vn(y,H[G],b||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=l.H?C(l.H):{},l.m?(l.u||(l.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,g)):(l.u="GET",l.g.ea(l.A,l.u,null,g)),_r(),Xu(l.i,l.u,l.A,l.l,l.R,l.m)}vr.prototype.ca=function(l){l=l.target;let g=this.M;g&&En(l)==3?g.j():this.Y(l)},vr.prototype.Y=function(l){try{if(l==this.g)e:{let Ft=En(this.g);var g=this.g.Ba();let xn=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||ll(this.g)))){this.J||Ft!=4||g==7||(g==8||0>=xn?_r(3):_r(2)),Io(this);var y=this.g.Z();this.X=y;t:if(il(this)){var b=ll(this.g);l="";var H=b.length,G=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yr(this),Jn(this);var re="";break t}this.h.i=new u.TextDecoder}for(g=0;g<H;g++)this.h.h=!0,l+=this.h.i.decode(b[g],{stream:!(G&&g==H-1)});b.length=0,this.h.g+=l,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=y==200,el(this.i,this.u,this.A,this.l,this.R,Ft,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,dt=this.g;if((Ne=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(Ne)){var He=Ne;break t}}He=null}if(y=He)Yr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ss(this,y);else{this.o=!1,this.s=3,tt(12),yr(this),Jn(this);break e}}if(this.P){y=!0;let In;for(;!this.J&&this.C<re.length;)if(In=yp(this,re),In==fc){Ft==4&&(this.s=4,tt(14),y=!1),Yr(this.i,this.l,null,"[Incomplete Response]");break}else if(In==hc){this.s=4,tt(15),Yr(this.i,this.l,re,"[Invalid Chunk]"),y=!1;break}else Yr(this.i,this.l,In,null),Ss(this,In);if(il(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||re.length!=0||this.h.h||(this.s=1,tt(16),y=!1),this.o=this.o&&y,!y)Yr(this.i,this.l,re,"[Invalid Chunked Response]"),yr(this),Jn(this);else if(0<re.length&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.ba&&!rt.M&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Os(rt),rt.M=!0,tt(11))}}else Yr(this.i,this.l,re,null),Ss(this,re);Ft==4&&yr(this),this.o&&!this.J&&(Ft==4?pl(this.j,this):(this.o=!1,As(this)))}else dl(this.g),y==400&&0<re.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),yr(this),Jn(this)}}}catch{}finally{}};function il(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function yp(l,g){var y=l.C,b=g.indexOf(`
`,y);return b==-1?fc:(y=Number(g.substring(y,b)),isNaN(y)?hc:(b+=1,b+y>g.length?fc:(g=g.slice(b,b+y),l.C=b+y,g)))}vr.prototype.cancel=function(){this.J=!0,yr(this)};function As(l){l.S=Date.now()+l.I,ol(l,l.I)}function ol(l,g){if(l.B!=null)throw Error("WatchDog timer not null");l.B=se(E(l.ba,l),g)}function Io(l){l.B&&(u.clearTimeout(l.B),l.B=null)}vr.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(uc(this.i,this.A),this.L!=2&&(_r(),tt(17)),yr(this),this.s=2,Jn(this)):ol(this,this.S-l)};function Jn(l){l.j.G==0||l.J||pl(l.j,l)}function yr(l){Io(l);var g=l.M;g&&typeof g.ma=="function"&&g.ma(),l.M=null,gr(l.U),l.g&&(g=l.g,l.g=null,g.abort(),g.ma())}function Ss(l,g){try{var y=l.j;if(y.G!=0&&(y.g==l||Er(y.h,l))){if(!l.K&&Er(y.h,l)&&y.G==3){try{var b=y.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var H=b;if(H[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)Fs(y),Ns(y);else break e;Cc(y),tt(18)}}else y.za=H[1],0<y.za-y.T&&37500>H[2]&&y.F&&y.v==0&&!y.C&&(y.C=se(E(y.Za,y),6e3));if(1>=Co(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else ti(y,11)}else if((l.K||y.g==l)&&Fs(y),!A(g))for(H=y.Da.g.parse(g),g=0;g<H.length;g++){let He=H[g];if(y.T=He[0],He=He[1],y.G==2)if(He[0]=="c"){y.K=He[1],y.ia=He[2];let rt=He[3];rt!=null&&(y.la=rt,y.j.info("VER="+y.la));let Ft=He[4];Ft!=null&&(y.Aa=Ft,y.j.info("SVER="+y.Aa));let xn=He[5];xn!=null&&typeof xn=="number"&&0<xn&&(b=1.5*xn,y.L=b,y.j.info("backChannelRequestTimeoutMs_="+b)),b=y;let In=l.g;if(In){let Dr=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dr){var G=b.h;G.g||Dr.indexOf("spdy")==-1&&Dr.indexOf("quic")==-1&&Dr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(wr(G,G.h),G.h=null))}if(b.D){let Bs=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;Bs&&(b.ya=Bs,We(b.I,b.D,Bs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),b=y;var re=l;if(b.qa=Ac(b,b.J?b.ia:null,b.W),re.K){Ms(b.h,re);var Ne=re,dt=b.L;dt&&(Ne.I=dt),Ne.B&&(Io(Ne),As(Ne)),b.g=re}else ks(b);0<y.i.length&&Rs(y)}else He[0]!="stop"&&He[0]!="close"||ti(y,7);else y.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?ti(y,7):Ro(y):He[0]!="noop"&&y.l&&y.l.ta(He),y.v=0)}}_r(4)}catch{}}var Do=class{constructor(l,g){this.g=l,this.map=g}};function ze(l){this.l=l||10,u.PerformanceNavigationTiming?(l=u.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Co(l){return l.h?1:l.g?l.g.size:0}function Er(l,g){return l.h?l.h==g:l.g?l.g.has(g):!1}function wr(l,g){l.g?l.g.add(g):l.h=g}function Ms(l,g){l.h&&l.h==g?l.h=null:l.g&&l.g.has(g)&&l.g.delete(g)}ze.prototype.cancel=function(){if(this.i=De(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function De(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let g=l.i;for(let y of l.g.values())g=g.concat(y.D);return g}return R(l.i)}function ft(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(h(l)){for(var g=[],y=l.length,b=0;b<y;b++)g.push(l[b]);return g}g=[],y=0;for(b in l)g[y++]=l[b];return g}function pc(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(h(l)||typeof l=="string"){var g=[];l=l.length;for(var y=0;y<l;y++)g.push(y);return g}g=[],y=0;for(let b in l)g[y++]=b;return g}}}function bo(l,g){if(l.forEach&&typeof l.forEach=="function")l.forEach(g,void 0);else if(h(l)||typeof l=="string")Array.prototype.forEach.call(l,g,void 0);else for(var y=pc(l),b=ft(l),H=b.length,G=0;G<H;G++)g.call(void 0,b[G],y&&y[G],l)}var Jt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ep(l,g){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var b=l[y].indexOf("="),H=null;if(0<=b){var G=l[y].substring(0,b);H=l[y].substring(b+1)}else G=l[y];g(G,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function On(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof On){this.h=l.h,ot(this,l.j),this.o=l.o,this.g=l.g,Fn(this,l.s),this.l=l.l;var g=l.i,y=new Xr;y.i=g.i,g.g&&(y.g=new Map(g.g),y.h=g.h),Oi(this,y),this.m=l.m}else l&&(g=String(l).match(Jt))?(this.h=!1,ot(this,g[1]||"",!0),this.o=Xn(g[2]||""),this.g=Xn(g[3]||"",!0),Fn(this,g[4]),this.l=Xn(g[5]||"",!0),Oi(this,g[6]||"",!0),this.m=Xn(g[7]||"")):(this.h=!1,this.i=new Xr(null,this.h))}On.prototype.toString=function(){var l=[],g=this.j;g&&l.push(Jr(g,To,!0),":");var y=this.g;return(y||g=="file")&&(l.push("//"),(g=this.o)&&l.push(Jr(g,To,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Jr(y,y.charAt(0)=="/"?_c:gc,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Jr(y,sl)),l.join("")};function jt(l){return new On(l)}function ot(l,g,y){l.j=y?Xn(g,!0):g,l.j&&(l.j=l.j.replace(/:$/,""))}function Fn(l,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);l.s=g}else l.s=null}function Oi(l,g,y){g instanceof Xr?(l.i=g,vc(l.i,l.h)):(y||(g=Jr(g,Ps)),l.i=new Xr(g,l.h))}function We(l,g,y){l.i.set(g,y)}function Fi(l){return We(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Xn(l,g){return l?g?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Jr(l,g,y){return typeof l=="string"?(l=encodeURI(l).replace(g,mc),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function mc(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var To=/[#\/\?@]/g,gc=/[#\?:]/g,_c=/[#\?]/g,Ps=/[#\?@]/g,sl=/#/g;function Xr(l,g){this.h=this.g=null,this.i=l||null,this.j=!!g}function xr(l){l.g||(l.g=new Map,l.h=0,l.i&&Ep(l.i,function(g,y){l.add(decodeURIComponent(g.replace(/\+/g," ")),y)}))}n=Xr.prototype,n.add=function(l,g){xr(this),this.i=null,l=ei(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(g),this.h+=1,this};function ye(l,g){xr(l),g=ei(l,g),l.g.has(g)&&(l.i=null,l.h-=l.g.get(g).length,l.g.delete(g))}function yn(l,g){return xr(l),g=ei(l,g),l.g.has(g)}n.forEach=function(l,g){xr(this),this.g.forEach(function(y,b){y.forEach(function(H){l.call(g,H,b,this)},this)},this)},n.na=function(){xr(this);let l=Array.from(this.g.values()),g=Array.from(this.g.keys()),y=[];for(let b=0;b<g.length;b++){let H=l[b];for(let G=0;G<H.length;G++)y.push(g[b])}return y},n.V=function(l){xr(this);let g=[];if(typeof l=="string")yn(this,l)&&(g=g.concat(this.g.get(ei(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)g=g.concat(l[y])}return g},n.set=function(l,g){return xr(this),this.i=null,l=ei(this,l),yn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[g]),this.h+=1,this},n.get=function(l,g){return l?(l=this.V(l),0<l.length?String(l[0]):g):g};function Qe(l,g,y){ye(l,g),0<y.length&&(l.i=null,l.g.set(ei(l,g),R(y)),l.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],g=Array.from(this.g.keys());for(var y=0;y<g.length;y++){var b=g[y];let G=encodeURIComponent(String(b)),re=this.V(b);for(b=0;b<re.length;b++){var H=G;re[b]!==""&&(H+="="+encodeURIComponent(String(re[b]))),l.push(H)}}return this.i=l.join("&")};function ei(l,g){return g=String(g),l.j&&(g=g.toLowerCase()),g}function vc(l,g){g&&!l.j&&(xr(l),l.i=null,l.g.forEach(function(y,b){var H=b.toLowerCase();b!=H&&(ye(this,b),Qe(this,H,y))},l)),l.j=g}function yc(l,g){let y=new Ri;if(u.Image){let b=new Image;b.onload=w($t,y,"TestLoadImage: loaded",!0,g,b),b.onerror=w($t,y,"TestLoadImage: error",!1,g,b),b.onabort=w($t,y,"TestLoadImage: abort",!1,g,b),b.ontimeout=w($t,y,"TestLoadImage: timeout",!1,g,b),u.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=l}else g(!1)}function Ec(l,g){let y=new Ri,b=new AbortController,H=setTimeout(()=>{b.abort(),$t(y,"TestPingServer: timeout",!1,g)},1e4);fetch(l,{signal:b.signal}).then(G=>{clearTimeout(H),G.ok?$t(y,"TestPingServer: ok",!0,g):$t(y,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(H),$t(y,"TestPingServer: error",!1,g)})}function $t(l,g,y,b,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),b(y)}catch{}}function wc(){this.g=new wo}function Ao(l,g,y){let b=y||"";try{bo(l,function(H,G){let re=H;f(H)&&(re=Si(H)),g.push(b+G+"="+encodeURIComponent(re))})}catch(H){throw g.push(b+"type="+encodeURIComponent("_badmap")),H}}function pt(l){this.l=l.Ub||null,this.j=l.eb||!1}I(pt,Mi),pt.prototype.g=function(){return new Ln(this.l,this.j)},pt.prototype.i=function(l){return function(){return l}}({});function Ln(l,g){yt.call(this),this.D=l,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Ln,yt),n=Ln.prototype,n.open=function(l,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=g,this.readyState=1,So(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(g.body=l),(this.D||u).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Li(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,So(this)),this.g&&(this.readyState=3,So(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xc(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function xc(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var g=l.value?l.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!l.done}))&&(this.response=this.responseText+=g)}l.done?Li(this):So(this),this.readyState==3&&xc(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,Li(this))},n.Qa=function(l){this.g&&(this.response=l,Li(this))},n.ga=function(){this.g&&Li(this)};function Li(l){l.readyState=4,l.l=null,l.j=null,l.v=null,So(l)}n.setRequestHeader=function(l,g){this.u.append(l,g)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],g=this.h.entries();for(var y=g.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=g.next();return l.join(`\r
`)};function So(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ln.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Ic(l){let g="";return U(l,function(y,b){g+=b,g+=":",g+=y,g+=`\r
`}),g}function Mo(l,g,y){e:{for(b in y){var b=!1;break e}b=!0}b||(y=Ic(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):We(l,g,y))}function lt(l){yt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(lt,yt);var al=/^https?$/i,Oe=["POST","PUT"];n=lt.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,g,y,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);g=g?g.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dc.g(),this.v=this.o?Pi(this.o):Pi(dc),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(l),!0),this.B=!1}catch(G){cl(this,G);return}if(l=y||"",y=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var H in b)y.set(H,b[H]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(let G of b.keys())y.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(y.keys()).find(G=>G.toLowerCase()=="content-type"),H=u.FormData&&l instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Oe,g,void 0))||b||H||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[G,re]of y)this.g.setRequestHeader(G,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ul(this),this.u=!0,this.g.send(l),this.u=!1}catch(G){cl(this,G)}};function cl(l,g){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=g,l.m=5,ln(l),Po(l)}function ln(l){l.A||(l.A=!0,Et(l,"complete"),Et(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Et(this,"complete"),Et(this,"abort"),Po(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Po(this,!0)),lt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Vi(this):this.bb())},n.bb=function(){Vi(this)};function Vi(l){if(l.h&&typeof a<"u"&&(!l.v[1]||En(l)!=4||l.Z()!=2)){if(l.u&&En(l)==4)mr(l.Ea,0,l);else if(Et(l,"readystatechange"),En(l)==4){l.h=!1;try{let re=l.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var y;if(!(y=g)){var b;if(b=re===0){var H=String(l.D).match(Jt)[1]||null;!H&&u.self&&u.self.location&&(H=u.self.location.protocol.slice(0,-1)),b=!al.test(H?H.toLowerCase():"")}y=b}if(y)Et(l,"complete"),Et(l,"success");else{l.m=6;try{var G=2<En(l)?l.g.statusText:""}catch{G=""}l.l=G+" ["+l.Z()+"]",ln(l)}}finally{Po(l)}}}}function Po(l,g){if(l.g){ul(l);let y=l.g,b=l.v[0]?()=>{}:null;l.g=null,l.v=null,g||Et(l,"ready");try{y.onreadystatechange=b}catch{}}}function ul(l){l.I&&(u.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function En(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var g=this.g.responseText;return l&&g.indexOf(l)==0&&(g=g.substring(l.length)),cc(g)}};function ll(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function dl(l){let g={};l=(l.g&&2<=En(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<l.length;b++){if(A(l[b]))continue;var y=S(l[b]);let H=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();let G=g[H]||[];g[H]=G,G.push(y)}N(g,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function No(l,g,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||g}function hl(l){this.Aa=0,this.i=[],this.j=new Ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=No("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=No("baseRetryDelayMs",5e3,l),this.cb=No("retryDelaySeedMs",1e4,l),this.Wa=No("forwardChannelMaxRetries",2,l),this.wa=No("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ze(l&&l.concurrentRequestLimit),this.Da=new wc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=hl.prototype,n.la=8,n.G=1,n.connect=function(l,g,y,b){tt(0),this.W=l,this.H=g||{},y&&b!==void 0&&(this.H.OSID=y,this.H.OAID=b),this.F=this.X,this.I=Ac(this,null,this.W),Rs(this)};function Ro(l){if(wn(l),l.G==3){var g=l.U++,y=jt(l.I);if(We(y,"SID",l.K),We(y,"RID",g),We(y,"TYPE","terminate"),Bi(l,y),g=new vr(l,l.j,g),g.L=2,g.v=Fi(jt(y)),y=!1,u.navigator&&u.navigator.sendBeacon)try{y=u.navigator.sendBeacon(g.v.toString(),"")}catch{}!y&&u.Image&&(new Image().src=g.v,y=!0),y||(g.g=ko(g.j,null),g.g.ea(g.v)),g.F=Date.now(),As(g)}Tc(l)}function Ns(l){l.g&&(Os(l),l.g.cancel(),l.g=null)}function wn(l){Ns(l),l.u&&(u.clearTimeout(l.u),l.u=null),Fs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&u.clearTimeout(l.s),l.s=null)}function Rs(l){if(!nt(l.h)&&!l.s){l.s=!0;var g=l.Ga;pe||Q(),ne||(pe(),ne=!0),W.add(g,l),l.B=0}}function fl(l,g){return Co(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=g.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=se(E(l.Ga,l,g),Ls(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let H=new vr(this,this.j,l),G=this.o;if(this.S&&(G?(G=C(G),k(G,this.S)):G=this.S),this.m!==null||this.O||(H.H=G,G=null),this.P)e:{for(var g=0,y=0;y<this.i.length;y++){t:{var b=this.i[y];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=y;break e}if(g===4096||y===this.i.length-1){g=y+1;break e}}g=1e3}else g=1e3;g=Dc(this,H,g),y=jt(this.I),We(y,"RID",l),We(y,"CVER",22),this.D&&We(y,"X-HTTP-Session-Id",this.D),Bi(this,y),G&&(this.O?g="headers="+encodeURIComponent(String(Ic(G)))+"&"+g:this.m&&Mo(y,this.m,G)),wr(this.h,H),this.Ua&&We(y,"TYPE","init"),this.P?(We(y,"$req",g),We(y,"SID","null"),H.T=!0,ki(H,y,null)):ki(H,y,g),this.G=2}}else this.G==3&&(l?er(this,l):this.i.length==0||nt(this.h)||er(this))};function er(l,g){var y;g?y=g.l:y=l.U++;let b=jt(l.I);We(b,"SID",l.K),We(b,"RID",y),We(b,"AID",l.T),Bi(l,b),l.m&&l.o&&Mo(b,l.m,l.o),y=new vr(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),g&&(l.i=g.D.concat(l.i)),g=Dc(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),wr(l.h,y),ki(y,b,g)}function Bi(l,g){l.H&&U(l.H,function(y,b){We(g,b,y)}),l.l&&bo({},function(y,b){We(g,b,y)})}function Dc(l,g,y){y=Math.min(l.i.length,y);var b=l.l?E(l.l.Na,l.l,l):null;e:{var H=l.i;let G=-1;for(;;){let re=["count="+y];G==-1?0<y?(G=H[0].g,re.push("ofs="+G)):G=0:re.push("ofs="+G);let Ne=!0;for(let dt=0;dt<y;dt++){let He=H[dt].g,rt=H[dt].map;if(He-=G,0>He)G=Math.max(0,H[dt].g-100),Ne=!1;else try{Ao(rt,re,"req"+He+"_")}catch{b&&b(rt)}}if(Ne){b=re.join("&");break e}}}return l=l.i.splice(0,y),g.D=l,b}function ks(l){if(!l.g&&!l.u){l.Y=1;var g=l.Fa;pe||Q(),ne||(pe(),ne=!0),W.add(g,l),l.v=0}}function Cc(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=se(E(l.Fa,l),Ls(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,bc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=se(E(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),Ns(this),bc(this))};function Os(l){l.A!=null&&(u.clearTimeout(l.A),l.A=null)}function bc(l){l.g=new vr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var g=jt(l.qa);We(g,"RID","rpc"),We(g,"SID",l.K),We(g,"AID",l.T),We(g,"CI",l.F?"0":"1"),!l.F&&l.ja&&We(g,"TO",l.ja),We(g,"TYPE","xmlhttp"),Bi(l,g),l.m&&l.o&&Mo(g,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Fi(jt(g)),y.m=null,y.P=!0,rl(y,l)}n.Za=function(){this.C!=null&&(this.C=null,Ns(this),Cc(this),tt(19))};function Fs(l){l.C!=null&&(u.clearTimeout(l.C),l.C=null)}function pl(l,g){var y=null;if(l.g==g){Fs(l),Os(l),l.g=null;var b=2}else if(Er(l.h,g))y=g.D,Ms(l.h,g),b=1;else return;if(l.G!=0){if(g.o)if(b==1){y=g.m?g.m.length:0,g=Date.now()-g.F;var H=l.B;b=Qn(),Et(b,new Ht(b,y)),Rs(l)}else ks(l);else if(H=g.s,H==3||H==0&&0<g.X||!(b==1&&fl(l,g)||b==2&&Cc(l)))switch(y&&0<y.length&&(g=l.h,g.i=g.i.concat(y)),H){case 1:ti(l,5);break;case 4:ti(l,10);break;case 3:ti(l,6);break;default:ti(l,2)}}}function Ls(l,g){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*g}function ti(l,g){if(l.j.info("Error code "+g),g==2){var y=E(l.fb,l),b=l.Xa;let H=!b;b=new On(b||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ot(b,"https"),Fi(b),H?yc(b.toString(),y):Ec(b.toString(),y)}else tt(2);l.G=0,l.l&&l.l.sa(g),Tc(l),wn(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Tc(l){if(l.G=0,l.ka=[],l.l){let g=De(l.h);(g.length!=0||l.i.length!=0)&&(P(l.ka,g),P(l.ka,l.i),l.h.i.length=0,R(l.i),l.i.length=0),l.l.ra()}}function Ac(l,g,y){var b=y instanceof On?jt(y):new On(y);if(b.g!="")g&&(b.g=g+"."+b.g),Fn(b,b.s);else{var H=u.location;b=H.protocol,g=g?g+"."+H.hostname:H.hostname,H=+H.port;var G=new On(null);b&&ot(G,b),g&&(G.g=g),H&&Fn(G,H),y&&(G.l=y),b=G}return y=l.D,g=l.ya,y&&g&&We(b,y,g),We(b,"VER",l.la),Bi(l,b),b}function ko(l,g,y){if(g&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=l.Ca&&!l.pa?new lt(new pt({eb:y})):new lt(l.pa),g.Ha(l.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ir(){}n=Ir.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Vs(){}Vs.prototype.g=function(l,g){return new Tt(l,g)};function Tt(l,g){yt.call(this),this.g=new hl(g),this.l=l,this.h=g&&g.messageUrlParams||null,l=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(l?l["X-WebChannel-Content-Type"]=g.messageContentType:l={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(l?l["X-WebChannel-Client-Profile"]=g.va:l={"X-WebChannel-Client-Profile":g.va}),this.g.S=l,(l=g&&g.Sb)&&!A(l)&&(this.g.m=l),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!A(g)&&(this.g.D=g,l=this.h,l!==null&&g in l&&(l=this.h,g in l&&delete l[g])),this.j=new ni(this)}I(Tt,yt),Tt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tt.prototype.close=function(){Ro(this.g)},Tt.prototype.o=function(l){var g=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=Si(l),l=y);g.i.push(new Do(g.Ya++,l)),g.G==3&&Rs(g)},Tt.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,Tt.aa.N.call(this)};function Xt(l){xo.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var g=l.__sm__;if(g){e:{for(let y in g){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,g=g!==null&&l in g?g[l]:void 0),this.data=g}else this.data=l}I(Xt,xo);function Sc(){Ni.call(this),this.status=1}I(Sc,Ni);function ni(l){this.g=l}I(ni,Ir),ni.prototype.ua=function(){Et(this.g,"a")},ni.prototype.ta=function(l){Et(this.g,new Xt(l))},ni.prototype.sa=function(l){Et(this.g,new Sc)},ni.prototype.ra=function(){Et(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,Tt.prototype.send=Tt.prototype.o,Tt.prototype.open=Tt.prototype.m,Tt.prototype.close=Tt.prototype.close,V0=vi.createWebChannelTransport=function(){return new Vs},L0=vi.getStatEventTarget=function(){return Qn()},F0=vi.Event=Zn,hh=vi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yn.NO_ERROR=0,Yn.TIMEOUT=8,Yn.HTTP_ERROR=6,_u=vi.ErrorCode=Yn,lc.COMPLETE="complete",O0=vi.EventType=lc,Ds.EventType=Qr,Qr.OPEN="a",Qr.CLOSE="b",Qr.ERROR="c",Qr.MESSAGE="d",yt.prototype.listen=yt.prototype.K,xa=vi.WebChannel=Ds,k0=vi.FetchXmlHttpFactory=pt,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,R0=vi.XhrIo=lt}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});var KD="@firebase/firestore";var Bt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");var Ha="10.13.2";var cs=new to("@firebase/firestore");function vu(){return cs.logLevel}function ce(n,...e){if(cs.logLevel<=Be.DEBUG){let t=e.map(Iv);cs.debug(`Firestore (${Ha}): ${n}`,...t)}}function yi(n,...e){if(cs.logLevel<=Be.ERROR){let t=e.map(Iv);cs.error(`Firestore (${Ha}): ${n}`,...t)}}function Ma(n,...e){if(cs.logLevel<=Be.WARN){let t=e.map(Iv);cs.warn(`Firestore (${Ha}): ${n}`,...t)}}function Iv(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function _e(n="Unexpected state"){let e=`FIRESTORE (${Ha}) INTERNAL ASSERTION FAILED: `+n;throw yi(e),new Error(e)}function et(n,e){n||_e()}function Ie(n,e){return n}var ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},de=class extends An{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Br=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var _h=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},H0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bt.UNAUTHENTICATED))}shutdown(){}},$0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},q0=class{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i,i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve(),s=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Br,e.enqueueRetryable(()=>i(this.currentUser))};let a=()=>{let h=s;e.enqueueRetryable(()=>j(this,null,function*(){yield h.promise,yield i(this.currentUser)}))},u=h=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){let h=this.t.getImmediate({optional:!0});h?u(h):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Br)}},0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string"),new _h(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new Bt(e)}},G0=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},W0=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new G0(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},K0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Z0=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let r=s=>{s.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let a=s.token!==this.R;return this.R=s.token,ce("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(et(typeof t.token=="string"),this.R=t.token,new K0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function $F(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var vh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=$F(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function Ge(n,e){return n<e?-1:n>e?1:0}function Pa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Ut=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Te=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Ut(0,0))}static max(){return new n(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var yh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&_e(),r===void 0?r=e.length-t:r>e.length-t&&_e(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),a=t.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},_t=class n extends yh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},qF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Mn=class n extends yh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return qF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},a=!1;for(;i<e.length;){let u=e[i];if(u==="\\"){if(i+1===e.length)throw new de(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new de(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(s(),i++)}if(s(),a)throw new de(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var fe=class n{constructor(e){this.path=e}static fromPath(e){return new n(_t.fromString(e))}static fromName(e){return new n(_t.fromString(e).popFirst(5))}static empty(){return new n(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return _t.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new _t(e.slice()))}};var Q0=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Q0.UNKNOWN_ID=-1;function GF(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new Ut(t+1,0):new Ut(t,r));return new us(i,fe.empty(),e)}function WF(n){return new us(n.readTime,n.key,-1)}var us=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Te.min(),fe.empty(),-1)}static max(){return new n(Te.max(),fe.empty(),-1)}};function KF(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=fe.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}var ZF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Y0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Fu(n){return j(this,null,function*(){if(n.code!==ee.FAILED_PRECONDITION||n.message!==ZF)throw n;ce("LocalStore","Unexpectedly lost primary lease")})}var te=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,a=!1;e.forEach(u=>{++i,u.next(()=>{++s,a&&s===i&&t()},h=>r(h))}),a=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,a=new Array(s),u=0;for(let h=0;h<s;h++){let f=h;t(e[f]).next(m=>{a[f]=m,++u,u===s&&r(a)},m=>i(m))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function QF(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Lu(n){return n.name==="IndexedDbTransactionError"}var DC=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Wh(n){return n==null}function Du(n){return n===0&&1/n==-1/0}function YF(n){return typeof n=="number"&&Number.isInteger(n)&&!Du(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var JF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],eU=[...JF,"documentOverlays"],XF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],e2=XF,t2=[...e2,"indexConfiguration","indexState","indexEntries"];var tU=[...t2,"globals"];function ZD(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $a(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function CC(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var vt=class n{constructor(e,t){this.comparator=e,this.root=t||jr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ba(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ba(this.root,e,this.comparator,!1)}getReverseIterator(){return new ba(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ba(this.root,e,this.comparator,!0)}},ba=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},jr=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();let e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}};jr.EMPTY=null,jr.RED=!0,jr.BLACK=!1;jr.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,t,r,i,s){return this}insert(e,t,r){return new jr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Kt=class n{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Eh(this.data.getIterator())}getIteratorFrom(e){return new Eh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Eh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Vr=class n{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Kt(Mn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Pa(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var wh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Zt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wh("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Zt.EMPTY_BYTE_STRING=new Zt("");var n2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ei(n){if(et(!!n),typeof n=="string"){let e=0,t=n2.exec(n);if(et(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(n.seconds),nanos:ht(n.nanos)}}function ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ao(n){return typeof n=="string"?Zt.fromBase64String(n):Zt.fromUint8Array(n)}function Dv(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Cv(n){let e=n.mapValue.fields.__previous_value__;return Dv(e)?Cv(e):e}function Cu(n){let e=Ei(n.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}var J0=class{constructor(e,t,r,i,s,a,u,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f}},xh=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var fh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ls(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Dv(n)?4:TC(n)?9007199254740991:bC(n)?10:11:_e()}function Hr(n,e){if(n===e)return!0;let t=ls(n);if(t!==ls(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cu(n).isEqual(Cu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let a=Ei(i.timestampValue),u=Ei(s.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return ao(i.bytesValue).isEqual(ao(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return ht(i.geoPointValue.latitude)===ht(s.geoPointValue.latitude)&&ht(i.geoPointValue.longitude)===ht(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ht(i.integerValue)===ht(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let a=ht(i.doubleValue),u=ht(s.doubleValue);return a===u?Du(a)===Du(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return Pa(n.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return function(i,s){let a=i.mapValue.fields||{},u=s.mapValue.fields||{};if(ZD(a)!==ZD(u))return!1;for(let h in a)if(a.hasOwnProperty(h)&&(u[h]===void 0||!Hr(a[h],u[h])))return!1;return!0}(n,e);default:return _e()}}function bu(n,e){return(n.values||[]).find(t=>Hr(t,e))!==void 0}function Na(n,e){if(n===e)return 0;let t=ls(n),r=ls(e);if(t!==r)return Ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return function(s,a){let u=ht(s.integerValue||s.doubleValue),h=ht(a.integerValue||a.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return QD(n.timestampValue,e.timestampValue);case 4:return QD(Cu(n),Cu(e));case 5:return Ge(n.stringValue,e.stringValue);case 6:return function(s,a){let u=ao(s),h=ao(a);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){let u=s.split("/"),h=a.split("/");for(let f=0;f<u.length&&f<h.length;f++){let m=Ge(u[f],h[f]);if(m!==0)return m}return Ge(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){let u=Ge(ht(s.latitude),ht(a.latitude));return u!==0?u:Ge(ht(s.longitude),ht(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return YD(n.arrayValue,e.arrayValue);case 10:return function(s,a){var u,h,f,m;let v=s.fields||{},E=a.fields||{},w=(u=v.value)===null||u===void 0?void 0:u.arrayValue,I=(h=E.value)===null||h===void 0?void 0:h.arrayValue,R=Ge(((f=w?.values)===null||f===void 0?void 0:f.length)||0,((m=I?.values)===null||m===void 0?void 0:m.length)||0);return R!==0?R:YD(w,I)}(n.mapValue,e.mapValue);case 11:return function(s,a){if(s===fh.mapValue&&a===fh.mapValue)return 0;if(s===fh.mapValue)return 1;if(a===fh.mapValue)return-1;let u=s.fields||{},h=Object.keys(u),f=a.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let v=0;v<h.length&&v<m.length;++v){let E=Ge(h[v],m[v]);if(E!==0)return E;let w=Na(u[h[v]],f[m[v]]);if(w!==0)return w}return Ge(h.length,m.length)}(n.mapValue,e.mapValue);default:throw _e()}}function QD(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);let t=Ei(n),r=Ei(e),i=Ge(t.seconds,r.seconds);return i!==0?i:Ge(t.nanos,r.nanos)}function YD(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Na(t[i],r[i]);if(s)return s}return Ge(t.length,r.length)}function Ra(n){return X0(n)}function X0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Ei(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ao(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return fe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=X0(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let a of r)s?s=!1:i+=",",i+=`${a}:${X0(t.fields[a])}`;return i+"}"}(n.mapValue):_e()}function e_(n){return!!n&&"integerValue"in n}function bv(n){return!!n&&"arrayValue"in n}function JD(n){return!!n&&"nullValue"in n}function XD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mh(n){return!!n&&"mapValue"in n}function bC(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Eu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return $a(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Eu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Eu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function TC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var dr=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(t)}setAll(e){let t=Mn.emptyPath(),r={},i=[];e.forEach((a,u)=>{if(!t.isImmediateParentOf(u)){let h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=u.popLast()}a?r[u.lastSegment()]=Eu(a):i.push(u.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());mh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];mh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){$a(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Eu(this.value))}};function AC(n){let e=[];return $a(n.fields,(t,r)=>{let i=new Mn([t]);if(mh(r)){let s=AC(r.mapValue).fields;if(s.length===0)e.push(i);else for(let a of s)e.push(i.child(a))}else e.push(i)}),new Vr(e)}var fr=class n{constructor(e,t,r,i,s,a,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new n(e,0,Te.min(),Te.min(),Te.min(),dr.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Te.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Te.min(),Te.min(),dr.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Te.min(),Te.min(),dr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ka=class{constructor(e,t){this.position=e,this.inclusive=t}};function eC(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],a=n.position[i];if(s.field.isKeyField()?r=fe.comparator(fe.fromName(a.referenceValue),t.key):r=Na(a,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function tC(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hr(n.position[t],e.position[t]))return!1;return!0}var Oa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function r2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Ih=class{},Pt=class n extends Ih{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new n_(e,t,r):t==="array-contains"?new o_(e,r):t==="in"?new s_(e,r):t==="not-in"?new a_(e,r):t==="array-contains-any"?new c_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new r_(e,r):new i_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Na(t,this.value)):t!==null&&ls(this.value)===ls(t)&&this.matchesComparison(Na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},$r=class n extends Ih{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return SC(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function SC(n){return n.op==="and"}function MC(n){return i2(n)&&SC(n)}function i2(n){for(let e of n.filters)if(e instanceof $r)return!1;return!0}function t_(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+Ra(n.value);if(MC(n))return n.filters.map(e=>t_(e)).join(",");{let e=n.filters.map(t=>t_(t)).join(",");return`${n.op}(${e})`}}function PC(n,e){return n instanceof Pt?function(r,i){return i instanceof Pt&&r.op===i.op&&r.field.isEqual(i.field)&&Hr(r.value,i.value)}(n,e):n instanceof $r?function(r,i){return i instanceof $r&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,u)=>s&&PC(a,i.filters[u]),!0):!1}(n,e):void _e()}function NC(n){return n instanceof Pt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ra(t.value)}`}(n):n instanceof $r?function(t){return t.op.toString()+" {"+t.getFilters().map(NC).join(" ,")+"}"}(n):"Filter"}var n_=class extends Pt{constructor(e,t,r){super(e,t,r),this.key=fe.fromName(r.referenceValue)}matches(e){let t=fe.comparator(e.key,this.key);return this.matchesComparison(t)}},r_=class extends Pt{constructor(e,t){super(e,"in",t),this.keys=RC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},i_=class extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=RC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function RC(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>fe.fromName(r.referenceValue))}var o_=class extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return bv(t)&&bu(t.arrayValue,this.value)}},s_=class extends Pt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&bu(this.value.arrayValue,t)}},a_=class extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!bu(this.value.arrayValue,t)}},c_=class extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!bv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>bu(this.value.arrayValue,r))}};var u_=class{constructor(e,t=null,r=[],i=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=u,this.ue=null}};function nC(n,e=null,t=[],r=[],i=null,s=null,a=null){return new u_(n,e,t,r,i,s,a)}function Tv(n){let e=Ie(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>t_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Wh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ra(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ra(r)).join(",")),e.ue=t}return e.ue}function Av(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!r2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!PC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tC(n.startAt,e.startAt)&&tC(n.endAt,e.endAt)}function l_(n){return fe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Fa=class{constructor(e,t=null,r=[],i=[],s=null,a="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function o2(n,e,t,r,i,s,a,u){return new Fa(n,e,t,r,i,s,a,u)}function kC(n){return new Fa(n)}function rC(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function s2(n){return n.collectionGroup!==null}function wu(n){let e=Ie(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new Kt(Mn.comparator);return a.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Oa(s,r))}),t.has(Mn.keyField().canonicalString())||e.ce.push(new Oa(Mn.keyField(),r))}return e.ce}function Ur(n){let e=Ie(n);return e.le||(e.le=a2(e,wu(n))),e.le}function a2(n,e){if(n.limitType==="F")return nC(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Oa(i.field,s)});let t=n.endAt?new ka(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ka(n.startAt.position,n.startAt.inclusive):null;return nC(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function d_(n,e,t){return new Fa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kh(n,e){return Av(Ur(n),Ur(e))&&n.limitType===e.limitType}function OC(n){return`${Tv(Ur(n))}|lt:${n.limitType}`}function Ia(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>NC(i)).join(", ")}]`),Wh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ra(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ra(i)).join(",")),`Target(${r})`}(Ur(n))}; limitType=${n.limitType})`}function Zh(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):fe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of wu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(a,u,h){let f=eC(a,u,h);return a.inclusive?f<=0:f<0}(r.startAt,wu(r),i)||r.endAt&&!function(a,u,h){let f=eC(a,u,h);return a.inclusive?f>=0:f>0}(r.endAt,wu(r),i))}(n,e)}function c2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function FC(n){return(e,t)=>{let r=!1;for(let i of wu(n)){let s=u2(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function u2(n,e,t){let r=n.field.isKeyField()?fe.comparator(e.key,t.key):function(s,a,u){let h=a.data.field(s),f=u.data.field(s);return h!==null&&f!==null?Na(h,f):_e()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return _e()}}var co=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$a(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return CC(this.inner)}size(){return this.innerSize}};var l2=new vt(fe.comparator);function wi(){return l2}var LC=new vt(fe.comparator);function yu(...n){let e=LC;for(let t of n)e=e.insert(t.key,t);return e}function VC(n){let e=LC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function os(){return xu()}function BC(){return xu()}function xu(){return new co(n=>n.toString(),(n,e)=>n.isEqual(e))}var d2=new vt(fe.comparator),h2=new Kt(fe.comparator);function je(...n){let e=h2;for(let t of n)e=e.add(t);return e}var f2=new Kt(Ge);function p2(){return f2}function Sv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Du(e)?"-0":e}}function jC(n){return{integerValue:""+n}}function m2(n,e){return YF(e)?jC(e):Sv(n,e)}var La=class{constructor(){this._=void 0}};function g2(n,e,t){return n instanceof Va?function(i,s){let a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Dv(s)&&(s=Cv(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(t,e):n instanceof ds?zC(n,e):n instanceof hs?HC(n,e):function(i,s){let a=UC(i,s),u=iC(a)+iC(i.Pe);return e_(a)&&e_(i.Pe)?jC(u):Sv(i.serializer,u)}(n,e)}function _2(n,e,t){return n instanceof ds?zC(n,e):n instanceof hs?HC(n,e):t}function UC(n,e){return n instanceof Ba?function(r){return e_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Va=class extends La{},ds=class extends La{constructor(e){super(),this.elements=e}};function zC(n,e){let t=$C(e);for(let r of n.elements)t.some(i=>Hr(i,r))||t.push(r);return{arrayValue:{values:t}}}var hs=class extends La{constructor(e){super(),this.elements=e}};function HC(n,e){let t=$C(e);for(let r of n.elements)t=t.filter(i=>!Hr(i,r));return{arrayValue:{values:t}}}var Ba=class extends La{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function iC(n){return ht(n.integerValue||n.doubleValue)}function $C(n){return bv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function v2(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ds&&i instanceof ds||r instanceof hs&&i instanceof hs?Pa(r.elements,i.elements,Hr):r instanceof Ba&&i instanceof Ba?Hr(r.Pe,i.Pe):r instanceof Va&&i instanceof Va}(n.transform,e.transform)}var h_=class{constructor(e,t){this.version=e,this.transformResults=t}},as=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function gh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ja=class{};function qC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Dh(n.key,as.none()):new fs(n.key,n.data,as.none());{let t=n.data,r=dr.empty(),i=new Kt(Mn.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new xi(n.key,r,new Vr(i.toArray()),as.none())}}function y2(n,e,t){n instanceof fs?function(i,s,a){let u=i.value.clone(),h=sC(i.fieldTransforms,s,a.transformResults);u.setAll(h),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof xi?function(i,s,a){if(!gh(i.precondition,s))return void s.convertToUnknownDocument(a.version);let u=sC(i.fieldTransforms,s,a.transformResults),h=s.data;h.setAll(GC(i)),h.setAll(u),s.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,e,t):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function Iu(n,e,t,r){return n instanceof fs?function(s,a,u,h){if(!gh(s.precondition,a))return u;let f=s.value.clone(),m=aC(s.fieldTransforms,h,a);return f.setAll(m),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof xi?function(s,a,u,h){if(!gh(s.precondition,a))return u;let f=aC(s.fieldTransforms,h,a),m=a.data;return m.setAll(GC(s)),m.setAll(f),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(s,a,u){return gh(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(n,e,t)}function E2(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=UC(r.transform,i||null);s!=null&&(t===null&&(t=dr.empty()),t.set(r.field,s))}return t||null}function oC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Pa(r,i,(s,a)=>v2(s,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var fs=class extends ja{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},xi=class extends ja{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function GC(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function sC(n,e,t){let r=new Map;et(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],a=s.transform,u=e.data.field(s.field);r.set(s.field,_2(a,u,t[i]))}return r}function aC(n,e,t){let r=new Map;for(let i of n){let s=i.transform,a=t.data.field(i.field);r.set(i.field,g2(s,a,e))}return r}var Dh=class extends ja{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},f_=class extends ja{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var p_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&y2(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Iu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Iu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=BC();return this.mutations.forEach(i=>{let s=e.get(i.key),a=s.overlayedDocument,u=this.applyToLocalView(a,s.mutatedFields);u=t.has(i.key)?null:u;let h=qC(a,u);h!==null&&r.set(i.key,h),a.isValidDocument()||a.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),je())}isEqual(e){return this.batchId===e.batchId&&Pa(this.mutations,e.mutations,(t,r)=>oC(t,r))&&Pa(this.baseMutations,e.baseMutations,(t,r)=>oC(t,r))}},m_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){et(e.mutations.length===r.length);let i=function(){return d2}(),s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new n(e,t,r,i)}};var g_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var __=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Dt,$e;function w2(n){switch(n){default:return _e();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function WC(n){if(n===void 0)return yi("GRPC error has no .code"),ee.UNKNOWN;switch(n){case Dt.OK:return ee.OK;case Dt.CANCELLED:return ee.CANCELLED;case Dt.UNKNOWN:return ee.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ee.INTERNAL;case Dt.UNAVAILABLE:return ee.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ee.NOT_FOUND;case Dt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Dt.ABORTED:return ee.ABORTED;case Dt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Dt.DATA_LOSS:return ee.DATA_LOSS;default:return _e()}}($e=Dt||(Dt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";var cC=null;function x2(){return new TextEncoder}var I2=new oo([4294967295,4294967295],0);function uC(n){let e=x2().encode(n),t=new N0;return t.update(e),new Uint8Array(t.digest())}function lC(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new oo([t,r],0),new oo([i,s],0)]}var v_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ss(`Invalid padding: ${t}`);if(r<0)throw new ss(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ss(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ss(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=oo.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(oo.fromNumber(r)));return i.compare(I2)===1&&(i=new oo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=uC(e),[r,i]=lC(t);for(let s=0;s<this.hashCount;s++){let a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new n(s,i,t);return r.forEach(u=>a.insert(u)),a}insert(e){if(this.Ie===0)return;let t=uC(e),[r,i]=lC(t);for(let s=0;s<this.hashCount;s++){let a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ss=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ch=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Te.min(),i,new vt(Ge),wi(),je())}},Tu=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,je(),je(),je())}};var Aa=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},bh=class{constructor(e,t){this.targetId=e,this.me=t}},Th=class{constructor(e,t,r=Zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Ah=class{constructor(){this.fe=0,this.ge=hC(),this.pe=Zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=je(),t=je(),r=je();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:_e()}}),new Tu(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=hC()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},y_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=wi(),this.qe=dC(),this.Qe=new vt(Ge)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:_e()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(l_(s))if(r===0){let a=new fe(s.path);this.Ue(t,a,fr.newNoDocument(a,Te.min()))}else et(r===1);else{let a=this.Ye(t);if(a!==r){let u=this.Ze(e),h=u?this.Xe(u,e,a):1;if(h!==0){this.je(t);let f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,f)}cC?.et(function(m,v,E,w,I){var R,P,D,A,V,B;let z={localCacheCount:m,existenceFilterCount:v.count,databaseId:E.database,projectId:E.projectId},U=v.unchangedNames;return U&&(z.bloomFilter={applied:I===0,hashCount:(R=U?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(A=(D=(P=U?.bits)===null||P===void 0?void 0:P.bitmap)===null||D===void 0?void 0:D.length)!==null&&A!==void 0?A:0,padding:(B=(V=U?.bits)===null||V===void 0?void 0:V.padding)!==null&&B!==void 0?B:0,mightContain:N=>{var C;return(C=w?.mightContain(N))!==null&&C!==void 0&&C}}),z}(a,e.me,this.Le.tt(),u,h))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,a,u;try{a=ao(r).toUint8Array()}catch(h){if(h instanceof wh)return Ma("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new v_(a,i,s)}catch(h){return Ma(h instanceof ss?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.Ie===0?null:u}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let a=this.Le.tt(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,a)=>{let u=this.Je(a);if(u){if(s.current&&l_(u.target)){let h=new fe(u.target.path);this.ke.get(h)!==null||this.it(a,h)||this.Ue(a,h,fr.newNoDocument(h,e))}s.be&&(t.set(a,s.ve()),s.Ce())}});let r=je();this.qe.forEach((s,a)=>{let u=!0;a.forEachWhile(h=>{let f=this.Je(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));let i=new Ch(e,t,this.Qe,this.ke,r);return this.ke=wi(),this.qe=dC(),this.Qe=new vt(Ge),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Ah,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Kt(Ge),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ah),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function dC(){return new vt(fe.comparator)}function hC(){return new vt(fe.comparator)}var D2={asc:"ASCENDING",desc:"DESCENDING"},C2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b2={and:"AND",or:"OR"},E_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function w_(n,e){return n.useProto3Json||Wh(e)?e:{value:e}}function Sh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function T2(n,e){return Sh(n,e.toTimestamp())}function zr(n){return et(!!n),Te.fromTimestamp(function(t){let r=Ei(t);return new Ut(r.seconds,r.nanos)}(n))}function Mv(n,e){return x_(n,e).canonicalString()}function x_(n,e){let t=function(i){return new _t(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ZC(n){let e=_t.fromString(n);return et(eb(e)),e}function I_(n,e){return Mv(n.databaseId,e.path)}function B0(n,e){let t=ZC(e);if(t.get(1)!==n.databaseId.projectId)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new fe(YC(t))}function QC(n,e){return Mv(n.databaseId,e)}function A2(n){let e=ZC(n);return e.length===4?_t.emptyPath():YC(e)}function D_(n){return new _t(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function YC(n){return et(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function fC(n,e,t){return{name:I_(n,e),fields:t.value.mapValue.fields}}function S2(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,m){return f.useProto3Json?(et(m===void 0||typeof m=="string"),Zt.fromBase64String(m||"")):(et(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Zt.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(f){let m=f.code===void 0?ee.UNKNOWN:WC(f.code);return new de(m,f.message||"")}(a);t=new Th(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=B0(n,r.document.name),s=zr(r.document.updateTime),a=r.document.createTime?zr(r.document.createTime):Te.min(),u=new dr({mapValue:{fields:r.document.fields}}),h=fr.newFoundDocument(i,s,a,u),f=r.targetIds||[],m=r.removedTargetIds||[];t=new Aa(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=B0(n,r.document),s=r.readTime?zr(r.readTime):Te.min(),a=fr.newNoDocument(i,s),u=r.removedTargetIds||[];t=new Aa([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=B0(n,r.document),s=r.removedTargetIds||[];t=new Aa([],s,i,null)}else{if(!("filter"in e))return _e();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,a=new __(i,s),u=r.targetId;t=new bh(u,a)}}return t}function M2(n,e){let t;if(e instanceof fs)t={update:fC(n,e.key,e.value)};else if(e instanceof Dh)t={delete:I_(n,e.key)};else if(e instanceof xi)t={update:fC(n,e.key,e.data),updateMask:B2(e.fieldMask)};else{if(!(e instanceof f_))return _e();t={verify:I_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,a){let u=a.transform;if(u instanceof Va)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ds)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof hs)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ba)return{fieldPath:a.field.canonicalString(),increment:u.Pe};throw _e()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:T2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:_e()}(n,e.precondition)),t}function P2(n,e){return n&&n.length>0?(et(e!==void 0),n.map(t=>function(i,s){let a=i.updateTime?zr(i.updateTime):zr(s);return a.isEqual(Te.min())&&(a=zr(s)),new h_(a,i.transformResults||[])}(t,e))):[]}function N2(n,e){return{documents:[QC(n,e.path)]}}function R2(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=QC(n,i);let s=function(f){if(f.length!==0)return XC($r.create(f,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let a=function(f){if(f.length!==0)return f.map(m=>function(E){return{field:Da(E.field),direction:F2(E.dir)}}(m))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);let u=w_(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:t,parent:i}}function k2(n){let e=A2(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){et(r===1);let m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=function(v){let E=JC(v);return E instanceof $r&&MC(E)?E.getFilters():[E]}(t.where));let a=[];t.orderBy&&(a=function(v){return v.map(E=>function(I){return new Oa(Ca(I.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(E))}(t.orderBy));let u=null;t.limit&&(u=function(v){let E;return E=typeof v=="object"?v.value:v,Wh(E)?null:E}(t.limit));let h=null;t.startAt&&(h=function(v){let E=!!v.before,w=v.values||[];return new ka(w,E)}(t.startAt));let f=null;return t.endAt&&(f=function(v){let E=!v.before,w=v.values||[];return new ka(w,E)}(t.endAt)),o2(e,i,a,s,u,"F",h,f)}function O2(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function JC(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ca(t.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ca(t.unaryFilter.field);return Pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ca(t.unaryFilter.field);return Pt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=Ca(t.unaryFilter.field);return Pt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(n):n.fieldFilter!==void 0?function(t){return Pt.create(Ca(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return $r.create(t.compositeFilter.filters.map(r=>JC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e()}}(t.compositeFilter.op))}(n):_e()}function F2(n){return D2[n]}function L2(n){return C2[n]}function V2(n){return b2[n]}function Da(n){return{fieldPath:n.canonicalString()}}function Ca(n){return Mn.fromServerFormat(n.fieldPath)}function XC(n){return n instanceof Pt?function(t){if(t.op==="=="){if(XD(t.value))return{unaryFilter:{field:Da(t.field),op:"IS_NAN"}};if(JD(t.value))return{unaryFilter:{field:Da(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(XD(t.value))return{unaryFilter:{field:Da(t.field),op:"IS_NOT_NAN"}};if(JD(t.value))return{unaryFilter:{field:Da(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Da(t.field),op:L2(t.op),value:t.value}}}(n):n instanceof $r?function(t){let r=t.getFilters().map(i=>XC(i));return r.length===1?r[0]:{compositeFilter:{op:V2(t.op),filters:r}}}(n):_e()}function B2(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function eb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Au=class n{constructor(e,t,r,i,s=Te.min(),a=Te.min(),u=Zt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var C_=class{constructor(e){this.ct=e}};function j2(n){let e=k2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?d_(e,e.limit,"L"):e}var Mh=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ht(e.integerValue));else if("doubleValue"in e){let r=ht(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Du(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Ei(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(ao(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?TC(e)?this.dt(t,Number.MAX_SAFE_INTEGER):bC(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):_e()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let a="value",u=((i=(r=s[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(ht(u)),this.Vt(a,t),this.Tt(s[a],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),fe.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Mh.vt=new Mh;var b_=class{constructor(){this.un=new T_}addToCollectionParentIndex(e,t){return this.un.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(us.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(us.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}},T_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Kt(_t.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kt(_t.comparator)).toArray()}};var rU=new Uint8Array(0);var Lr=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Lr.DEFAULT_COLLECTION_PERCENTILE=10,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lr.DEFAULT=new Lr(41943040,Lr.DEFAULT_COLLECTION_PERCENTILE,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lr.DISABLED=new Lr(-1,0,0);var Su=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var A_=class{constructor(){this.changes=new co(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var S_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var M_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Iu(r.mutation,i,Vr.empty(),Ut.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,t,r=je()){let i=os();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let a=yu();return s.forEach((u,h)=>{a=a.insert(u,h.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){let r=os();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,je()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,u)=>{t.set(a,u)})})}computeViews(e,t,r,i){let s=wi(),a=xu(),u=function(){return xu()}();return t.forEach((h,f)=>{let m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof xi)?s=s.insert(f.key,f):m!==void 0?(a.set(f.key,m.mutation.getFieldMask()),Iu(m.mutation,f,m.mutation.getFieldMask(),Ut.now())):a.set(f.key,Vr.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((f,m)=>a.set(f,m)),t.forEach((f,m)=>{var v;return u.set(f,new S_(m,(v=a.get(f))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,t){let r=xu(),i=new vt((a,u)=>a-u),s=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(let u of a)u.keys().forEach(h=>{let f=t.get(h);if(f===null)return;let m=r.get(h)||Vr.empty();m=u.applyToLocalView(f,m),r.set(h,m);let v=(i.get(u.batchId)||je()).add(h);i=i.insert(u.batchId,v)})}).next(()=>{let a=[],u=i.getReverseIterator();for(;u.hasNext();){let h=u.getNext(),f=h.key,m=h.value,v=BC();m.forEach(E=>{if(!s.has(E)){let w=qC(t.get(E),r.get(E));w!==null&&v.set(E,w),s=s.add(E)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,v))}return te.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(a){return fe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):s2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):te.resolve(os()),u=-1,h=s;return a.next(f=>te.forEach(f,(m,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),s.get(m)?te.resolve():this.remoteDocumentCache.getEntry(e,m).next(E=>{h=h.insert(m,E)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,h,f,je())).next(m=>({batchId:u,changes:VC(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fe(t)).next(r=>{let i=yu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,a=yu();return this.indexManager.getCollectionParents(e,s).next(u=>te.forEach(u,h=>{let f=function(v,E){return new Fa(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((v,E)=>{a=a.insert(v,E)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(a=>{s.forEach((h,f)=>{let m=f.getKey();a.get(m)===null&&(a=a.insert(m,fr.newInvalidDocument(m)))});let u=yu();return a.forEach((h,f)=>{let m=s.get(h);m!==void 0&&Iu(m.mutation,f,Vr.empty(),Ut.now()),Zh(t,f)&&(u=u.insert(h,f))}),u})}};var P_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return te.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:zr(i.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:j2(i.bundledQuery),readTime:zr(i.readTime)}}(t)),te.resolve()}};var N_=class{constructor(){this.overlays=new vt(fe.comparator),this.Ir=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){let r=os();return te.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),te.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){let i=os(),s=t.length+1,a=new fe(t.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){let h=u.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return te.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new vt((f,m)=>f-m),a=this.overlays.getIterator();for(;a.hasNext();){let f=a.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let m=s.get(f.largestBatchId);m===null&&(m=os(),s=s.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}let u=os(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=i)););return te.resolve(u)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new g_(t,r));let s=this.Ir.get(t);s===void 0&&(s=je(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}};var R_=class{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}};var Mu=class{constructor(){this.Tr=new Kt(Ct.Er),this.dr=new Kt(Ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Ct(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Ct(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new fe(new _t([])),r=new Ct(t,e),i=new Ct(t,e+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new fe(new _t([])),r=new Ct(t,e),i=new Ct(t,e+1),s=je();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){let t=new Ct(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ct=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return fe.comparator(e.key,t.key)||Ge(e.wr,t.wr)}static Ar(e,t){return Ge(e.wr,t.wr)||fe.comparator(e.key,t.key)}};var k_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Kt(Ct.Er)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new p_(s,t,r,i);this.mutationQueue.push(a);for(let u of i)this.br=this.br.add(new Ct(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return te.resolve(a)}lookupMutationBatch(e,t){return te.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ct(t,0),i=new Ct(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{let u=this.Dr(a.wr);s.push(u)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Kt(Ge);return t.forEach(i=>{let s=new Ct(i,0),a=new Ct(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],u=>{r=r.add(u.wr)})}),te.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;fe.isDocumentKey(s)||(s=s.child(""));let a=new Ct(new fe(s),0),u=new Kt(Ge);return this.br.forEachWhile(h=>{let f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(h.wr)),!0)},a),te.resolve(this.Cr(u))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){et(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return te.forEach(t.mutations,i=>{let s=new Ct(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Ct(t,0),i=this.br.firstAfterOrEqual(r);return te.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var O_=class{constructor(e){this.Mr=e,this.docs=function(){return new vt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():fr.newInvalidDocument(t))}getEntries(e,t){let r=wi();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():fr.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=wi(),a=t.path,u=new fe(a.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){let{key:f,value:{document:m}}=h.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||KF(WF(m),r)<=0||(i.has(m.key)||Zh(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return te.resolve(s)}getAllFromCollectionGroup(e,t,r,i){_e()}Or(e,t){return te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new F_(this)}getSize(e){return te.resolve(this.size)}},F_=class extends A_{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),te.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var L_=class{constructor(e){this.persistence=e,this.Nr=new co(t=>Tv(t),Av),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Mu,this.targetCount=0,this.kr=Su.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),te.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Su(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Kn(t),te.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Nr.forEach((a,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),te.waitFor(s).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),te.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),te.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.Br.containsKey(t))}};var V_=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new DC(0),this.Kr=!1,this.Kr=!0,this.$r=new R_,this.referenceDelegate=e(this),this.Ur=new L_(this),this.indexManager=new b_,this.remoteDocumentCache=function(i){return new O_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new C_(t),this.Gr=new P_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new N_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new k_(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){ce("MemoryPersistence","Starting transaction:",e);let i=new B_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return te.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},B_=class extends Y0{constructor(e){super(),this.currentSequenceNumber=e}},j_=class n{constructor(e){this.persistence=e,this.Jr=new Mu,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw _e()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),te.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Xr,r=>{let i=fe.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,Te.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return te.or([()=>te.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var U_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=je(),i=je();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var z_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var H_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return AD()?8:QF(Vt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Yi(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;let a=new z_;return this.Xi(e,t,a).next(u=>{if(s.result=u,this.zi)return this.es(e,t,a,u.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(vu()<=Be.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Ia(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),te.resolve()):(vu()<=Be.DEBUG&&ce("QueryEngine","Query:",Ia(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(vu()<=Be.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Ia(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(t))):te.resolve())}Yi(e,t){if(rC(t))return te.resolve(null);let r=Ur(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=d_(t,null,"F"),r=Ur(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let a=je(...s);return this.Ji.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{let f=this.ts(t,u);return this.ns(t,f,a,h.readTime)?this.Yi(e,d_(t,null,"F")):this.rs(e,f,t,h)}))})))}Zi(e,t,r,i){return rC(t)||i.isEqual(Te.min())?te.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let a=this.ts(t,s);return this.ns(t,a,r,i)?te.resolve(null):(vu()<=Be.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ia(t)),this.rs(e,a,t,GF(i,-1)).next(u=>u))})}ts(e,t){let r=new Kt(FC(e));return t.forEach((i,s)=>{Zh(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return vu()<=Be.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Ia(t)),this.Ji.getDocumentsMatchingQuery(e,t,us.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}};var $_=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new vt(Ge),this._s=new co(s=>Tv(s),Av),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function U2(n,e,t,r){return new $_(n,e,t,r)}function tb(n,e){return j(this,null,function*(){let t=Ie(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let a=[],u=[],h=je();for(let f of i){a.push(f.batchId);for(let m of f.mutations)h=h.add(m.key)}for(let f of s){u.push(f.batchId);for(let m of f.mutations)h=h.add(m.key)}return t.localDocuments.getDocuments(r,h).next(f=>({hs:f,removedBatchIds:a,addedBatchIds:u}))})})})}function z2(n,e){let t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(u,h,f,m){let v=f.batch,E=v.keys(),w=te.resolve();return E.forEach(I=>{w=w.next(()=>m.getEntry(h,I)).next(R=>{let P=f.docVersions.get(I);et(P!==null),R.version.compareTo(P)<0&&(v.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),m.addEntry(R)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(h,v))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=je();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function nb(n){let e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function H2(n,e){let t=Ie(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let a=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let u=[];e.targetChanges.forEach((m,v)=>{let E=i.get(v);if(!E)return;u.push(t.Ur.removeMatchingKeys(s,m.removedDocuments,v).next(()=>t.Ur.addMatchingKeys(s,m.addedDocuments,v)));let w=E.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(Zt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):m.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(m.resumeToken,r)),i=i.insert(v,w),function(R,P,D){return R.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(E,w,m)&&u.push(t.Ur.updateTargetData(s,w))});let h=wi(),f=je();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))}),u.push($2(s,a,e.documentUpdates).next(m=>{h=m.Ps,f=m.Is})),!r.isEqual(Te.min())){let m=t.Ur.getLastRemoteSnapshotVersion(s).next(v=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(m)}return te.waitFor(u).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,h,f)).next(()=>h)}).then(s=>(t.os=i,s))}function $2(n,e,t){let r=je(),i=je();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let a=wi();return t.forEach((u,h)=>{let f=s.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(Te.min())?(e.removeEntry(u,h.readTime),a=a.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),a=a.insert(u,h)):ce("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{Ps:a,Is:i}})}function q2(n,e){let t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function G2(n,e){let t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,te.resolve(i)):t.Ur.allocateTargetId(r).next(a=>(i=new Au(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function q_(n,e,t){return j(this,null,function*(){let r=Ie(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Lu(a))throw a;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function pC(n,e,t){let r=Ie(n),i=Te.min(),s=je();return r.persistence.runTransaction("Execute query","readwrite",a=>function(h,f,m){let v=Ie(h),E=v._s.get(m);return E!==void 0?te.resolve(v.os.get(E)):v.Ur.getTargetData(f,m)}(r,a,Ur(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,u.targetId).next(h=>{s=h})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,t?i:Te.min(),t?s:je())).next(u=>(W2(r,c2(e),u),{documents:u,Ts:s})))}function W2(n,e,t){let r=n.us.get(e)||Te.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}var Ph=class{constructor(){this.activeTargetIds=p2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var G_=class{constructor(){this.so=new Ph,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ph,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var W_=class{_o(e){}shutdown(){}};var Nh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ph=null;function j0(){return ph===null?ph=function(){return 268435456+Math.round(2147483648*Math.random())}():ph++,"0x"+ph.toString(16)}var K2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var K_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Wt="WebChannelConnection",Z_=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,a){let u=j0(),h=this.xo(t,r.toUriEncodedString());ce("RestConnection",`Sending RPC '${t}' ${u}:`,h,i);let f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,s,a),this.No(t,h,f,i).then(m=>(ce("RestConnection",`Received RPC '${t}' ${u}: `,m),m),m=>{throw Ma("RestConnection",`RPC '${t}' ${u} failed with error: `,m,"url: ",h,"request:",i),m})}Lo(t,r,i,s,a,u){return this.Mo(t,r,i,s,a)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ha}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>t[a]=s),i&&i.headers.forEach((s,a)=>t[a]=s)}xo(t,r){let i=K2[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let s=j0();return new Promise((a,u)=>{let h=new R0;h.setWithCredentials(!0),h.listenOnce(O0.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case _u.NO_ERROR:let m=h.getResponseJson();ce(Wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),a(m);break;case _u.TIMEOUT:ce(Wt,`RPC '${e}' ${s} timed out`),u(new de(ee.DEADLINE_EXCEEDED,"Request time out"));break;case _u.HTTP_ERROR:let v=h.getStatus();if(ce(Wt,`RPC '${e}' ${s} failed with status:`,v,"response text:",h.getResponseText()),v>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);let w=E?.error;if(w&&w.status&&w.message){let I=function(P){let D=P.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(D)>=0?D:ee.UNKNOWN}(w.status);u(new de(I,w.message))}else u(new de(ee.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new de(ee.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{ce(Wt,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);ce(Wt,`RPC '${e}' ${s} sending request:`,i),h.send(t,"POST",f,r,15)})}Bo(e,t,r){let i=j0(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=V0(),u=L0(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.xmlHttpFactory=new k0({})),this.Oo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;let m=s.join("");ce(Wt,`Creating RPC '${e}' stream ${i}: ${m}`,h);let v=a.createWebChannel(m,h),E=!1,w=!1,I=new K_({Io:P=>{w?ce(Wt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(E||(ce(Wt,`Opening RPC '${e}' stream ${i} transport.`),v.open(),E=!0),ce(Wt,`RPC '${e}' stream ${i} sending:`,P),v.send(P))},To:()=>v.close()}),R=(P,D,A)=>{P.listen(D,V=>{try{A(V)}catch(B){setTimeout(()=>{throw B},0)}})};return R(v,xa.EventType.OPEN,()=>{w||(ce(Wt,`RPC '${e}' stream ${i} transport opened.`),I.yo())}),R(v,xa.EventType.CLOSE,()=>{w||(w=!0,ce(Wt,`RPC '${e}' stream ${i} transport closed`),I.So())}),R(v,xa.EventType.ERROR,P=>{w||(w=!0,Ma(Wt,`RPC '${e}' stream ${i} transport errored:`,P),I.So(new de(ee.UNAVAILABLE,"The operation could not be completed")))}),R(v,xa.EventType.MESSAGE,P=>{var D;if(!w){let A=P.data[0];et(!!A);let V=A,B=V.error||((D=V[0])===null||D===void 0?void 0:D.error);if(B){ce(Wt,`RPC '${e}' stream ${i} received error:`,B);let z=B.status,U=function(T){let k=Dt[T];if(k!==void 0)return WC(k)}(z),N=B.message;U===void 0&&(U=ee.INTERNAL,N="Unknown error status: "+z+" with message "+B.message),w=!0,I.So(new de(U,N)),v.close()}else ce(Wt,`RPC '${e}' stream ${i} received:`,A),I.bo(A)}}),R(u,F0.STAT_EVENT,P=>{P.stat===hh.PROXY?ce(Wt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===hh.NOPROXY&&ce(Wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.wo()},0),I}};function U0(){return typeof document<"u"?document:null}function Qh(n){return new E_(n,!0)}var Rh=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var kh=class{constructor(e,t,r,i,s,a,u,h){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Rh(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return j(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return j(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return j(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(yi(t.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new de(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>j(this,null,function*(){this.state=0,this.start()}))}I_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Q_=class extends kh{constructor(e,t,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=S2(this.serializer,e),r=function(s){if(!("targetChange"in s))return Te.min();let a=s.targetChange;return a.targetIds&&a.targetIds.length?Te.min():a.readTime?zr(a.readTime):Te.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=D_(this.serializer),t.addTarget=function(s,a){let u,h=a.target;if(u=l_(h)?{documents:N2(s,h)}:{query:R2(s,h)._t},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=KC(s,a.resumeToken);let f=w_(s,a.expectedCount);f!==null&&(u.expectedCount=f)}else if(a.snapshotVersion.compareTo(Te.min())>0){u.readTime=Sh(s,a.snapshotVersion.toTimestamp());let f=w_(s,a.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);let r=O2(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=D_(this.serializer),t.removeTarget=e,this.a_(t)}},Y_=class extends kh{constructor(e,t,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return et(!!e.streamToken),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=P2(e.writeResults,e.commitTime),r=zr(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=D_(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>M2(this.serializer,r))};this.a_(t)}};var J_=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,x_(t,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new de(ee.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Lo(e,x_(t,r),i,a,u,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new de(ee.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},X_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(yi(t),this.D_=!1):ce("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var ev=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(()=>j(this,null,function*(){ps(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),yield function(h){return j(this,null,function*(){let f=Ie(h);f.L_.add(4),yield Vu(f),f.q_.set("Unknown"),f.L_.delete(4),yield Yh(f)})}(this))}))}),this.q_=new X_(r,i)}};function Yh(n){return j(this,null,function*(){if(ps(n))for(let e of n.B_)yield e(!0)})}function Vu(n){return j(this,null,function*(){for(let e of n.B_)yield e(!1)})}function rb(n,e){let t=Ie(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),kv(t)?Rv(t):qa(t).r_()&&Nv(t,e))}function Pv(n,e){let t=Ie(n),r=qa(t);t.N_.delete(e),r.r_()&&ib(t,e),t.N_.size===0&&(r.r_()?r.o_():ps(t)&&t.q_.set("Unknown"))}function Nv(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}qa(n).A_(e)}function ib(n,e){n.Q_.xe(e),qa(n).R_(e)}function Rv(n){n.Q_=new y_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),qa(n).start(),n.q_.v_()}function kv(n){return ps(n)&&!qa(n).n_()&&n.N_.size>0}function ps(n){return Ie(n).L_.size===0}function ob(n){n.Q_=void 0}function Z2(n){return j(this,null,function*(){n.q_.set("Online")})}function Q2(n){return j(this,null,function*(){n.N_.forEach((e,t)=>{Nv(n,e)})})}function Y2(n,e){return j(this,null,function*(){ob(n),kv(n)?(n.q_.M_(e),Rv(n)):n.q_.set("Unknown")})}function J2(n,e,t){return j(this,null,function*(){if(n.q_.set("Online"),e instanceof Th&&e.state===2&&e.cause)try{yield function(i,s){return j(this,null,function*(){let a=s.cause;for(let u of s.targetIds)i.N_.has(u)&&(yield i.remoteSyncer.rejectListen(u,a),i.N_.delete(u),i.Q_.removeTarget(u))})}(n,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Oh(n,r)}else if(e instanceof Aa?n.Q_.Ke(e):e instanceof bh?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Te.min()))try{let r=yield nb(n.localStore);t.compareTo(r)>=0&&(yield function(s,a){let u=s.Q_.rt(a);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){let m=s.N_.get(f);m&&s.N_.set(f,m.withResumeToken(h.resumeToken,a))}}),u.targetMismatches.forEach((h,f)=>{let m=s.N_.get(h);if(!m)return;s.N_.set(h,m.withResumeToken(Zt.EMPTY_BYTE_STRING,m.snapshotVersion)),ib(s,h);let v=new Au(m.target,h,f,m.sequenceNumber);Nv(s,v)}),s.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),yield Oh(n,r)}})}function Oh(n,e,t){return j(this,null,function*(){if(!Lu(e))throw e;n.L_.add(1),yield Vu(n),n.q_.set("Offline"),t||(t=()=>nb(n.localStore)),n.asyncQueue.enqueueRetryable(()=>j(this,null,function*(){ce("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Yh(n)}))})}function sb(n,e){return e().catch(t=>Oh(n,t,e))}function Jh(n){return j(this,null,function*(){let e=Ie(n),t=uo(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;X2(e);)try{let i=yield q2(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,eL(e,i)}catch(i){yield Oh(e,i)}ab(e)&&cb(e)})}function X2(n){return ps(n)&&n.O_.length<10}function eL(n,e){n.O_.push(e);let t=uo(n);t.r_()&&t.V_&&t.m_(e.mutations)}function ab(n){return ps(n)&&!uo(n).n_()&&n.O_.length>0}function cb(n){uo(n).start()}function tL(n){return j(this,null,function*(){uo(n).p_()})}function nL(n){return j(this,null,function*(){let e=uo(n);for(let t of n.O_)e.m_(t.mutations)})}function rL(n,e,t){return j(this,null,function*(){let r=n.O_.shift(),i=m_.from(r,e,t);yield sb(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Jh(n)})}function iL(n,e){return j(this,null,function*(){e&&uo(n).V_&&(yield function(r,i){return j(this,null,function*(){if(function(a){return w2(a)&&a!==ee.ABORTED}(i.code)){let s=r.O_.shift();uo(r).s_(),yield sb(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Jh(r)}})}(n,e)),ab(n)&&cb(n)})}function mC(n,e){return j(this,null,function*(){let t=Ie(n);t.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");let r=ps(t);t.L_.add(3),yield Vu(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Yh(t)})}function oL(n,e){return j(this,null,function*(){let t=Ie(n);e?(t.L_.delete(2),yield Yh(t)):e||(t.L_.add(2),yield Vu(t),t.q_.set("Unknown"))})}function qa(n){return n.K_||(n.K_=function(t,r,i){let s=Ie(t);return s.w_(),new Q_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:Z2.bind(null,n),Ro:Q2.bind(null,n),mo:Y2.bind(null,n),d_:J2.bind(null,n)}),n.B_.push(e=>j(this,null,function*(){e?(n.K_.s_(),kv(n)?Rv(n):n.q_.set("Unknown")):(yield n.K_.stop(),ob(n))}))),n.K_}function uo(n){return n.U_||(n.U_=function(t,r,i){let s=Ie(t);return s.w_(),new Y_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:tL.bind(null,n),mo:iL.bind(null,n),f_:nL.bind(null,n),g_:rL.bind(null,n)}),n.B_.push(e=>j(this,null,function*(){e?(n.U_.s_(),yield Jh(n)):(yield n.U_.stop(),n.O_.length>0&&(ce("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var tv=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let a=Date.now()+r,u=new n(e,t,a,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Ov(n,e){if(yi("AsyncQueue",`${e}: ${n}`),Lu(n))return new de(ee.UNAVAILABLE,`${e}: ${n}`);throw n}var Fh=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||fe.comparator(t.key,r.key):(t,r)=>fe.comparator(t.key,r.key),this.keyedMap=yu(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Lh=class{constructor(){this.W_=new vt(fe.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):_e():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Ua=class n{constructor(e,t,r,i,s,a,u,h,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,s){let a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new n(e,t,Fh.emptySet(t),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var nv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},rv=class{constructor(){this.queries=gC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=Ie(t),s=i.queries;i.queries=gC(),s.forEach((a,u)=>{for(let h of u.j_)h.onError(r)})})(this,new de(ee.ABORTED,"Firestore shutting down"))}};function gC(){return new co(n=>OC(n),Kh)}function sL(n,e){return j(this,null,function*(){let t=Ie(n),r=3,i=e.query,s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new nv,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(a){let u=Ov(a,`Initialization of query '${Ia(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&Fv(t)})}function aL(n,e){return j(this,null,function*(){let t=Ie(n),r=e.query,i=3,s=t.queries.get(r);if(s){let a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function cL(n,e){let t=Ie(n),r=!1;for(let i of e){let s=i.query,a=t.queries.get(s);if(a){for(let u of a.j_)u.X_(i)&&(r=!0);a.z_=i}}r&&Fv(t)}function uL(n,e,t){let r=Ie(n),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(t);r.queries.delete(e)}function Fv(n){n.Y_.forEach(e=>{e.next()})}var iv,_C;(_C=iv||(iv={})).ea="default",_C.Cache="cache";var ov=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==iv.Cache}};var Vh=class{constructor(e){this.key=e}},Bh=class{constructor(e){this.key=e}},sv=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=je(),this.mutatedKeys=je(),this.Aa=FC(e),this.Ra=new Fh(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Lh,i=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,a=i,u=!1,h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,v)=>{let E=i.get(m),w=Zh(this.query,v)?v:null,I=!!E&&this.mutatedKeys.has(E.key),R=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations),P=!1;E&&w?E.data.isEqual(w.data)?I!==R&&(r.track({type:3,doc:w}),P=!0):this.ga(E,w)||(r.track({type:2,doc:w}),P=!0,(h&&this.Aa(w,h)>0||f&&this.Aa(w,f)<0)&&(u=!0)):!E&&w?(r.track({type:0,doc:w}),P=!0):E&&!w&&(r.track({type:1,doc:E}),P=!0,(h||f)&&(u=!0)),P&&(w?(a=a.add(w),s=R?s.add(m):s.delete(m)):(a=a.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){let m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{Ra:a,fa:r,ns:u,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let a=e.fa.G_();a.sort((m,v)=>function(w,I){let R=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return R(w)-R(I)}(m.type,v.type)||this.Aa(m.doc,v.doc)),this.pa(r),i=i!=null&&i;let u=t&&!i?this.ya():[],h=this.da.size===0&&this.current&&!i?1:0,f=h!==this.Ea;return this.Ea=h,a.length!==0||f?{snapshot:new Ua(this.query,e.Ra,s,a,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Lh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=je(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Bh(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Vh(r))}),t}ba(e){this.Ta=e.Ts,this.da=je();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ua.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},av=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},cv=class{constructor(e){this.key=e,this.va=!1}},uv=class{constructor(e,t,r,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new co(u=>OC(u),Kh),this.Ma=new Map,this.xa=new Set,this.Oa=new vt(fe.comparator),this.Na=new Map,this.La=new Mu,this.Ba={},this.ka=new Map,this.qa=Su.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function lL(n,e,t=!0){return j(this,null,function*(){let r=pb(n),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield ub(r,e,t,!0),i})}function dL(n,e){return j(this,null,function*(){let t=pb(n);yield ub(t,e,!0,!1)})}function ub(n,e,t,r){return j(this,null,function*(){let i=yield G2(n.localStore,Ur(e)),s=i.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t),u;return r&&(u=yield hL(n,e,s,a==="current",i.resumeToken)),n.isPrimaryClient&&t&&rb(n.remoteStore,i),u})}function hL(n,e,t,r,i){return j(this,null,function*(){n.Ka=(v,E,w)=>function(R,P,D,A){return j(this,null,function*(){let V=P.view.ma(D);V.ns&&(V=yield pC(R.localStore,P.query,!1).then(({documents:N})=>P.view.ma(N,V)));let B=A&&A.targetChanges.get(P.targetId),z=A&&A.targetMismatches.get(P.targetId)!=null,U=P.view.applyChanges(V,R.isPrimaryClient,B,z);return yC(R,P.targetId,U.wa),U.snapshot})}(n,v,E,w);let s=yield pC(n.localStore,e,!0),a=new sv(e,s.Ts),u=a.ma(s.documents),h=Tu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=a.applyChanges(u,n.isPrimaryClient,h);yC(n,t,f.wa);let m=new av(e,t,a);return n.Fa.set(e,m),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),f.snapshot})}function fL(n,e,t){return j(this,null,function*(){let r=Ie(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!Kh(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield q_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Pv(r.remoteStore,i.targetId),lv(r,i.targetId)}).catch(Fu))):(lv(r,i.targetId),yield q_(r.localStore,i.targetId,!0))})}function pL(n,e){return j(this,null,function*(){let t=Ie(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Pv(t.remoteStore,r.targetId))})}function mL(n,e,t){return j(this,null,function*(){let r=xL(n);try{let i=yield function(a,u){let h=Ie(a),f=Ut.now(),m=u.reduce((w,I)=>w.add(I.key),je()),v,E;return h.persistence.runTransaction("Locally write mutations","readwrite",w=>{let I=wi(),R=je();return h.cs.getEntries(w,m).next(P=>{I=P,I.forEach((D,A)=>{A.isValidDocument()||(R=R.add(D))})}).next(()=>h.localDocuments.getOverlayedDocuments(w,I)).next(P=>{v=P;let D=[];for(let A of u){let V=E2(A,v.get(A.key).overlayedDocument);V!=null&&D.push(new xi(A.key,V,AC(V.value.mapValue),as.exists(!0)))}return h.mutationQueue.addMutationBatch(w,f,D,u)}).next(P=>{E=P;let D=P.applyToLocalDocumentSet(v,R);return h.documentOverlayCache.saveOverlays(w,P.batchId,D)})}).then(()=>({batchId:E.batchId,changes:VC(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,h){let f=a.Ba[a.currentUser.toKey()];f||(f=new vt(Ge)),f=f.insert(u,h),a.Ba[a.currentUser.toKey()]=f}(r,i.batchId,t),yield Bu(r,i.changes),yield Jh(r.remoteStore)}catch(i){let s=Ov(i,"Failed to persist write");t.reject(s)}})}function lb(n,e){return j(this,null,function*(){let t=Ie(n);try{let r=yield H2(t.localStore,e);e.targetChanges.forEach((i,s)=>{let a=t.Na.get(s);a&&(et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?et(a.va):i.removedDocuments.size>0&&(et(a.va),a.va=!1))}),yield Bu(t,r,e)}catch(r){yield Fu(r)}})}function vC(n,e,t){let r=Ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((s,a)=>{let u=a.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(a,u){let h=Ie(a);h.onlineState=u;let f=!1;h.queries.forEach((m,v)=>{for(let E of v.j_)E.Z_(u)&&(f=!0)}),f&&Fv(h)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function gL(n,e,t){return j(this,null,function*(){let r=Ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),s=i&&i.key;if(s){let a=new vt(fe.comparator);a=a.insert(s,fr.newNoDocument(s,Te.min()));let u=je().add(s),h=new Ch(Te.min(),new Map,new vt(Ge),a,u);yield lb(r,h),r.Oa=r.Oa.remove(s),r.Na.delete(e),Lv(r)}else yield q_(r.localStore,e,!1).then(()=>lv(r,e,t)).catch(Fu)})}function _L(n,e){return j(this,null,function*(){let t=Ie(n),r=e.batch.batchId;try{let i=yield z2(t.localStore,e);hb(t,r,null),db(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Bu(t,i)}catch(i){yield Fu(i)}})}function vL(n,e,t){return j(this,null,function*(){let r=Ie(n);try{let i=yield function(a,u){let h=Ie(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return h.mutationQueue.lookupMutationBatch(f,u).next(v=>(et(v!==null),m=v.keys(),h.mutationQueue.removeMutationBatch(f,v))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>h.localDocuments.getDocuments(f,m))})}(r.localStore,e);hb(r,e,t),db(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Bu(r,i)}catch(i){yield Fu(i)}})}function db(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function hb(n,e,t){let r=Ie(n),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function lv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||fb(n,r)})}function fb(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Pv(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Lv(n))}function yC(n,e,t){for(let r of t)r instanceof Vh?(n.La.addReference(r.key,e),yL(n,r)):r instanceof Bh?(ce("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||fb(n,r.key)):_e()}function yL(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(ce("SyncEngine","New document in limbo: "+t),n.xa.add(r),Lv(n))}function Lv(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new fe(_t.fromString(e)),r=n.qa.next();n.Na.set(r,new cv(t)),n.Oa=n.Oa.insert(t,r),rb(n.remoteStore,new Au(Ur(kC(t.path)),r,"TargetPurposeLimboResolution",DC.oe))}}function Bu(n,e,t){return j(this,null,function*(){let r=Ie(n),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((u,h)=>{a.push(r.Ka(h,e,t).then(f=>{var m;if((f||t)&&r.isPrimaryClient){let v=f?!f.fromCache:(m=t?.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(f){i.push(f);let v=U_.Wi(h.targetId,f);s.push(v)}}))}),yield Promise.all(a),r.Ca.d_(i),yield function(h,f){return j(this,null,function*(){let m=Ie(h);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>te.forEach(f,E=>te.forEach(E.$i,w=>m.persistence.referenceDelegate.addReference(v,E.targetId,w)).next(()=>te.forEach(E.Ui,w=>m.persistence.referenceDelegate.removeReference(v,E.targetId,w)))))}catch(v){if(!Lu(v))throw v;ce("LocalStore","Failed to update sequence numbers: "+v)}for(let v of f){let E=v.targetId;if(!v.fromCache){let w=m.os.get(E),I=w.snapshotVersion,R=w.withLastLimboFreeSnapshotVersion(I);m.os=m.os.insert(E,R)}}})}(r.localStore,s))})}function EL(n,e){return j(this,null,function*(){let t=Ie(n);if(!t.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());let r=yield tb(t.localStore,e);t.currentUser=e,function(s,a){s.ka.forEach(u=>{u.forEach(h=>{h.reject(new de(ee.CANCELLED,a))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Bu(t,r.hs)}})}function wL(n,e){let t=Ie(n),r=t.Na.get(e);if(r&&r.va)return je().add(r.key);{let i=je(),s=t.Ma.get(e);if(!s)return i;for(let a of s){let u=t.Fa.get(a);i=i.unionWith(u.view.Va)}return i}}function pb(n){let e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gL.bind(null,e),e.Ca.d_=cL.bind(null,e.eventManager),e.Ca.$a=uL.bind(null,e.eventManager),e}function xL(n){let e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_L.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vL.bind(null,e),e}var jh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return j(this,null,function*(){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return U2(this.persistence,new H_,e.initialUser,this.serializer)}createPersistence(e){return new V_(j_.Zr,this.serializer)}createSharedClientState(e){return new G_}terminate(){return j(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var dv=class{initialize(e,t){return j(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EL.bind(null,this.syncEngine),yield oL(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new rv}()}createDatastore(e){let t=Qh(e.databaseInfo.databaseId),r=function(s){return new Z_(s)}(e.databaseInfo);return function(s,a,u,h){return new J_(s,a,u,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,a,u){return new ev(r,i,s,a,u)}(this.localStore,this.datastore,e.asyncQueue,t=>vC(this.syncEngine,t,0),function(){return Nh.D()?new Nh:new W_}())}createSyncEngine(e,t){return function(i,s,a,u,h,f,m){let v=new uv(i,s,a,u,h,f);return m&&(v.Qa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return j(this,null,function*(){var e,t;yield function(i){return j(this,null,function*(){let s=Ie(i);ce("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Vu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()})}};var hv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var fv=class{constructor(e,t,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=vh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>j(this,null,function*(){ce("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(ce("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>j(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Ov(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function z0(n,e){return j(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>j(this,null,function*(){r.isEqual(i)||(yield tb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function EC(n,e){return j(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield DL(n);ce("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>mC(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>mC(e.remoteStore,i)),n._onlineComponents=e})}function IL(n){return n.name==="FirebaseError"?n.code===ee.FAILED_PRECONDITION||n.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function DL(n){return j(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{yield z0(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!IL(t))throw t;Ma("Error using user provided cache. Falling back to memory cache: "+t),yield z0(n,new jh)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),yield z0(n,new jh);return n._offlineComponents})}function mb(n){return j(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),yield EC(n,n._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),yield EC(n,new dv))),n._onlineComponents})}function CL(n){return mb(n).then(e=>e.syncEngine)}function bL(n){return j(this,null,function*(){let e=yield mb(n),t=e.eventManager;return t.onListen=lL.bind(null,e.syncEngine),t.onUnlisten=fL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pL.bind(null,e.syncEngine),t})}function TL(n,e,t={}){let r=new Br;return n.asyncQueue.enqueueAndForget(()=>j(this,null,function*(){return function(s,a,u,h,f){let m=new hv({next:E=>{a.enqueueAndForget(()=>aL(s,v)),E.fromCache&&h.source==="server"?f.reject(new de(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(E)},error:E=>f.reject(E)}),v=new ov(u,m,{includeMetadataChanges:!0,_a:!0});return sL(s,v)}(yield bL(n),n.asyncQueue,e,t,r)})),r.promise}function gb(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var wC=new Map;function _b(n,e,t){if(!t)throw new de(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function AL(n,e,t,r){if(e===!0&&r===!0)throw new de(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function xC(n){if(!fe.isDocumentKey(n))throw new de(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function IC(n){if(fe.isDocumentKey(n))throw new de(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Vv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":_e()}function Uh(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Vv(n);throw new de(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var zh=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},za=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new de(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new H0;switch(r.type){case"firstParty":return new W0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=wC.get(t);r&&(ce("ComponentProvider","Removing Datastore"),wC.delete(t),r.terminate())}(this),Promise.resolve()}};function SL(n,e,t,r={}){var i;let s=(n=Uh(n,za))._getSettings(),a=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=Bt.MOCK_USER;else{u=xD(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new de(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Bt(f)}n._authCredentials=new $0(new _h(u,h))}}var Hh=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},hr=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},so=class n extends Hh{constructor(e,t,r){super(e,t,kC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new fe(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function vb(n,e,...t){if(n=Sn(n),_b("collection","path",e),n instanceof za){let r=_t.fromString(e,...t);return IC(r),new so(n,null,r)}{if(!(n instanceof hr||n instanceof so))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(_t.fromString(e,...t));return IC(r),new so(n.firestore,null,r)}}function ML(n,e,...t){if(n=Sn(n),arguments.length===1&&(e=vh.newId()),_b("doc","path",e),n instanceof za){let r=_t.fromString(e,...t);return xC(r),new hr(n,null,new fe(r))}{if(!(n instanceof hr||n instanceof so))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(_t.fromString(e,...t));return xC(r),new hr(n.firestore,n instanceof so?n.converter:null,new fe(r))}}var pv=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Rh(this,"async_queue_retry"),this.Eu=()=>{let t=U0();t&&ce("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()};let e=U0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let t=U0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let t=new Br;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return j(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Lu(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let t=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(r);throw yi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=t,t}enqueueAfterDelay(e,t,r){this.du(),this.Tu.indexOf(e)>-1&&(t=0);let i=tv.createAndSchedule(this,e,t,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&_e()}verifyOperationInProgress(){}mu(){return j(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.lu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let t=this.lu.indexOf(e);this.lu.splice(t,1)}};var Pu=class extends za{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=function(){return new pv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wb(this),this._firestoreClient.terminate()}};function yb(n,e){let t=typeof n=="object"?n:lh(),r=typeof n=="string"?n:e||"(default)",i=gu(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=wD("firestore");s&&SL(i,...s)}return i}function Eb(n){return n._firestoreClient||wb(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function wb(n){var e,t,r;let i=n._freezeSettings(),s=function(u,h,f,m){return new J0(u,h,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,gb(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._firestoreClient=new fv(n._authCredentials,n._appCheckCredentials,n._queue,s),!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Nu=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Zt.fromBase64String(e))}catch(t){throw new de(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ru=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var $h=class{constructor(e){this._methodName=e}};var ku=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}};var Ou=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var PL=/^__.*__$/,mv=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new xi(e,this.data,this.fieldMask,t,this.fieldTransforms):new fs(e,this.data,t,this.fieldTransforms)}};function xb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}var gv=class n{constructor(e,t,r,i,s,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return qh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(xb(this.wu)&&PL.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},_v=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Qh(e)}Nu(e,t,r,i=!1){return new gv({wu:e,methodName:t,Ou:r,path:Mn.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function NL(n){let e=n._freezeSettings(),t=Qh(n._databaseId);return new _v(n._databaseId,!!e.ignoreUndefinedProperties,t)}function RL(n,e,t,r,i,s={}){let a=n.Nu(s.merge||s.mergeFields?2:0,e,t,i);bb("Data must be an object, but it was:",a,r);let u=Db(r,a),h,f;if(s.merge)h=new Vr(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){let m=[];for(let v of s.mergeFields){let E=kL(e,v,t);if(!a.contains(E))throw new de(ee.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);FL(m,E)||m.push(E)}h=new Vr(m),f=a.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,f=a.fieldTransforms;return new mv(new dr(u),h,f)}function Ib(n,e){if(Cb(n=Sn(n)))return bb("Unsupported field value:",e,n),Db(n,e);if(n instanceof $h)return function(r,i){if(!xb(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],a=0;for(let u of r){let h=Ib(u,i.Fu(a));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),a++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return m2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ut.fromDate(r);return{timestampValue:Sh(i.serializer,s)}}if(r instanceof Ut){let s=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sh(i.serializer,s)}}if(r instanceof ku)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nu)return{bytesValue:KC(i.serializer,r._byteString)};if(r instanceof hr){let s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Mu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Mv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ou)return function(a,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw u.Mu("VectorValues must only contain numeric values.");return Sv(u.serializer,h)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Vv(r)}`)}(n,e)}function Db(n,e){let t={};return CC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$a(n,(r,i)=>{let s=Ib(i,e.bu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function Cb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ut||n instanceof ku||n instanceof Nu||n instanceof hr||n instanceof $h||n instanceof Ou)}function bb(n,e,t){if(!Cb(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Vv(t);throw r==="an object"?e.Mu(n+" a custom object"):e.Mu(n+" "+r)}}function kL(n,e,t){if((e=Sn(e))instanceof Ru)return e._internalPath;if(typeof e=="string")return Tb(n,e);throw qh("Field path arguments must be of type string or ",n,!1,void 0,t)}var OL=new RegExp("[~\\*/\\[\\]]");function Tb(n,e,t){if(e.search(OL)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ru(...e.split("."))._internalPath}catch{throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qh(n,e,t,r,i){let s=r&&!r.isEmpty(),a=i!==void 0,u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(s||a)&&(h+=" (found",s&&(h+=` in field ${r}`),a&&(h+=` in document ${i}`),h+=")"),new de(ee.INVALID_ARGUMENT,u+n+h)}function FL(n,e){return n.some(t=>t.isEqual(e))}var Gh=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new vv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Ab("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},vv=class extends Gh{data(){return super.data()}};function Ab(n,e){return typeof e=="string"?Tb(n,e):e instanceof Ru?e._internalPath:e._delegate._internalPath}function LL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var yv=class{convertValue(e,t="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return $a(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>ht(a.doubleValue));return new Ou(s)}convertGeoPoint(e){return new ku(ht(e.latitude),ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Cv(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Cu(e));default:return null}}convertTimestamp(e){let t=Ei(e);return new Ut(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=_t.fromString(e);et(eb(r));let i=new xh(r.get(1),r.get(3)),s=new fe(r.popFirst(5));return i.isEqual(t)||yi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function VL(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ta=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ev=class extends Gh{constructor(e,t,r,i,s,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Sa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Ab("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Sa=class extends Ev{data(e={}){return super.data(e)}},wv=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ta(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Sa(this._firestore,this._userDataWriter,r.key,r,new Ta(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>{let h=new Sa(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ta(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{let h=new Sa(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ta(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),f=-1,m=-1;return u.type!==0&&(f=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),m=a.indexOf(u.doc.key)),{type:BL(u.type),doc:h,oldIndex:f,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function BL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}var xv=class extends yv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nu(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}};function Sb(n){n=Uh(n,Hh);let e=Uh(n.firestore,Pu),t=Eb(e),r=new xv(e);return LL(n._query),TL(t,n._query).then(i=>new wv(e,r,n,i))}function Mb(n,e){let t=Uh(n.firestore,Pu),r=ML(n),i=VL(n.converter,e);return jL(t,[RL(NL(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,as.exists(!1))]).then(()=>r)}function jL(n,e){return function(r,i){let s=new Br;return r.asyncQueue.enqueueAndForget(()=>j(this,null,function*(){return mL(yield CL(r),i,s)})),s.promise}(Eb(n),e)}(function(e,t=!0){(function(i){Ha=i})(io),ro(new Gn("firestore",(r,{instanceIdentifier:i,options:s})=>{let a=r.getProvider("app").getImmediate(),u=new Pu(new q0(r.getProvider("auth-internal")),new Z0(r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new de(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xh(f.options.projectId,m)}(a,i),a);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),lr(KD,"4.7.2",e),lr(KD,"4.7.2","esm2017")})();function qb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Gb=qb,Wb=new gi("auth","Firebase",qb());var of=new to("@firebase/auth");function UL(n,...e){of.logLevel<=Be.WARN&&of.warn(`Auth (${io}): ${n}`,...e)}function ef(n,...e){of.logLevel<=Be.ERROR&&of.error(`Auth (${io}): ${n}`,...e)}function fo(n,...e){throw iy(n,...e)}function ms(n,...e){return iy(n,...e)}function Kb(n,e,t){let r=Object.assign(Object.assign({},Gb()),{[e]:t});return new gi("auth","Firebase",r).create(e,{appName:n.name})}function ho(n){return Kb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iy(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Wb.create(n,...e)}function Ee(n,e,...t){if(!n)throw iy(e,...t)}function Ii(n){let e="INTERNAL ASSERTION FAILED: "+n;throw ef(e),new Error(e)}function po(n,e){n||Ii(e)}function zv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function zL(){return Pb()==="http:"||Pb()==="https:"}function Pb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function HL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zL()||CD()||"connection"in navigator)?navigator.onLine:!0}function $L(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var gs=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,po(t>e,"Short delay should be less than long delay!"),this.isMobile=ID()||bD()}get(){return HL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function oy(n,e){po(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var sf=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var qL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var GL=new gs(3e4,6e4);function gf(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Wa(s,a,u,h){return j(this,arguments,function*(n,e,t,r,i={}){return Zb(n,i,()=>j(this,null,function*(){let f={},m={};r&&(e==="GET"?m=r:f={body:JSON.stringify(r)});let v=pu(Object.assign({key:n.config.apiKey},m)).slice(1),E=yield n._getAdditionalHeaders();E["Content-Type"]="application/json",n.languageCode&&(E["X-Firebase-Locale"]=n.languageCode);let w=Object.assign({method:e,headers:E},f);return DD()||(w.referrerPolicy="no-referrer"),sf.fetch()(Yb(n,n.config.apiHost,t,v),w)}))})}function Zb(n,e,t){return j(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},qL),e);try{let i=new Hv(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let a=yield s.json();if("needConfirmation"in a)throw Xh(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{let u=s.ok?a.errorMessage:a.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xh(n,"credential-already-in-use",a);if(h==="EMAIL_EXISTS")throw Xh(n,"email-already-in-use",a);if(h==="USER_DISABLED")throw Xh(n,"user-disabled",a);let m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Kb(n,m,f);fo(n,m)}}catch(i){if(i instanceof An)throw i;fo(n,"network-request-failed",{message:String(i)})}})}function Qb(s,a,u,h){return j(this,arguments,function*(n,e,t,r,i={}){let f=yield Wa(n,e,t,r,i);return"mfaPendingCredential"in f&&fo(n,"multi-factor-auth-required",{_serverResponse:f}),f})}function Yb(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?oy(n.config,i):`${n.config.apiScheme}://${i}`}var Hv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ms(this.auth,"network-request-failed")),GL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Xh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ms(n,e,r);return i.customData._tokenResponse=t,i}function WL(n,e){return j(this,null,function*(){return Wa(n,"POST","/v1/accounts:delete",e)})}function Jb(n,e){return j(this,null,function*(){return Wa(n,"POST","/v1/accounts:lookup",e)})}function ju(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Xb(n,e=!1){return j(this,null,function*(){let t=Sn(n),r=yield t.getIdToken(e),i=sy(r);Ee(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:ju(Bv(i.auth_time)),issuedAtTime:ju(Bv(i.iat)),expirationTime:ju(Bv(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Bv(n){return Number(n)*1e3}function sy(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ef("JWT malformed, contained fewer than 3 sections"),null;try{let i=h0(t);return i?JSON.parse(i):(ef("Failed to decode base64 JWT payload"),null)}catch(i){return ef("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Nb(n){let e=sy(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function zu(n,e,t=!1){return j(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof An&&KL(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function KL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var $v=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>j(this,null,function*(){yield this.iteration()}),t)}iteration(){return j(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Hu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ju(this.lastLoginAt),this.creationTime=ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function af(n){return j(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield zu(n,Jb(t,{idToken:r}));Ee(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?tT(s.providerUserInfo):[],u=ZL(n.providerData,a),h=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!u?.length,m=h?f:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Hu(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,v)})}function eT(n){return j(this,null,function*(){let e=Sn(n);yield af(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function ZL(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tT(n){return n.map(e=>{var{providerId:t}=e,r=zp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function QL(n,e){return j(this,null,function*(){let t=yield Zb(n,{},()=>j(this,null,function*(){let r=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=Yb(n,i,"/v1/token",`key=${s}`),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",sf.fetch()(a,{method:"POST",headers:u,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function YL(n,e){return j(this,null,function*(){return Wa(n,"POST","/v2/accounts:revokeToken",gf(n,e))})}var Uu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");let t=Nb(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return j(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return j(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield QL(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new n;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ee(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ii("not implemented")}};function lo(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ga=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=zp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $v(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Hu(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return j(this,null,function*(){let t=yield zu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Xb(this,e)}reload(){return eT(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return j(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield af(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return j(this,null,function*(){if(Fr(this.auth.app))return Promise.reject(ho(this.auth));let e=yield this.getIdToken();return yield zu(this,WL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,a,u,h,f,m;let v=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(i=t.email)!==null&&i!==void 0?i:void 0,w=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,I=(a=t.photoURL)!==null&&a!==void 0?a:void 0,R=(u=t.tenantId)!==null&&u!==void 0?u:void 0,P=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,D=(f=t.createdAt)!==null&&f!==void 0?f:void 0,A=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:V,emailVerified:B,isAnonymous:z,providerData:U,stsTokenManager:N}=t;Ee(V&&N,e,"internal-error");let C=Uu.fromJSON(this.name,N);Ee(typeof V=="string",e,"internal-error"),lo(v,e.name),lo(E,e.name),Ee(typeof B=="boolean",e,"internal-error"),Ee(typeof z=="boolean",e,"internal-error"),lo(w,e.name),lo(I,e.name),lo(R,e.name),lo(P,e.name),lo(D,e.name),lo(A,e.name);let T=new n({uid:V,auth:e,email:E,emailVerified:B,displayName:v,isAnonymous:z,photoURL:I,phoneNumber:w,tenantId:R,stsTokenManager:C,createdAt:D,lastLoginAt:A});return U&&Array.isArray(U)&&(T.providerData=U.map(k=>Object.assign({},k))),P&&(T._redirectEventId=P),T}static _fromIdTokenResponse(e,t,r=!1){return j(this,null,function*(){let i=new Uu;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield af(s),s})}static _fromGetAccountInfoResponse(e,t,r){return j(this,null,function*(){let i=t.users[0];Ee(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?tT(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,u=new Uu;u.updateFromIdToken(r);let h=new n({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Hu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(h,f),h})}};var Rb=new Map;function Di(n){po(n instanceof Function,"Expected a class definition");let e=Rb.get(n);return e?(po(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Rb.set(n,e),e)}var JL=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return j(this,null,function*(){return!0})}_set(t,r){return j(this,null,function*(){this.storage[t]=r})}_get(t){return j(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return j(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),qv=JL;function tf(n,e,t){return`firebase:${n}:${e}:${t}`}var cf=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=tf(this.userKey,i.apiKey,s),this.fullPersistenceKey=tf("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return j(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ga._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return j(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return j(this,null,function*(){if(!t.length)return new n(Di(qv),e,r);let i=(yield Promise.all(t.map(f=>j(this,null,function*(){if(yield f._isAvailable())return f})))).filter(f=>f),s=i[0]||Di(qv),a=tf(r,e.config.apiKey,e.name),u=null;for(let f of t)try{let m=yield f._get(a);if(m){let v=Ga._fromJSON(e,m);f!==s&&(u=v),s=f;break}}catch{}let h=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new n(s,e,r):(s=h[0],u&&(yield s._set(a,u.toJSON())),yield Promise.all(t.map(f=>j(this,null,function*(){if(f!==s)try{yield f._remove(a)}catch{}}))),new n(s,e,r))})}};function kb(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aT(e))return"Blackberry";if(cT(e))return"Webos";if(rT(e))return"Safari";if((e.includes("chrome/")||iT(e))&&!e.includes("edge/"))return"Chrome";if(sT(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function nT(n=Vt()){return/firefox\//i.test(n)}function rT(n=Vt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iT(n=Vt()){return/crios\//i.test(n)}function oT(n=Vt()){return/iemobile/i.test(n)}function sT(n=Vt()){return/android/i.test(n)}function aT(n=Vt()){return/blackberry/i.test(n)}function cT(n=Vt()){return/webos/i.test(n)}function ay(n=Vt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function XL(n=Vt()){var e;return ay(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eV(){return TD()&&document.documentMode===10}function uT(n=Vt()){return ay(n)||sT(n)||cT(n)||aT(n)||/windows phone/i.test(n)||oT(n)}function lT(n,e=[]){let t;switch(n){case"Browser":t=kb(Vt());break;case"Worker":t=`${kb(Vt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${io}/${r}`}var Gv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((a,u)=>{try{let h=e(s);a(h)}catch(h){u(h)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return j(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function tV(t){return j(this,arguments,function*(n,e={}){return Wa(n,"GET","/v2/passwordPolicy",gf(n,e))})}var nV=6,Wv=class{constructor(e){var t,r,i,s;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:nV,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,a,u;let h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsUppercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsNumericCharacter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Kv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uf(this),this.idTokenSubscription=new uf(this),this.beforeStateQueue=new Gv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Di(t)),this._initializationPromise=this.queue(()=>j(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield cf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return j(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return j(this,null,function*(){try{let t=yield Jb(this,{idToken:e}),r=yield Ga._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return j(this,null,function*(){var t;if(Fr(this.app)){let a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i?._redirectEventId,h=yield this.tryRedirectSignIn(e);(!a||a===u)&&h?.user&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return j(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return j(this,null,function*(){try{yield af(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=$L()}_delete(){return j(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return j(this,null,function*(){if(Fr(this.app))return Promise.reject(ho(this));let t=e?Sn(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return j(this,null,function*(){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>j(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return j(this,null,function*(){return Fr(this.app)?Promise.reject(ho(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Fr(this.app)?Promise.reject(ho(this)):this.queue(()=>j(this,null,function*(){yield this.assertedPersistence.setPersistence(Di(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return j(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return j(this,null,function*(){let e=yield tV(this),t=new Wv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gi("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return j(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield YL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return j(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return j(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Di(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=yield cf.create(this,[Di(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return j(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>j(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return j(this,null,function*(){if(e===this.currentUser)return this.queue(()=>j(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),a=!1,u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(u,this,"internal-error"),u.then(()=>{a||s(this.currentUser)}),typeof t=="function"){let h=e.addObserver(t,r,i);return()=>{a=!0,h()}}else{let h=e.addObserver(t);return()=>{a=!0,h()}}}directlySetCurrentUser(e){return j(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return j(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return j(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&UL(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function _f(n){return Sn(n)}var uf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=PD(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var cy={loadJS(){return j(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rV(n){cy=n}function iV(n){return cy.loadJS(n)}function oV(){return cy.gapiScript}function dT(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function hT(n,e){let t=gu(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(rs(s,e??{}))return i;fo(i,"already-initialized")}return t.initialize({options:e})}function sV(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Di);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function fT(n,e,t){let r=_f(n);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=pT(e),{host:a,port:u}=aV(e),h=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${a}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||cV()}function pT(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function aV(n){let e=pT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:Ob(r.substr(s.length+1))}}else{let[s,a]=r.split(":");return{host:s,port:Ob(a)}}}function Ob(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function cV(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var lf=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,t){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}};function jv(n,e){return j(this,null,function*(){return Qb(n,"POST","/v1/accounts:signInWithIdp",gf(n,e))})}var df=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Zv=class extends df{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function uV(n,e){return j(this,null,function*(){return Qb(n,"POST","/v1/accounts:signUp",gf(n,e))})}var _s=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return j(this,null,function*(){let s=yield Ga._fromIdTokenResponse(e,r,i),a=Fb(r);return new n({user:s,providerId:a,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return j(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Fb(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function Fb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function uy(n){return j(this,null,function*(){var e;if(Fr(n.app))return Promise.reject(ho(n));let t=_f(n);if(yield t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new _s({user:t.currentUser,providerId:null,operationType:"signIn"});let r=yield uV(t,{returnSecureToken:!0}),i=yield _s._fromIdTokenResponse(t,"signIn",r,!0);return yield t._updateCurrentUser(i.user),i})}var Qv=class n extends An{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function mT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Qv._fromErrorAndOperation(n,s,e,r):s})}function lV(n,e,t=!1){return j(this,null,function*(){let r=yield zu(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return _s._forOperation(n,"link",r)})}function dV(n,e,t=!1){return j(this,null,function*(){let{auth:r}=n;if(Fr(r.app))return Promise.reject(ho(r));let i="reauthenticate";try{let s=yield zu(n,mT(r,i,e,n),t);Ee(s.idToken,r,"internal-error");let a=sy(s.idToken);Ee(a,r,"internal-error");let{sub:u}=a;return Ee(n.uid===u,r,"user-mismatch"),_s._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&fo(r,"user-mismatch"),s}})}function hV(n,e,t=!1){return j(this,null,function*(){if(Fr(n.app))return Promise.reject(ho(n));let r="signIn",i=yield mT(n,r,e),s=yield _s._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function gT(n,e,t,r){return Sn(n).onIdTokenChanged(e,t,r)}function _T(n,e,t){return Sn(n).beforeAuthStateChanged(e,t)}var hf="__sak";var ff=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hf,"1"),this.storage.removeItem(hf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var fV=1e3,pV=10,mV=(()=>{class n extends ff{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let u=this.storage.getItem(i);!r&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);eV()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,pV):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},fV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return j(this,null,function*(){yield Ui(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return j(this,null,function*(){let r=yield Ui(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return j(this,null,function*(){yield Ui(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),vT=mV;var gV=(()=>{class n extends ff{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),ly=gV;function _V(n){return Promise.all(n.map(e=>j(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var vV=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return j(this,null,function*(){let r=t,{eventId:i,eventType:s,data:a}=r.data,u=this.handlersMap[s];if(!u?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let h=Array.from(u).map(m=>j(this,null,function*(){return m(r.origin,a)})),f=yield _V(h);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:f})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function yT(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Yv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return j(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((u,h)=>{let f=yT("",20);i.port1.start();let m=setTimeout(()=>{h(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(v){let E=v;if(E.data.eventId===f)switch(E.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(E.data.response);break;default:clearTimeout(m),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function qr(){return window}function yV(n){qr().location.href=n}function ET(){return typeof qr().WorkerGlobalScope<"u"&&typeof qr().importScripts=="function"}function EV(){return j(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function wV(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function xV(){return ET()?self:null}var wT="firebaseLocalStorageDb",IV=1,pf="firebaseLocalStorage",xT="fbase_key",vs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function vf(n,e){return n.transaction([pf],e?"readwrite":"readonly").objectStore(pf)}function DV(){let n=indexedDB.deleteDatabase(wT);return new vs(n).toPromise()}function Jv(){let n=indexedDB.open(wT,IV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(pf,{keyPath:xT})}catch(i){t(i)}}),n.addEventListener("success",()=>j(this,null,function*(){let r=n.result;r.objectStoreNames.contains(pf)?e(r):(r.close(),yield DV(),e(yield Jv()))}))})}function Lb(n,e,t){return j(this,null,function*(){let r=vf(n,!0).put({[xT]:e,value:t});return new vs(r).toPromise()})}function CV(n,e){return j(this,null,function*(){let t=vf(n,!1).get(e),r=yield new vs(t).toPromise();return r===void 0?null:r.value})}function Vb(n,e){let t=vf(n,!0).delete(e);return new vs(t).toPromise()}var bV=800,TV=3,AV=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return j(this,null,function*(){return this.db?this.db:(this.db=yield Jv(),this.db)})}_withRetries(t){return j(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>TV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return j(this,null,function*(){return ET()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return j(this,null,function*(){this.receiver=vV._getInstance(xV()),this.receiver._subscribe("keyChanged",(t,r)=>j(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>j(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return j(this,null,function*(){var t,r;if(this.activeServiceWorker=yield EV(),!this.activeServiceWorker)return;this.sender=new Yv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return j(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||wV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return j(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Jv();return yield Lb(t,hf,"1"),yield Vb(t,hf),!0}catch{}return!1})}_withPendingWrite(t){return j(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return j(this,null,function*(){return this._withPendingWrite(()=>j(this,null,function*(){return yield this._withRetries(i=>Lb(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return j(this,null,function*(){let r=yield this._withRetries(i=>CV(i,t));return this.localCache[t]=r,r})}_remove(t){return j(this,null,function*(){return this._withPendingWrite(()=>j(this,null,function*(){return yield this._withRetries(r=>Vb(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return j(this,null,function*(){let t=yield this._withRetries(s=>{let a=vf(s,!1).getAll();return new vs(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:a}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>j(this,null,function*(){return this._poll()}),bV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),IT=AV;var _U=dT("rcb"),vU=new gs(3e4,6e4);function SV(n,e){return e?Di(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var $u=class extends lf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jv(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function MV(n){return hV(n.auth,new $u(n),n.bypassAuthState)}function PV(n){let{auth:e,user:t}=n;return Ee(t,e,"internal-error"),dV(t,new $u(n),n.bypassAuthState)}function NV(n){return j(this,null,function*(){let{auth:e,user:t}=n;return Ee(t,e,"internal-error"),lV(t,new $u(n),n.bypassAuthState)})}var Xv=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>j(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return j(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:a,type:u}=e;if(a){this.reject(a);return}let h={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(u)(h))}catch(f){this.reject(f)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MV;case"linkViaPopup":case"linkViaRedirect":return NV;case"reauthViaPopup":case"reauthViaRedirect":return PV;default:fo(this.auth,"internal-error")}}resolve(e){po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var yU=new gs(2e3,1e4);var RV="pendingRedirect",nf=new Map,ey=class n extends Xv{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return j(this,null,function*(){let e=nf.get(this.auth._key());if(!e){try{let r=(yield kV(this.resolver,this.auth))?yield Ui(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}nf.set(this.auth._key(),e)}return this.bypassAuthState||nf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return j(this,null,function*(){if(e.type==="signInViaRedirect")return Ui(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Ui(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return j(this,null,function*(){})}cleanUp(){}};function kV(n,e){return j(this,null,function*(){let t=LV(e),r=FV(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function OV(n,e){nf.set(n._key(),e)}function FV(n){return Di(n._redirectPersistence)}function LV(n){return tf(RV,n.config.apiKey,n.name)}function VV(n,e,t=!1){return j(this,null,function*(){if(Fr(n.app))return Promise.reject(ho(n));let r=_f(n),i=SV(r,e),a=yield new ey(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,yield r._persistUserIfCurrent(a.user),yield r._setRedirectUser(null,e)),a})}var BV=10*60*1e3,ty=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!DT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ms(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bb(e))}saveEventToCache(e){this.cachedEventUids.add(Bb(e)),this.lastProcessedEventTime=Date.now()}};function Bb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function DT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function jV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DT(n);default:return!1}}function UV(t){return j(this,arguments,function*(n,e={}){return Wa(n,"GET","/v1/projects",e)})}var zV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HV=/^https?/;function $V(n){return j(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield UV(n);for(let t of e)try{if(qV(t))return}catch{}fo(n,"unauthorized-domain")})}function qV(n){let e=zv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!HV.test(t))return!1;if(zV.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var GV=new gs(3e4,6e4);function jb(){let n=qr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function WV(n){return new Promise((e,t)=>{var r,i,s;function a(){jb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jb(),t(ms(n,"network-request-failed"))},timeout:GV.get()})}if(!((i=(r=qr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=qr().gapi)===null||s===void 0)&&s.load)a();else{let u=dT("iframefcb");return qr()[u]=()=>{gapi.load?a():t(ms(n,"network-request-failed"))},iV(`${oV()}?onload=${u}`).catch(h=>t(h))}}).catch(e=>{throw rf=null,e})}var rf=null;function KV(n){return rf=rf||WV(n),rf}var ZV=new gs(5e3,15e3),QV="__/auth/iframe",YV="emulator/auth/iframe",JV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eB(n){let e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?oy(e,YV):`https://${n.config.authDomain}/${QV}`,r={apiKey:e.apiKey,appName:n.name,v:io},i=XV.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${pu(r).slice(1)}`}function tB(n){return j(this,null,function*(){let e=yield KV(n),t=qr().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:eB(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JV,dontclear:!0},r=>new Promise((i,s)=>j(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let a=ms(n,"network-request-failed"),u=qr().setTimeout(()=>{s(a)},ZV.get());function h(){qr().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{s(a)})})))})}var nB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rB=500,iB=600,oB="_blank",sB="http://localhost",mf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function aB(n,e,t,r=rB,i=iB){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",h=Object.assign(Object.assign({},nB),{width:r.toString(),height:i.toString(),top:s,left:a}),f=Vt().toLowerCase();t&&(u=iT(f)?oB:t),nT(f)&&(e=e||sB,h.scrollbars="yes");let m=Object.entries(h).reduce((E,[w,I])=>`${E}${w}=${I},`,"");if(XL(f)&&u!=="_self")return cB(e||"",u),new mf(null);let v=window.open(e||"",u,m);Ee(v,n,"popup-blocked");try{v.focus()}catch{}return new mf(v)}function cB(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var uB="__/auth/handler",lB="emulator/auth/handler",dB=encodeURIComponent("fac");function Ub(n,e,t,r,i,s){return j(this,null,function*(){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");let a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:io,eventId:i};if(e instanceof df){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",MD(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[m,v]of Object.entries(s||{}))a[m]=v}if(e instanceof Zv){let m=e.getScopes().filter(v=>v!=="");m.length>0&&(a.scopes=m.join(","))}n.tenantId&&(a.tid=n.tenantId);let u=a;for(let m of Object.keys(u))u[m]===void 0&&delete u[m];let h=yield n._getAppCheckToken(),f=h?`#${dB}=${encodeURIComponent(h)}`:"";return`${hB(n)}?${pu(u).slice(1)}${f}`})}function hB({config:n}){return n.emulator?oy(n,lB):`https://${n.authDomain}/${uB}`}var Uv="webStorageSupport",ny=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ly,this._completeRedirectFn=VV,this._overrideRedirectResult=OV}_openPopup(e,t,r,i){return j(this,null,function*(){var s;po((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let a=yield Ub(e,t,r,zv(),i);return aB(e,a,yT())})}_openRedirect(e,t,r,i){return j(this,null,function*(){yield this._originValidation(e);let s=yield Ub(e,t,r,zv(),i);return yV(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(po(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return j(this,null,function*(){let t=yield tB(e),r=new ty(e);return t.register("authEvent",i=>(Ee(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Uv,{type:Uv},i=>{var s;let a=(s=i?.[0])===null||s===void 0?void 0:s[Uv];a!==void 0&&t(!!a),fo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$V(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uT()||rT()||ay()}},CT=ny;var zb="@firebase/auth",Hb="1.7.9";var ry=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return j(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function fB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pB(n){ro(new Gn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;Ee(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});let h={apiKey:a,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lT(n)},f=new Kv(r,i,s,h);return sV(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ro(new Gn("auth-internal",e=>{let t=_f(e.getProvider("auth").getImmediate());return(r=>new ry(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(zb,Hb,fB(n)),lr(zb,Hb,"esm2017")}var mB=5*60,gB=m0("authIdTokenMaxAge")||mB,$b=null,_B=n=>e=>j(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>gB)return;let i=t?.token;$b!==i&&($b=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function dy(n=lh()){let e=gu(n,"auth");if(e.isInitialized())return e.getImmediate();let t=hT(n,{popupRedirectResolver:CT,persistence:[IT,vT,ly]}),r=m0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let a=_B(s.toString());_T(t,a,()=>a(t.currentUser)),gT(t,u=>a(u))}}let i=f0("auth");return i&&fT(t,`http://${i}`),t}function vB(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}rV({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=ms("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",vB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pB("Browser");var _n=class n{toasts=[];addToast(e,t,r=5e3){let i={type:e,message:t};this.toasts.push(i),setTimeout(()=>this.removeToast(i),r)}removeToast(e){this.toasts=this.toasts.filter(t=>t!==e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})};var yB={authDomain:"carte-bde-373d7.firebaseapp.com",projectId:"carte-bde-373d7",storageBucket:"carte-bde-373d7.appspot.com",messagingSenderId:"981295285127",appId:"1:981295285127:web:bc0d3f7fda264ae3a40922",databaseURL:"https://carte-bde-373d7-default-rtdb.europe-west1.firebasedatabase.app"},Za=class n{constructor(e){this.toastService=e}markersCollection=null;initApp(e){return j(this,null,function*(){let t=it(Ke({},yB),{apiKey:e}),r=P0(t),i=yb(r),s=dy(r);yield uy(s),this.markersCollection=vb(i,"markers")})}getAllMarkers(){return j(this,null,function*(){return Sb(this.markersCollection).then(e=>e.docs)})}addMarker(e){return j(this,null,function*(){yield Mb(this.markersCollection,e).then(()=>{this.toastService.addToast("success","Votre position a bien \xE9t\xE9e ajout\xE9e",5e3)}).catch(t=>{this.toastService.addToast("error",`Une erreur est survenue : 
${t.message}`,5e3)})})}static \u0275fac=function(t){return new(t||n)(be(_n))};static \u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})};var qu=class n{constructor(e){this.databaseService=e}originSelected=new st;destSelected=new st;map;allMakers=new Map;ngOnInit(){this.initMap()}initMap(){let e=new Qt.Point(48.866667,2.333333),t=11,r="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",i='Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors';this.map=Qt.map("map",{zoomSnap:.25}).setView([e.x,e.y],t),Qt.tileLayer(r,{maxZoom:19,minZoom:2,attribution:i}).addTo(this.map);let s=Qt.latLngBounds(Qt.latLng(-75,-180),Qt.latLng(90,180));this.map.setMaxBounds(s),this.map.on("drag",()=>{this.map.panInsideBounds(s,{animate:!1})}),navigator.geolocation.getCurrentPosition(a=>{this.map.setView([a.coords.latitude,a.coords.longitude],13)},()=>{console.warn("Geolocation is not supported or user refused it")}),this.map.zoomControl.remove()}initMarkers(){this.databaseService.getAllMarkers().then(e=>{e.forEach(t=>{if(t.exists()){let r=t.data();this.addMarker(r)}})})}addMarker(e){let t=JSON.stringify({x:e.x,y:e.y});this.allMakers.has(t)?this.updateMarker(t,e):this.createNewMarker(t,e)}updateMarker(e,t){let r=this.allMakers.get(e);r.nameList.push(t.name);let i=r.marker.getIcon();i.options.html=TT(r.nameList.length.toString(),t.color),r.marker.setIcon(i);let s=this.getPopupHtml(t,r.nameList.join(", "));r.marker.setPopupContent(s)}createNewMarker(e,t){let r=TT("",t.color),i=Qt.marker([t.x,t.y],{icon:Qt.divIcon({className:"custom-marker",html:r,iconAnchor:hy.iconAnchor})}).addTo(this.map);this.allMakers.set(e,{marker:i,address:t.address,nameList:[t.name]});let s=this.getPopupHtml(t,t.name);i.bindPopup(s,{className:"custom-popup"}),i.on("popupopen",()=>{let a=i.getPopup()?.getElement();if(a){let u=a.querySelector(".button-origin"),h=a.querySelector(".button-dest");u&&(u.removeEventListener("click",()=>this.handleOriginClick),u.addEventListener("click",()=>this.handleOriginClick(t))),h&&(h.removeEventListener("click",()=>this.handleDestinationClick),h.addEventListener("click",()=>this.handleDestinationClick(t)))}})}handleAddMarkerEvent(e){this.addMarker(e),this.databaseService.addMarker(e)}getPopupHtml(e,t){return`
      <h4>${e.address}</h4>
      <hr />
      <p class="popup-desc">${t}</p>
      <div class="popup-button-container">
        <button class="popup-button button-origin">Partir de</button>
        <button class="popup-button button-dest">Aller \xE0</button>
      </div>
    `}handleOriginClick(e){this.originSelected.emit(e),this.map.closePopup()}handleDestinationClick(e){this.destSelected.emit(e),this.map.closePopup()}static \u0275fac=function(t){return new(t||n)(le(Za))};static \u0275cmp=Hn({type:n,selectors:[["app-map"]],outputs:{originSelected:"originSelected",destSelected:"destSelected"},standalone:!0,features:[qn],decls:1,vars:0,consts:[["id","map"]],template:function(t,r){t&1&&gt(0,"div",0)},styles:["#map[_ngcontent-%COMP%]{width:100%;height:100%}  .custom-marker .marker-number{position:relative;top:-35px;right:-2px;font-size:11px;width:20px;height:20px;text-align:center;color:#fff;font-weight:700}  .leaflet-popup .leaflet-popup-content-wrapper,   .leaflet-popup .leaflet-popup-tip{background-color:#c48383}  .leaflet-popup-content{display:flex;flex-direction:column;margin:0!important;max-width:180px;padding:10px;overflow:hidden}  .leaflet-popup h4{margin:10px 0 0}  .leaflet-popup hr{border:none;border-bottom:1px solid black;width:100%;margin-bottom:13px}  .leaflet-popup p.popup-desc{margin:0}  .popup-button-container{display:flex;justify-content:center;gap:10px;margin-top:10px}  .popup-button{border-radius:10px;padding:3px 7px;background-color:#ffffff62;font-weight:700;color:#000;border-color:#000}"]})},hy={iconSize:[25,35],iconAnchor:new Qt.Point(19,35)};function TT(n,e="red"){return`<img src="${`assets/marker_${e}${n===""?"":"_full"}.png`}" width="${hy.iconSize[0]}" height="${hy.iconSize[1]}"/>
	<div class="marker-number">${n}</div>`}var FT=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(le(es),le(sr))}}static{this.\u0275dir=Mt({type:n})}}return n})(),LT=(()=>{class n extends FT{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=mg(n)))(i||n)}})()}static{this.\u0275dir=Mt({type:n,features:[kr]})}}return n})(),vy=new we("");var EB={provide:vy,useExisting:Zi(()=>_o),multi:!0};function wB(){let n=Ea()?Ea().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var xB=new we(""),_o=(()=>{class n extends FT{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!wB())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(le(es),le(sr),le(xB,8))}}static{this.\u0275dir=Mt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ye("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[_a([EB]),kr]})}}return n})();function mo(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function VT(n){return n!=null&&typeof n.length=="number"}var yy=new we(""),BT=new we(""),IB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Gr=class{static min(e){return DB(e)}static max(e){return CB(e)}static required(e){return jT(e)}static requiredTrue(e){return bB(e)}static email(e){return TB(e)}static minLength(e){return AB(e)}static maxLength(e){return SB(e)}static pattern(e){return MB(e)}static nullValidator(e){return wf(e)}static compose(e){return GT(e)}static composeAsync(e){return KT(e)}};function DB(n){return e=>{if(mo(e.value)||mo(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function CB(n){return e=>{if(mo(e.value)||mo(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function jT(n){return mo(n.value)?{required:!0}:null}function bB(n){return n.value===!0?null:{required:!0}}function TB(n){return mo(n.value)||IB.test(n.value)?null:{email:!0}}function AB(n){return e=>mo(e.value)||!VT(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function SB(n){return e=>VT(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function MB(n){if(!n)return wf;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(mo(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function wf(n){return null}function UT(n){return n!=null}function zT(n){return eu(n)?Vo(n):n}function HT(n){let e={};return n.forEach(t=>{e=t!=null?Ke(Ke({},e),t):e}),Object.keys(e).length===0?null:e}function $T(n,e){return e.map(t=>t(n))}function PB(n){return!n.validate}function qT(n){return n.map(e=>PB(e)?e:t=>e.validate(t))}function GT(n){if(!n)return null;let e=n.filter(UT);return e.length==0?null:function(t){return HT($T(t,e))}}function WT(n){return n!=null?GT(qT(n)):null}function KT(n){if(!n)return null;let e=n.filter(UT);return e.length==0?null:function(t){let r=$T(t,e).map(zT);return Hp(r).pipe(mn(HT))}}function ZT(n){return n!=null?KT(qT(n)):null}function AT(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function QT(n){return n._rawValidators}function YT(n){return n._rawAsyncValidators}function fy(n){return n?Array.isArray(n)?n:[n]:[]}function xf(n,e){return Array.isArray(n)?n.includes(e):n===e}function ST(n,e){let t=fy(e);return fy(n).forEach(i=>{xf(t,i)||t.push(i)}),t}function MT(n,e){return fy(e).filter(t=>!xf(n,t))}var If=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=WT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ZT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ja=class extends If{get formDirective(){return null}get path(){return null}},Xa=class extends If{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Df=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},NB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},gz=it(Ke({},NB),{"[class.ng-submitted]":"isSubmitted"}),tc=(()=>{class n extends Df{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(le(Xa,2))}}static{this.\u0275dir=Mt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&qd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[kr]})}}return n})(),nc=(()=>{class n extends Df{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(le(Ja,10))}}static{this.\u0275dir=Mt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&qd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[kr]})}}return n})();var Wu="VALID",yf="INVALID",Qa="PENDING",Ku="DISABLED",go=class{},Cf=class extends go{constructor(e,t){super(),this.value=e,this.source=t}},Zu=class extends go{constructor(e,t){super(),this.pristine=e,this.source=t}},Qu=class extends go{constructor(e,t){super(),this.touched=e,this.source=t}},Ya=class extends go{constructor(e,t){super(),this.status=e,this.source=t}},py=class extends go{constructor(e){super(),this.source=e}},my=class extends go{constructor(e){super(),this.source=e}};function Ey(n){return(Sf(n)?n.validators:n)||null}function RB(n){return Array.isArray(n)?WT(n):n||null}function wy(n,e){return(Sf(e)?e.asyncValidators:n)||null}function kB(n){return Array.isArray(n)?ZT(n):n||null}function Sf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function JT(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Ae(1e3,"");if(!r[t])throw new Ae(1001,"")}function XT(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Ae(1002,"")})}var ec=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=tu(()=>this.statusReactive()),this.statusReactive=Jc(void 0),this._pristine=tu(()=>this.pristineReactive()),this.pristineReactive=Jc(!0),this._touched=tu(()=>this.touchedReactive()),this.touchedReactive=Jc(!1),this._events=new br,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return mi(this.statusReactive)}set status(e){mi(()=>this.statusReactive.set(e))}get valid(){return this.status===Wu}get invalid(){return this.status===yf}get pending(){return this.status==Qa}get disabled(){return this.status===Ku}get enabled(){return this.status!==Ku}get pristine(){return mi(this.pristineReactive)}set pristine(e){mi(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return mi(this.touchedReactive)}set touched(e){mi(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ST(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ST(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(MT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(MT(e,this._rawAsyncValidators))}hasValidator(e){return xf(this._rawValidators,e)}hasAsyncValidator(e){return xf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(it(Ke({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Qu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Qu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(it(Ke({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Zu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Zu(!0,r))}markAsPending(e={}){this.status=Qa;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ya(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(it(Ke({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ku,this.errors=null,this._forEachChild(i=>{i.disable(it(Ke({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cf(this.value,r)),this._events.next(new Ya(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(it(Ke({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Wu,this._forEachChild(r=>{r.enable(it(Ke({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(it(Ke({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wu||this.status===Qa)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cf(this.value,t)),this._events.next(new Ya(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(it(Ke({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ku:Wu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Qa,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=zT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ya(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new st,this.statusChanges=new st}_calculateStatus(){return this._allControlsDisabled()?Ku:this.errors?yf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qa)?Qa:this._anyControlsHaveStatus(yf)?yf:Wu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Zu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Qu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=RB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=kB(this._rawAsyncValidators)}},bf=class extends ec{constructor(e,t,r){super(Ey(t),wy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){XT(this,!0,e),Object.keys(e).forEach(r=>{JT(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var gy=class extends bf{};var xy=new we("CallSetDisabledState",{providedIn:"root",factory:()=>Mf}),Mf="always";function OB(n,e){return[...e.path,n]}function PT(n,e,t=Mf){Iy(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),LB(n,e),BB(n,e),VB(n,e),FB(n,e)}function NT(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Af(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Tf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function FB(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Iy(n,e){let t=QT(n);e.validator!==null?n.setValidators(AT(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=YT(n);e.asyncValidator!==null?n.setAsyncValidators(AT(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Tf(e._rawValidators,i),Tf(e._rawAsyncValidators,i)}function Af(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=QT(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(a=>a!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=YT(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(a=>a!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return Tf(e._rawValidators,r),Tf(e._rawAsyncValidators,r),t}function LB(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&eA(n,e)})}function VB(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&eA(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function eA(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function BB(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function jB(n,e){n==null,Iy(n,e)}function UB(n,e){return Af(n,e)}function zB(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function HB(n){return Object.getPrototypeOf(n.constructor)===LT}function $B(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function qB(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===_o?t=s:HB(s)?r=s:i=s}),i||r||t||null}function GB(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function RT(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function kT(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Ef=class extends ec{constructor(e=null,t,r){super(Ey(t),wy(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(kT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){RT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){RT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){kT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var WB=n=>n instanceof Ef;var rc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Mt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var KB={provide:vy,useExisting:Zi(()=>Dy),multi:!0};var ZB=(()=>{class n{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Dy=(()=>{class n extends LT{constructor(t,r,i,s){super(t,r),this._registry=i,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Ce(xy,{optional:!0})??Mf}ngOnInit(){this._control=this._injector.get(Xa),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(r){return new(r||n)(le(es),le(sr),le(ZB),le(Go))}}static{this.\u0275dir=Mt({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&Ye("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[_a([KB]),kr]})}}return n})();var tA=new we("");var QB={provide:Ja,useExisting:Zi(()=>ys)},ys=(()=>{class n extends Ja{get submitted(){return mi(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=tu(()=>this._submittedReactive()),this._submittedReactive=Jc(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new st,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Af(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return PT(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){NT(t.control||null,t,!1),GB(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),$B(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new py(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new my(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(NT(r||null,t),WB(i)&&(PT(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);jB(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&UB(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Iy(this.form,this),this._oldForm&&Af(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(le(yy,10),le(BT,10),le(xy,8))}}static{this.\u0275dir=Mt({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ye("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_a([QB]),kr,ha]})}}return n})();var YB={provide:Xa,useExisting:Zi(()=>Es)},Es=(()=>{class n extends Xa{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new st,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=qB(this,s)}ngOnChanges(t){this._added||this._setUpControl(),zB(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return OB(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(le(Ja,13),le(yy,10),le(BT,10),le(vy,10),le(tA,8))}}static{this.\u0275dir=Mt({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[_a([YB]),kr,ha]})}}return n})();var JB=(()=>{class n{constructor(){this._validator=wf}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):wf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Mt({type:n,features:[ha]})}}return n})();var XB={provide:yy,useExisting:Zi(()=>ws),multi:!0};var ws=(()=>{class n extends JB{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Gg,this.createValidator=t=>jT}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=mg(n)))(i||n)}})()}static{this.\u0275dir=Mt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Xc("required",i._enabled?"":null)},inputs:{required:"required"},features:[_a([XB]),kr]})}}return n})();var e4=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qo({type:n})}static{this.\u0275inj=Zo({})}}return n})(),_y=class extends ec{constructor(e,t,r){super(Ey(t),wy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){XT(this,!1,e),e.forEach((r,i)=>{JT(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function OT(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var ic=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),s={};return OT(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new bf(i,s)}record(t,r=null){let i=this._reduceControls(t);return new gy(i,r)}control(t,r,i){let s={};return this.useNonNullable?(OT(r)?s=r:(s.validators=r,s.asyncValidators=i),new Ef(t,it(Ke({},s),{nonNullable:!0}))):new Ef(t,r,i)}array(t,r,i){let s=t.map(a=>this._createControl(a));return new _y(s,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Ef)return t;if(t instanceof ec)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(r,i,s)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var oc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:tA,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:xy,useValue:t.callSetDisabledState??Mf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qo({type:n})}static{this.\u0275inj=Zo({imports:[e4]})}}return n})();var nA=Tp(c0());var sc=class n{constructor(e){this.http=e}BASE_GOUV_URL="https://api-adresse.data.gouv.fr/search/?limit=5";BASE_NOMINATIM_URL="https://nominatim.openstreetmap.org/search?format=geojson&limit=1";getSuggestions(e){if(e.length<3)return Ks();let t=`${this.BASE_GOUV_URL}&q=${e}`;return this.http.get(t)}getPosition(e){return new Promise((t,r)=>{this.http.get(`${this.BASE_NOMINATIM_URL}&q=${e}`).subscribe({next:i=>{if(i.features.length>0){let s=new nA.Point(parseFloat(i.features[0].geometry.coordinates[1].toString()),parseFloat(i.features[0].geometry.coordinates[0].toString()));t(s)}else r(new Error("Aucune adresse ne correspond \xE0 votre recherche"))},error:i=>{console.log("Error: ",i),r(i)}})})}static \u0275fac=function(t){return new(t||n)(be(cu))};static \u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})};function t4(n,e){if(n&1){let t=pi();he(0,"div",17),Ye("click",function(){let i=rn(t).$implicit,s=Je();return on(s.selectSuggestion(i))})("keydown.enter",function(){let i=rn(t).$implicit,s=Je();return on(s.selectSuggestion(i))}),ut(1),xe()}if(n&2){let t=e.$implicit;Ve(),Tn(" ",t," ")}}var Pf=class n{constructor(e,t,r){this.fb=e;this.toastService=t;this.addressService=r;this.addMarkerForm=this.fb.group({name:["",Gr.required],address:["",Gr.required],country:["france"]}),this.addMarkerForm.get("country")?.valueChanges.subscribe(i=>{this.isFrance=i==="france",this.isFrance||(this.suggestions=[])})}addMarkerForm;suggestions=[];isFrance=!0;addMarkerEvent=new st;closeFormEvent=new st;handleSuggestions(){if(!this.isFrance)return;let e=this.addMarkerForm.value.address.trim();if(e.length<3){this.suggestions=[];return}this.addressService.getSuggestions(e).pipe().subscribe({next:r=>{this.suggestions=r.features.map(i=>i.properties.label)},error:r=>{console.log("Error:",r)}})}selectSuggestion(e){this.addMarkerForm.controls.address.setValue(e),this.suggestions=[]}onSubmit(){if(this.addMarkerForm.valid){let e=this.addMarkerForm.value;this.addressService.getPosition(e.address).then(t=>{this.addMarkerEvent.emit({name:e.name,address:e.address,x:t.x,y:t.y})}).catch(t=>{this.toastService.addToast("error",t.message,5e3)})}}onClose(){this.closeFormEvent.emit()}static \u0275fac=function(t){return new(t||n)(le(ic),le(_n),le(sc))};static \u0275cmp=Hn({type:n,selectors:[["app-map-form"]],outputs:{addMarkerEvent:"addMarkerEvent",closeFormEvent:"closeFormEvent"},standalone:!0,features:[qn],decls:26,vars:2,consts:[["id","form-container","tabindex","0",3,"click","keydown.escape"],["id","add-marker-form",3,"ngSubmit","click","keydown.escape","formGroup"],["id","form-title"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name","placeholder","John Doe","required","","autocomplete","name"],["for","address"],["type","radio","formControlName","country","id","address-france","value","france"],["for","address-france"],["type","radio","formControlName","country","id","address-other","value","autre"],["for","address-other"],["type","text","id","address","formControlName","address","placeholder","Adresse, Ville","required","","autocomplete","address-level1",3,"input"],["id","suggestions"],["class","suggestion-elem","tabindex","1",3,"click","keydown.enter",4,"ngFor","ngForOf"],["id","form-submit"],["type","button","id","annuler","value","Annuler",1,"form-button",3,"click"],["type","submit","id","add-marker-submit",1,"form-button"],["tabindex","1",1,"suggestion-elem",3,"click","keydown.enter"]],template:function(t,r){t&1&&(he(0,"div",0),Ye("click",function(){return r.onClose()})("keydown.escape",function(){return r.onClose()}),he(1,"form",1),Ye("ngSubmit",function(){return r.onSubmit()})("click",function(s){return s.stopPropagation()})("keydown.escape",function(s){return s.stopPropagation()}),he(2,"h3",2),ut(3,"Ajoutez votre marqueur"),xe(),he(4,"div",3)(5,"label",4),ut(6,"Ton blaze :"),xe(),gt(7,"input",5),xe(),he(8,"div",3)(9,"label",6),ut(10,"Ton adresse :"),xe(),he(11,"div")(12,"div"),gt(13,"input",7),he(14,"label",8),ut(15,"France"),xe(),gt(16,"input",9),he(17,"label",10),ut(18,"Autre"),xe()()(),he(19,"input",11),Ye("input",function(){return r.handleSuggestions()}),xe(),he(20,"div",12),sn(21,t4,2,1,"div",13),xe()(),he(22,"div",14)(23,"input",15),Ye("click",function(){return r.onClose()}),xe(),he(24,"button",16),ut(25," Ajouter "),xe()()()()),t&2&&(Ve(),ct("formGroup",r.addMarkerForm),Ve(20),ct("ngForOf",r.suggestions))},dependencies:[oc,rc,_o,Dy,tc,nc,ws,ys,Es,cr,wa],styles:["#form-container[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;align-items:center;justify-content:center;width:100%;height:100%}#add-marker-form[_ngcontent-%COMP%]{display:flex;z-index:2000;flex-direction:column;background-color:#abc392;padding:20px 30px;border:1px solid gray;border-radius:10px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:10px}#form-submit[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:space-around;margin-top:25px}#form-title[_ngcontent-%COMP%]{margin-top:0}#suggestions[_ngcontent-%COMP%]{background-color:#d3d3d3;width:300px}.suggestion-elem[_ngcontent-%COMP%]{margin:3px 3px 0;padding:3px;background-color:#fff;cursor:pointer;font-size:small}.suggestion-elem[_ngcontent-%COMP%]:last-child{margin:3px}"]})};function n4(n,e){if(n&1){let t=pi();he(0,"div",2)(1,"div",3),Ye("click",function(){let i=rn(t).$implicit,s=Je();return on(s.remove(i))})("keydown.enter",function(){let i=rn(t).$implicit,s=Je();return on(s.remove(i))}),ut(2," \xD7 "),xe(),gt(3,"span",4),he(4,"div",5),Ye("click",function(){let i=rn(t).$implicit,s=Je();return on(s.remove(i))})("keypress.enter",function(){let i=rn(t).$implicit,s=Je();return on(s.remove(i))}),ut(5),xe()()}if(n&2){let t=e.$implicit;ct("ngClass",t.type),Ve(5),Tn(" ",t.message," ")}}var Nf=class n{constructor(e){this.toastService=e}remove(e){this.toastService.removeToast(e)}static \u0275fac=function(t){return new(t||n)(le(_n))};static \u0275cmp=Hn({type:n,selectors:[["app-toast"]],standalone:!0,features:[qn],decls:2,vars:1,consts:[["id","toaster"],["class","toast",3,"ngClass",4,"ngFor","ngForOf"],[1,"toast",3,"ngClass"],["tabindex","0",1,"toast-close",3,"click","keydown.enter"],[1,"toast-separator"],["tabindex","1",1,"toast-body",3,"click","keypress.enter"]],template:function(t,r){t&1&&(he(0,"div",0),sn(1,n4,6,2,"div",1),xe()),t&2&&(Ve(),ct("ngForOf",r.toastService.toasts))},dependencies:[cr,qI,wa],styles:["#toaster[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;z-index:9999}.toast[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;margin-top:8px;padding:10px 20px;border-radius:8px;color:#fff}.toast-close[_ngcontent-%COMP%]{cursor:pointer}.toast-separator[_ngcontent-%COMP%]{margin:0 15px;border:1px solid rgb(220,220,220)}.toast.error[_ngcontent-%COMP%]{background-color:#d32727}.toast.warning[_ngcontent-%COMP%]{background-color:#b8821e}.toast.success[_ngcontent-%COMP%]{background-color:#1e921e}@media (width <= 750px){.toast[_ngcontent-%COMP%]{font-size:small}}"]})};var Wr=Tp(h1());var f1={ciphertext:"5466e0fd34ac523bf8efa977854afda752d45de5fd5fabf6052e0a922bd41263262a336314d9707d8714e9fb7a3c29b5ba8acaa9851162bcac589d86a45b715ace33c5c5f3f3bd26e26b0544fec260647afdc3e6b1281f0bb58170696b95e3f6d9b238750711dceaea2447335d2e0a4b2920151c1606034185c0adf6c79b905bc68255c571aae8a4b5ce60ed8be58b88",iv:"5a2f327ad12cac0dddc984458b2e2340",salt:"f1ce9d7b217f95b3a3b68fb2e172848b"},r4={ciphertext:"c8650931d7a8f62e2516f164b9822370dd3fb5711d7025f87a768336b48165330a6019618410fb41267d3035b7f6fd59",iv:"c1392da85a93493da52dae8f496b811c",salt:"234d1f9d40c88b74ff0c13758ca3361f"},i4={ciphertext:"888113fb8a080d9eda0f7f8a07f758fd18dff3d66dc5b3f9459744bd09d0c5ebafdc4c992b9123b216ad797999237665",iv:"5e5059e8fb00980d6a8f9525df371009",salt:"2315578498f2448bf75da885f8779bfe"},Ay="cachedPasswordFriendsMap",_p=class n{constructor(e,t){this.fb=e;this.toastService=t;this.getPwdForm=this.fb.group({password:["",Gr.required]})}getPwdForm;sendPasswordEvent=new st;ngOnInit(){this.checkCachedPassword()}checkCachedPassword(){try{let e=localStorage.getItem(Ay);if(e!=null){let t=this.decryptApiKey(f1,e);this.decryptAndSendKeys(t),this.toastService.addToast("success","Mot de passe r\xE9cup\xE9r\xE9 depuis le cache")}}catch{localStorage.removeItem(Ay)}}onSubmit(){let e=this.getPwdForm.value;try{let t=this.decryptApiKey(f1,e.password);this.decryptAndSendKeys(t),localStorage.setItem(Ay,e.password)}catch{this.toastService.addToast("error","Le mot de passe est incorrect")}}decryptAndSendKeys(e){try{let t=this.decryptApiKey(r4,e),r=this.decryptApiKey(i4,e);this.sendPasswordEvent.emit({firebaseApiKey:t,IDFMobiApiKey:r})}catch{this.toastService.addToast("error","Le mot de passe est incorrect")}}decryptApiKey(e,t){let r=o4(e,t);if(r===null)throw console.error("Decryption failed"),new Error;return r}static \u0275fac=function(t){return new(t||n)(le(ic),le(_n))};static \u0275cmp=Hn({type:n,selectors:[["app-get-pwd"]],outputs:{sendPasswordEvent:"sendPasswordEvent"},standalone:!0,features:[qn],decls:10,vars:1,consts:[["id","get-pwd-form-container"],["id","get-pwd-form",3,"ngSubmit","formGroup"],["id","form-title"],["id","get-pwd-form-content"],[1,"form-group"],["type","password","id","password","formControlName","password","required",""],["id","get-pwd-form-submit"],["type","submit","id","get-pwd-submit",1,"form-button"]],template:function(t,r){t&1&&(he(0,"div",0)(1,"form",1),Ye("ngSubmit",function(){return r.onSubmit()}),he(2,"h3",2),ut(3,"Entrez le mot de passe pour acceder au site"),xe(),he(4,"div",3)(5,"div",4),gt(6,"input",5),xe(),he(7,"div",6)(8,"button",7),ut(9," Envoyer "),xe()()()()()),t&2&&(Ve(),ct("formGroup",r.getPwdForm))},dependencies:[oc,rc,_o,tc,nc,ws,ys,Es,cr],styles:["#get-pwd-form-container[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;align-items:center;justify-content:center;width:100%;height:100%;z-index:3000}#get-pwd-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#abc392;padding:20px 30px;border:1px solid gray;border-radius:10px}#form-title[_ngcontent-%COMP%]{margin-top:0}#get-pwd-form-content[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row}#get-pwd-form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin:0;padding-right:10px;flex-direction:column}"]})};function o4(n,e){let t=Wr.default.enc.Hex.parse(n.salt),r=Wr.default.enc.Hex.parse(n.iv),i=Wr.default.enc.Hex.parse(n.ciphertext),s=Wr.default.PBKDF2(e,t,{keySize:256/32,iterations:1e4}),a=Wr.default.lib.CipherParams.create({ciphertext:i,iv:r});return Wr.default.AES.decrypt(a,s,{iv:r,mode:Wr.default.mode.CBC,padding:Wr.default.pad.Pkcs7}).toString(Wr.default.enc.Utf8)||null}var ac=class n{constructor(e){this.http=e}API_KEY=null;API_URL="https://prim.iledefrance-mobilites.fr/marketplace/v2/navitia/journeys?count=4&traveler_type=fast_walker";initApp(e){this.API_KEY=e}getJourneys(e,t){if(!this.API_KEY)throw new Error("API key not initialized");let r=`${this.API_URL}&from=${e.y};${e.x}&to=${t.y};${t.x}`,i=new ur({Apikey:this.API_KEY});return this.http.get(r,{headers:i})}static \u0275fac=function(t){return new(t||n)(be(cu))};static \u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})};var m1=n=>[n];function s4(n,e){if(n&1&&(ts(0),he(1,"span",24),gt(2,"img",25),he(3,"span",26),ut(4),xe()(),ns()),n&2){let t=Je(2).$implicit;Ve(3),ga("background-color","#"+t.display_informations.color)("color","#"+t.display_informations.text_color),Ve(),Tn(" ",t.display_informations.label," ")}}function a4(n,e){if(n&1&&(he(0,"span",24),gt(1,"img",30),he(2,"span",26),ut(3),xe()()),n&2){let t=Je(3).$implicit;Ve(2),ga("background-color","#"+t.display_informations.color)("color","#"+t.display_informations.text_color),Ve(),Tn(" ",t.display_informations.label," ")}}function c4(n,e){if(n&1&&(he(0,"span",24),gt(1,"img",31),he(2,"span",26),ut(3),xe()()),n&2){let t=Je(3).$implicit;Ve(2),ga("background-color","#"+t.display_informations.color)("color","#"+t.display_informations.text_color),Ve(),Tn(" ",t.display_informations.label," ")}}function u4(n,e){if(n&1&&(he(0,"span",24),ut(1),xe()),n&2){let t=Je(3).$implicit;Ve(),Ug(" ",t.display_informations.commercial_mode," ",t.display_informations.label," ")}}function l4(n,e){if(n&1&&(ts(0,27),sn(1,a4,4,5,"span",28)(2,c4,4,5,"span",28)(3,u4,2,2,"span",29),ns()),n&2){let t=Je(2).$implicit;ct("ngSwitch",t.display_informations.commercial_mode),Ve(),ct("ngSwitchCase","Bus"),Ve(),ct("ngSwitchCase","M\xE9tro")}}function d4(n,e){if(n&1&&(ts(0),sn(1,s4,5,5,"ng-container",23)(2,l4,4,3,"ng-template",null,1,Hg),ns()),n&2){let t=Bg(3),r=Je().$implicit,i=Je(2);Ve(),ct("ngIf",i.isTrain(r.display_informations.commercial_mode))("ngIfElse",t)}}function h4(n,e){if(n&1&&(he(0,"span",22),gt(1,"img",33),he(2,"sub",34),ut(3),xe()()),n&2){let t=Je(2).$implicit,r=Je(2);Ve(3),jg(r.durationToMinutes(t.duration))}}function f4(n,e){if(n&1&&(ts(0,27),sn(1,h4,4,1,"span",32),ns()),n&2){let t=Je().$implicit;ct("ngSwitch",t.mode),Ve(),ct("ngSwitchCase","walking")}}function p4(n,e){if(n&1&&(ts(0,22),sn(1,d4,4,2,"ng-container",23)(2,f4,2,2,"ng-template",null,0,Hg),ut(4," > "),ns()),n&2){let t=e.$implicit,r=Bg(3);Ve(),ct("ngIf",t.type==="public_transport")("ngIfElse",r)}}function m4(n,e){if(n&1){let t=pi();he(0,"span",35),Ye("click",function(){rn(t);let i=Je().$implicit,s=Je();return on(s.displayWarning(i.status))})("keydown",function(){rn(t);let i=Je().$implicit,s=Je();return on(s.displayWarning(i.status))}),gt(1,"img",36),xe()}if(n&2){let t=Je().$implicit;Xc("title",t.status)}}function g4(n,e){if(n&1&&(he(0,"div",15)(1,"div",16)(2,"div",17)(3,"span"),ut(4),sn(5,p4,5,2,"ng-container",18),ut(6),he(7,"span",19),gt(8,"img",20),ut(9),xe(),sn(10,m4,2,1,"span",21),xe()()()()),n&2){let t=e.$implicit,r=Je();Ve(4),Tn(" ",r.formatTime(t.departure_date_time)," > "),Ve(),ct("ngForOf",t.sections),Ve(),Tn(" ",r.formatTime(t.arrival_date_time)," "),Ve(3),Tn(" ",r.formatDuration(t.duration)," "),Ve(),ct("ngIf",t.status)}}var Ju=class n{constructor(e,t,r,i){this.fb=e;this.toastService=t;this.journeyService=r;this.addressService=i;this.addJourneyForm=this.fb.group({origin:["",Gr.required],dest:["",Gr.required]})}addJourneyForm;origin=null;dest=null;results=[];closeJourneyFormEvent=new st;ngOnInit(){this.addJourneyForm.get("origin")?.valueChanges.subscribe(e=>{e&&(this.origin=null)}),this.addJourneyForm.get("dest")?.valueChanges.subscribe(e=>{e&&(this.dest=null)})}handleOriginSelected(e){this.origin=e,this.results=[]}handleDestSelected(e){this.dest=e,this.results=[]}toggleSearch(){return j(this,null,function*(){yield this.handleUserInputs(),this.origin&&this.dest?this.origin.name===this.dest.name?this.toastService.addToast("error","Les deux points de d\xE9part et d'arriv\xE9e sont identiques"):this.journeyService.getJourneys(this.origin,this.dest).subscribe({next:e=>{this.handleResults(e)},error:e=>{this.toastService.addToast("error",`Une erreur est survenue : 
${e.message}`)}}):this.toastService.addToast("error","Veuillez s\xE9lectionner un point de d\xE9part et un point d'arriv\xE9e")})}handleUserInputs(){return j(this,null,function*(){if(!this.origin){let e=this.addJourneyForm.get("origin")?.value;yield this.addressService.getPosition(e).then(t=>{this.origin={name:"User search",address:e,x:t.x,y:t.y}}).catch(t=>{this.toastService.addToast("error",`Une erreur est survenue : 
${t.message}`)})}if(!this.dest){let e=this.addJourneyForm.get("dest")?.value;yield this.addressService.getPosition(e).then(t=>{this.dest={name:"User search",address:e,x:t.x,y:t.y}}).catch(t=>{this.toastService.addToast("error",`Une erreur est survenue : 
${t.message}`)})}})}handleResults(e){let t=e.journeys;t.forEach(r=>{r.sections=r.sections.filter(i=>i.type==="public_transport"||i.mode==="walking")}),t.pop(),console.info("API results: ",t),this.results=t}onClose(){this.closeJourneyFormEvent.emit()}formatTime(e){let t=`${e.slice(0,4)}-${e.slice(4,6)}-${e.slice(6,8)}T${e.slice(9,11)}:${e.slice(11,13)}:${e.slice(13,15)}`;return new Date(t).toLocaleTimeString([],{hourCycle:"h23",hour:"2-digit",minute:"2-digit"})}formatDuration(e){let t=Math.floor(e/3600),r=Math.floor(e%3600/60),i=e%60,s=t>0?`${t}h`:"",a=r>0||t>0&&i>0?(t>0?String(r).padStart(2,"0"):r)+"min":"";return`${s}${a}`.trim()}durationToMinutes(e){return Math.floor(e/60)}isTrain(e){return e.startsWith("Train")||e==="RER"}displayWarning(e){this.toastService.addToast("warning",e)}static \u0275fac=function(t){return new(t||n)(le(ic),le(_n),le(ac),le(sc))};static \u0275cmp=Hn({type:n,selectors:[["app-journey-form"]],outputs:{closeJourneyFormEvent:"closeJourneyFormEvent"},standalone:!0,features:[qn],decls:15,vars:8,consts:[["defaultMode",""],["otherModes",""],["id","form-journey-container","tabindex","0",3,"click","keydown.escape"],["id","add-journey-form",3,"click","keydown.escape","formGroup"],["id","journey-form-header"],["id","form-title"],["id","close-form","title","Close",1,"menu-button",3,"click"],["id","journey-content-container"],["id","journey-inputs-container"],[1,"form-journey-group"],["type","text","id","journey-origin","formControlName","origin","placeholder","D\xE9part (choisissez un marqueur ou entrez une adresse)","required","",3,"value"],["type","text","id","journey-dest","formControlName","dest","placeholder","Arriv\xE9e (choisissez un marqueur ou entrez une adresse)","required","",3,"value"],["type","button","id","search-journey","title","Search",1,"menu-button",3,"click"],["id","results"],["class","result-elem","tabindex","1",4,"ngFor","ngForOf"],["tabindex","1",1,"result-elem"],[1,"object"],[1,"result-timeline"],["class","result-section",4,"ngFor","ngForOf"],[1,"additionnal-info","mode-and-code"],["src","assets/clock.png","alt","Clock",1,"icon"],["class","additionnal-info","tabindex","2",3,"click","keydown",4,"ngIf"],[1,"result-section"],[4,"ngIf","ngIfElse"],[1,"mode-and-code"],["src","assets/train.png","alt","Train",1,"icon"],[1,"with-bg-color"],[3,"ngSwitch"],["class","mode-and-code",4,"ngSwitchCase"],["class","mode-and-code",4,"ngSwitchDefault"],["src","assets/bus.png","alt","Bus",1,"icon"],["src","assets/metro.png","alt","Metro",1,"icon"],["class","result-section",4,"ngSwitchCase"],["src","assets/walking.png","alt","Walking",1,"walking-icon"],[1,"walking-sub"],["tabindex","2",1,"additionnal-info",3,"click","keydown"],["src","assets/warning.png","alt","Warning",1,"icon"]],template:function(t,r){t&1&&(he(0,"div",2),Ye("click",function(){return r.onClose()})("keydown.escape",function(){return r.onClose()}),he(1,"form",3),Ye("click",function(s){return s.stopPropagation()})("keydown.escape",function(s){return s.stopPropagation()}),he(2,"div",4)(3,"h3",5),ut(4,"Planifiez votre trajet"),xe(),he(5,"button",6),Ye("click",function(){return r.onClose()}),xe()(),he(6,"div",7)(7,"div",8)(8,"div",9),gt(9,"input",10),xe(),he(10,"div",9),gt(11,"input",11),xe()(),he(12,"input",12),Ye("click",function(){return r.toggleSearch()}),xe()(),he(13,"div",13),sn(14,g4,11,5,"div",14),xe()()()),t&2&&(Ve(),ct("formGroup",r.addJourneyForm),Ve(8),Gd("value",zg(4,m1,r.origin==null?null:r.origin.address)),Ve(2),Gd("value",zg(6,m1,r.dest==null?null:r.dest.address)),Ve(3),ct("ngForOf",r.results))},dependencies:[oc,rc,_o,tc,nc,ws,ys,Es,cr,wa,Qd,Yd,GI,WI],styles:['#form-journey-container[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;justify-content:center;align-items:start;width:100%}#journey-form-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}#close-form[_ngcontent-%COMP%]{margin:0;padding:0;border:none;background:none;cursor:pointer}#close-form[_ngcontent-%COMP%]:after{content:"\\d7";font-size:2em;color:#000}#add-journey-form[_ngcontent-%COMP%]{display:flex;z-index:2000;flex-direction:column;background-color:#abc392;border:1px solid gray;border-radius:10px;padding:10px 15px;min-width:75%}.form-journey-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:2px}#form-submit[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:space-around;margin-top:25px}#form-title[_ngcontent-%COMP%]{margin-top:0;margin-bottom:5px}#journey-content-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;min-width:100%;gap:5px;align-items:center}#journey-inputs-container[_ngcontent-%COMP%]{flex-grow:1;width:100%}#search-journey[_ngcontent-%COMP%]{background-image:url("./media/arrows-right-ELRGLFEH.png");background-repeat:no-repeat;background-size:50%;background-position:center;width:40px;height:40px;padding:5px;background-color:#fff;border-radius:15%;box-shadow:0 2px 2px #00000042;transition:background-color .3s;display:flex;justify-content:center;align-items:center;cursor:pointer}#results[_ngcontent-%COMP%]{margin-top:5px;font-size:large}.result-elem[_ngcontent-%COMP%]{display:flex;margin:5px 0;padding:10px;background-color:#d4e6b5;border-radius:5px}.result-section[_ngcontent-%COMP%]{vertical-align:middle}.icon[_ngcontent-%COMP%]{width:20px;height:20px;vertical-align:middle}.walking-icon[_ngcontent-%COMP%]{width:12px;height:18px;vertical-align:middle;margin-left:3px}.walking-sub[_ngcontent-%COMP%]{font-size:small;font-weight:700;bottom:-.2em;position:relative}.result-timeline[_ngcontent-%COMP%]{display:flex;justify-content:start;align-items:center}.additionnal-info[_ngcontent-%COMP%]{margin-left:20px}.with-bg-color[_ngcontent-%COMP%]{margin-right:5px;display:inline-block;border:none;border-radius:3em;text-align:center;line-height:1.2em;min-width:1em;padding:.2em .3em}.mode-and-code[_ngcontent-%COMP%]{white-space:nowrap}@media (width <= 750px){#add-journey-form[_ngcontent-%COMP%]{min-width:90%}#results[_ngcontent-%COMP%]{font-size:smaller}.walking-sub[_ngcontent-%COMP%]{font-size:x-small}}']})};function _4(n,e){if(n&1){let t=pi();he(0,"app-get-pwd",8),Ye("sendPasswordEvent",function(i){rn(t);let s=Je();return on(s.handleGetPassword(i))}),xe()}}function v4(n,e){if(n&1){let t=pi();he(0,"app-map-form",9),Ye("addMarkerEvent",function(i){rn(t);let s=Je();return on(s.handleAddMarkerEvent(i))})("closeFormEvent",function(){rn(t);let i=Je();return on(i.closeMapFormEvent())}),xe()}}var vp=class n{constructor(e,t,r){this.databaseService=e;this.journeyService=t;this.toastService=r}showFormMarker=!1;showFormJourney=!1;showPwdForm=!0;mapComponent;journeyFormComponent;toggleFormMarker(){this.showFormMarker=!this.showFormMarker,this.showFormJourney=!1}handleAddMarkerEvent(e){this.mapComponent.handleAddMarkerEvent(e),this.showFormMarker=!1}closeFormMarkerEvent(){this.showFormMarker=!1}toggleJourneyForm(){this.showFormJourney=!this.showFormJourney,this.showFormMarker=!1}closeMapFormEvent(){this.showFormMarker=!1}closeJourneyFormEvent(){this.showFormJourney=!1}handleGetPassword(e){return j(this,null,function*(){this.databaseService.initApp(e.firebaseApiKey).then(()=>{console.log("Successfully authenticated to Firebase"),this.toastService.addToast("success","Bienvenue sur l'application !"),this.showPwdForm=!1,this.mapComponent.initMarkers()}).catch(()=>{console.error("Failed to authenticate to Firebase"),this.toastService.addToast("error","Erreur de communication avec la base de donn\xE9es")}),this.journeyService.initApp(e.IDFMobiApiKey)})}onOriginSelected(e){this.showFormJourney=!0,this.showFormMarker=!1,this.journeyFormComponent.handleOriginSelected(e)}onDestSelected(e){this.showFormJourney=!0,this.showFormMarker=!1,this.journeyFormComponent.handleDestSelected(e)}static \u0275fac=function(t){return new(t||n)(le(Za),le(ac),le(_n))};static \u0275cmp=Hn({type:n,selectors:[["app-root"]],viewQuery:function(t,r){if(t&1&&(Fg(qu,5),Fg(Ju,5)),t&2){let i;Lg(i=Vg())&&(r.mapComponent=i.first),Lg(i=Vg())&&(r.journeyFormComponent=i.first)}},standalone:!0,features:[qn],decls:9,vars:3,consts:[["id","map-container"],["id","menu"],["type","button","id","add-marker","title","Add your marker",1,"menu-button",3,"click"],["type","button","id","journey-planner","title","Plan your journey",1,"menu-button",3,"click"],[3,"originSelected","destSelected"],[3,"sendPasswordEvent",4,"ngIf"],[3,"addMarkerEvent","closeFormEvent",4,"ngIf"],[3,"closeJourneyFormEvent","hidden"],[3,"sendPasswordEvent"],[3,"addMarkerEvent","closeFormEvent"]],template:function(t,r){t&1&&(he(0,"div",0)(1,"div",1)(2,"input",2),Ye("click",function(){return r.toggleFormMarker()}),xe(),he(3,"input",3),Ye("click",function(){return r.toggleJourneyForm()}),xe()(),he(4,"app-map",4),Ye("originSelected",function(s){return r.onOriginSelected(s)})("destSelected",function(s){return r.onDestSelected(s)}),xe()(),sn(5,_4,1,0,"app-get-pwd",5)(6,v4,1,0,"app-map-form",6),he(7,"app-journey-form",7),Ye("closeJourneyFormEvent",function(){return r.closeJourneyFormEvent()}),xe(),gt(8,"app-toast")),t&2&&(Ve(5),ct("ngIf",r.showPwdForm),Ve(),ct("ngIf",r.showFormMarker),Ve(),ct("hidden",!r.showFormJourney))},dependencies:[qu,Pf,Nf,cr,Qd,_p,Ju],styles:['#map-container[_ngcontent-%COMP%]{height:100%;width:100%}#menu[_ngcontent-%COMP%]{position:absolute;z-index:2000}.menu-button[_ngcontent-%COMP%]{position:relative;z-index:2000;width:56px;height:56px;margin:10px;background-color:#fff;border-radius:50%;box-shadow:0 2px 2px #00000042;transition:background-color .3s;display:flex;justify-content:center;align-items:center;cursor:pointer}#add-marker[_ngcontent-%COMP%]{background-image:url("./media/add-icon-FTEUD6CX.png");background-repeat:no-repeat;background-size:70%;background-position:center}#journey-planner[_ngcontent-%COMP%]{background-image:url("./media/journey-BAVW2DXI.png");background-repeat:no-repeat;background-size:70%;background-position:center}@media (width <= 750px){#menu[_ngcontent-%COMP%]{bottom:10px;left:10px;display:flex;flex-direction:column-reverse}.menu-button[_ngcontent-%COMP%]{margin:5px}}']})};var g1={providers:[RI({eventCoalescing:!0}),sD(aD())]};gD(vp,g1).catch(n=>console.error(n));
